#! /bin/sh
# Guess values for system-dependent variables and create Makefiles.
# Generated by GNU Autoconf 2.71 for Valgrind 3.23.0.
#
# Report bugs to <valgrind-users@lists.sourceforge.net>.
#
#
# Copyright (C) 1992-1996, 1998-2017, 2020-2021 Free Software Foundation,
# Inc.
#
#
# This configure script is free software; the Free Software Foundation
# gives unlimited permission to copy, distribute and modify it.
## -------------------- ##
## M4sh Initialization. ##
## -------------------- ##

# Be more Bourne compatible
DUALCASE=1; export DUALCASE # for MKS sh
as_nop=:
if test ${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on ${1+"$@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@"}'='"$@"'
  setopt NO_GLOB_SUBST
else $as_nop
  case `(set -o) 2>/dev/null` in #(
  *posix*) :
    set -o posix ;; #(
  *) :
     ;;
esac
fi



# Reset variables that may have inherited troublesome values from
# the environment.

# IFS needs to be set, to space, tab, and newline, in precisely that order.
# (If _AS_PATH_WALK were called with IFS unset, it would have the
# side effect of setting IFS to empty, thus disabling word splitting.)
# Quoting is to prevent editors from complaining about space-tab.
as_nl='
'
export as_nl
IFS=" ""	$as_nl"

PS1='$ '
PS2='> '
PS4='+ '

# Ensure predictable behavior from utilities with locale-dependent output.
LC_ALL=C
export LC_ALL
LANGUAGE=C
export LANGUAGE

# We cannot yet rely on "unset" to work, but we need these variables
# to be unset--not just set to an empty or harmless value--now, to
# avoid bugs in old shells (e.g. pre-3.0 UWIN ksh).  This construct
# also avoids known problems related to "unset" and subshell syntax
# in other old shells (e.g. bash 2.01 and pdksh 5.2.14).
for as_var in BASH_ENV ENV MAIL MAILPATH CDPATH
do eval test \${$as_var+y} \
  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :
done

# Ensure that fds 0, 1, and 2 are open.
if (exec 3>&0) 2>/dev/null; then :; else exec 0</dev/null; fi
if (exec 3>&1) 2>/dev/null; then :; else exec 1>/dev/null; fi
if (exec 3>&2)            ; then :; else exec 2>/dev/null; fi

# The user is always right.
if ${PATH_SEPARATOR+false} :; then
  PATH_SEPARATOR=:
  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||
      PATH_SEPARATOR=';'
  }
fi


# Find who we are.  Look in the path if we contain no directory separator.
as_myself=
case $0 in #((
  *[\\/]* ) as_myself=$0 ;;
  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    test -r "$as_dir$0" && as_myself=$as_dir$0 && break
  done
IFS=$as_save_IFS

     ;;
esac
# We did not find ourselves, most probably we were run as `sh COMMAND'
# in which case we are not to be found in the path.
if test "x$as_myself" = x; then
  as_myself=$0
fi
if test ! -f "$as_myself"; then
  printf "%s\n" "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
  exit 1
fi


# Use a proper internal environment variable to ensure we don't fall
  # into an infinite loop, continuously re-executing ourselves.
  if test x"${_as_can_reexec}" != xno && test "x$CONFIG_SHELL" != x; then
    _as_can_reexec=no; export _as_can_reexec;
    # We cannot yet assume a decent shell, so we have to provide a
# neutralization value for shells without unset; and this also
# works around shells that cannot unset nonexistent variables.
# Preserve -v and -x to the replacement shell.
BASH_ENV=/dev/null
ENV=/dev/null
(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV
case $- in # ((((
  *v*x* | *x*v* ) as_opts=-vx ;;
  *v* ) as_opts=-v ;;
  *x* ) as_opts=-x ;;
  * ) as_opts= ;;
esac
exec $CONFIG_SHELL $as_opts "$as_myself" ${1+"$@"}
# Admittedly, this is quite paranoid, since all the known shells bail
# out after a failed `exec'.
printf "%s\n" "$0: could not re-execute with $CONFIG_SHELL" >&2
exit 255
  fi
  # We don't want this to propagate to other subprocesses.
          { _as_can_reexec=; unset _as_can_reexec;}
if test "x$CONFIG_SHELL" = x; then
  as_bourne_compatible="as_nop=:
if test \${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on \${1+\"\$@\"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '\${1+\"\$@\"}'='\"\$@\"'
  setopt NO_GLOB_SUBST
else \$as_nop
  case \`(set -o) 2>/dev/null\` in #(
  *posix*) :
    set -o posix ;; #(
  *) :
     ;;
esac
fi
"
  as_required="as_fn_return () { (exit \$1); }
as_fn_success () { as_fn_return 0; }
as_fn_failure () { as_fn_return 1; }
as_fn_ret_success () { return 0; }
as_fn_ret_failure () { return 1; }

exitcode=0
as_fn_success || { exitcode=1; echo as_fn_success failed.; }
as_fn_failure && { exitcode=1; echo as_fn_failure succeeded.; }
as_fn_ret_success || { exitcode=1; echo as_fn_ret_success failed.; }
as_fn_ret_failure && { exitcode=1; echo as_fn_ret_failure succeeded.; }
if ( set x; as_fn_ret_success y && test x = \"\$1\" )
then :

else \$as_nop
  exitcode=1; echo positional parameters were not saved.
fi
test x\$exitcode = x0 || exit 1
blah=\$(echo \$(echo blah))
test x\"\$blah\" = xblah || exit 1
test -x / || exit 1"
  as_suggested="  as_lineno_1=";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested" as_lineno_1a=\$LINENO
  as_lineno_2=";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested" as_lineno_2a=\$LINENO
  eval 'test \"x\$as_lineno_1'\$as_run'\" != \"x\$as_lineno_2'\$as_run'\" &&
  test \"x\`expr \$as_lineno_1'\$as_run' + 1\`\" = \"x\$as_lineno_2'\$as_run'\"' || exit 1
test \$(( 1 + 1 )) = 2 || exit 1"
  if (eval "$as_required") 2>/dev/null
then :
  as_have_required=yes
else $as_nop
  as_have_required=no
fi
  if test x$as_have_required = xyes && (eval "$as_suggested") 2>/dev/null
then :

else $as_nop
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
as_found=false
for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
  as_found=:
  case $as_dir in #(
	 /*)
	   for as_base in sh bash ksh sh5; do
	     # Try only shells that exist, to save several forks.
	     as_shell=$as_dir$as_base
	     if { test -f "$as_shell" || test -f "$as_shell.exe"; } &&
		    as_run=a "$as_shell" -c "$as_bourne_compatible""$as_required" 2>/dev/null
then :
  CONFIG_SHELL=$as_shell as_have_required=yes
		   if as_run=a "$as_shell" -c "$as_bourne_compatible""$as_suggested" 2>/dev/null
then :
  break 2
fi
fi
	   done;;
       esac
  as_found=false
done
IFS=$as_save_IFS
if $as_found
then :

else $as_nop
  if { test -f "$SHELL" || test -f "$SHELL.exe"; } &&
	      as_run=a "$SHELL" -c "$as_bourne_compatible""$as_required" 2>/dev/null
then :
  CONFIG_SHELL=$SHELL as_have_required=yes
fi
fi


      if test "x$CONFIG_SHELL" != x
then :
  export CONFIG_SHELL
             # We cannot yet assume a decent shell, so we have to provide a
# neutralization value for shells without unset; and this also
# works around shells that cannot unset nonexistent variables.
# Preserve -v and -x to the replacement shell.
BASH_ENV=/dev/null
ENV=/dev/null
(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV
case $- in # ((((
  *v*x* | *x*v* ) as_opts=-vx ;;
  *v* ) as_opts=-v ;;
  *x* ) as_opts=-x ;;
  * ) as_opts= ;;
esac
exec $CONFIG_SHELL $as_opts "$as_myself" ${1+"$@"}
# Admittedly, this is quite paranoid, since all the known shells bail
# out after a failed `exec'.
printf "%s\n" "$0: could not re-execute with $CONFIG_SHELL" >&2
exit 255
fi

    if test x$as_have_required = xno
then :
  printf "%s\n" "$0: This script requires a shell more modern than all"
  printf "%s\n" "$0: the shells that I found on your system."
  if test ${ZSH_VERSION+y} ; then
    printf "%s\n" "$0: In particular, zsh $ZSH_VERSION has bugs and should"
    printf "%s\n" "$0: be upgraded to zsh 4.3.4 or later."
  else
    printf "%s\n" "$0: Please tell bug-autoconf@gnu.org and
$0: valgrind-users@lists.sourceforge.net about your system,
$0: including any error possibly output before this
$0: message. Then install a modern shell, or manually run
$0: the script under such a shell if you do have one."
  fi
  exit 1
fi
fi
fi
SHELL=${CONFIG_SHELL-/bin/sh}
export SHELL
# Unset more variables known to interfere with behavior of common tools.
CLICOLOR_FORCE= GREP_OPTIONS=
unset CLICOLOR_FORCE GREP_OPTIONS

## --------------------- ##
## M4sh Shell Functions. ##
## --------------------- ##
# as_fn_unset VAR
# ---------------
# Portably unset VAR.
as_fn_unset ()
{
  { eval $1=; unset $1;}
}
as_unset=as_fn_unset


# as_fn_set_status STATUS
# -----------------------
# Set $? to STATUS, without forking.
as_fn_set_status ()
{
  return $1
} # as_fn_set_status

# as_fn_exit STATUS
# -----------------
# Exit the shell with STATUS, even in a "trap 0" or "set -e" context.
as_fn_exit ()
{
  set +e
  as_fn_set_status $1
  exit $1
} # as_fn_exit
# as_fn_nop
# ---------
# Do nothing but, unlike ":", preserve the value of $?.
as_fn_nop ()
{
  return $?
}
as_nop=as_fn_nop

# as_fn_mkdir_p
# -------------
# Create "$as_dir" as a directory, including parents if necessary.
as_fn_mkdir_p ()
{

  case $as_dir in #(
  -*) as_dir=./$as_dir;;
  esac
  test -d "$as_dir" || eval $as_mkdir_p || {
    as_dirs=
    while :; do
      case $as_dir in #(
      *\'*) as_qdir=`printf "%s\n" "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #'(
      *) as_qdir=$as_dir;;
      esac
      as_dirs="'$as_qdir' $as_dirs"
      as_dir=`$as_dirname -- "$as_dir" ||
$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_dir" : 'X\(//\)[^/]' \| \
	 X"$as_dir" : 'X\(//\)$' \| \
	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X"$as_dir" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
      test -d "$as_dir" && break
    done
    test -z "$as_dirs" || eval "mkdir $as_dirs"
  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"


} # as_fn_mkdir_p

# as_fn_executable_p FILE
# -----------------------
# Test if FILE is an executable regular file.
as_fn_executable_p ()
{
  test -f "$1" && test -x "$1"
} # as_fn_executable_p
# as_fn_append VAR VALUE
# ----------------------
# Append the text in VALUE to the end of the definition contained in VAR. Take
# advantage of any shell optimizations that allow amortized linear growth over
# repeated appends, instead of the typical quadratic growth present in naive
# implementations.
if (eval "as_var=1; as_var+=2; test x\$as_var = x12") 2>/dev/null
then :
  eval 'as_fn_append ()
  {
    eval $1+=\$2
  }'
else $as_nop
  as_fn_append ()
  {
    eval $1=\$$1\$2
  }
fi # as_fn_append

# as_fn_arith ARG...
# ------------------
# Perform arithmetic evaluation on the ARGs, and store the result in the
# global $as_val. Take advantage of shells that can avoid forks. The arguments
# must be portable across $(()) and expr.
if (eval "test \$(( 1 + 1 )) = 2") 2>/dev/null
then :
  eval 'as_fn_arith ()
  {
    as_val=$(( $* ))
  }'
else $as_nop
  as_fn_arith ()
  {
    as_val=`expr "$@" || test $? -eq 1`
  }
fi # as_fn_arith

# as_fn_nop
# ---------
# Do nothing but, unlike ":", preserve the value of $?.
as_fn_nop ()
{
  return $?
}
as_nop=as_fn_nop

# as_fn_error STATUS ERROR [LINENO LOG_FD]
# ----------------------------------------
# Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
# provided, also output the error to LOG_FD, referencing LINENO. Then exit the
# script with STATUS, using 1 if that was 0.
as_fn_error ()
{
  as_status=$1; test $as_status -eq 0 && as_status=1
  if test "$4"; then
    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
  fi
  printf "%s\n" "$as_me: error: $2" >&2
  as_fn_exit $as_status
} # as_fn_error

if expr a : '\(a\)' >/dev/null 2>&1 &&
   test "X`expr 00001 : '.*\(...\)'`" = X001; then
  as_expr=expr
else
  as_expr=false
fi

if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
  as_basename=basename
else
  as_basename=false
fi

if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
  as_dirname=dirname
else
  as_dirname=false
fi

as_me=`$as_basename -- "$0" ||
$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X/"$0" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`

# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits


  as_lineno_1=$LINENO as_lineno_1a=$LINENO
  as_lineno_2=$LINENO as_lineno_2a=$LINENO
  eval 'test "x$as_lineno_1'$as_run'" != "x$as_lineno_2'$as_run'" &&
  test "x`expr $as_lineno_1'$as_run' + 1`" = "x$as_lineno_2'$as_run'"' || {
  # Blame Lee E. McMahon (1931-1989) for sed's syntax.  :-)
  sed -n '
    p
    /[$]LINENO/=
  ' <$as_myself |
    sed '
      s/[$]LINENO.*/&-/
      t lineno
      b
      :lineno
      N
      :loop
      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
      t loop
      s/-\n.*//
    ' >$as_me.lineno &&
  chmod +x "$as_me.lineno" ||
    { printf "%s\n" "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2; as_fn_exit 1; }

  # If we had to re-execute with $CONFIG_SHELL, we're ensured to have
  # already done that, so ensure we don't try to do so again and fall
  # in an infinite loop.  This has already happened in practice.
  _as_can_reexec=no; export _as_can_reexec
  # Don't try to exec as it changes $[0], causing all sort of problems
  # (the dirname of $[0] is not the place where we might find the
  # original and so on.  Autoconf is especially sensitive to this).
  . "./$as_me.lineno"
  # Exit status is that of the last command.
  exit
}


# Determine whether it's possible to make 'echo' print without a newline.
# These variables are no longer used directly by Autoconf, but are AC_SUBSTed
# for compatibility with existing Makefiles.
ECHO_C= ECHO_N= ECHO_T=
case `echo -n x` in #(((((
-n*)
  case `echo 'xy\c'` in
  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
  xy)  ECHO_C='\c';;
  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null
       ECHO_T='	';;
  esac;;
*)
  ECHO_N='-n';;
esac

# For backward compatibility with old third-party macros, we provide
# the shell variables $as_echo and $as_echo_n.  New code should use
# AS_ECHO(["message"]) and AS_ECHO_N(["message"]), respectively.
as_echo='printf %s\n'
as_echo_n='printf %s'


rm -f conf$$ conf$$.exe conf$$.file
if test -d conf$$.dir; then
  rm -f conf$$.dir/conf$$.file
else
  rm -f conf$$.dir
  mkdir conf$$.dir 2>/dev/null
fi
if (echo >conf$$.file) 2>/dev/null; then
  if ln -s conf$$.file conf$$ 2>/dev/null; then
    as_ln_s='ln -s'
    # ... but there are two gotchas:
    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
    # In both cases, we have to default to `cp -pR'.
    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
      as_ln_s='cp -pR'
  elif ln conf$$.file conf$$ 2>/dev/null; then
    as_ln_s=ln
  else
    as_ln_s='cp -pR'
  fi
else
  as_ln_s='cp -pR'
fi
rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
rmdir conf$$.dir 2>/dev/null

if mkdir -p . 2>/dev/null; then
  as_mkdir_p='mkdir -p "$as_dir"'
else
  test -d ./-p && rmdir ./-p
  as_mkdir_p=false
fi

as_test_x='test -x'
as_executable_p=as_fn_executable_p

# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"

# Sed expression to map a string onto a valid variable name.
as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"


test -n "$DJDIR" || exec 7<&0 </dev/null
exec 6>&1

# Name of the host.
# hostname on some systems (SVR3.2, old GNU/Linux) returns a bogus exit status,
# so uname gets run too.
ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`

#
# Initializations.
#
ac_default_prefix=/usr/local
ac_clean_files=
ac_config_libobj_dir=.
LIBOBJS=
cross_compiling=no
subdirs=
MFLAGS=
MAKEFLAGS=

# Identity of this package.
PACKAGE_NAME='Valgrind'
PACKAGE_TARNAME='valgrind'
PACKAGE_VERSION='3.23.0'
PACKAGE_STRING='Valgrind 3.23.0'
PACKAGE_BUGREPORT='valgrind-users@lists.sourceforge.net'
PACKAGE_URL=''

ac_unique_file="coregrind/m_main.c"
# Factoring default headers for most tests.
ac_includes_default="\
#include <stddef.h>
#ifdef HAVE_STDIO_H
# include <stdio.h>
#endif
#ifdef HAVE_STDLIB_H
# include <stdlib.h>
#endif
#ifdef HAVE_STRING_H
# include <string.h>
#endif
#ifdef HAVE_INTTYPES_H
# include <inttypes.h>
#endif
#ifdef HAVE_STDINT_H
# include <stdint.h>
#endif
#ifdef HAVE_STRINGS_H
# include <strings.h>
#endif
#ifdef HAVE_SYS_TYPES_H
# include <sys/types.h>
#endif
#ifdef HAVE_SYS_STAT_H
# include <sys/stat.h>
#endif
#ifdef HAVE_UNISTD_H
# include <unistd.h>
#endif"

ac_header_c_list=
ac_func_c_list=
ac_subst_vars='am__EXEEXT_FALSE
am__EXEEXT_TRUE
LTLIBOBJS
HAVE_THRD_CREATE_FALSE
HAVE_THRD_CREATE_TRUE
HAVE_SHARED_POINTER_ANNOTATION_FALSE
HAVE_SHARED_POINTER_ANNOTATION_TRUE
ENABLE_LINUX_TICKET_LOCK_SECONDARY_FALSE
ENABLE_LINUX_TICKET_LOCK_SECONDARY_TRUE
ENABLE_LINUX_TICKET_LOCK_PRIMARY_FALSE
ENABLE_LINUX_TICKET_LOCK_PRIMARY_TRUE
HAVE_BUILTIN_ATOMIC_CXX_FALSE
HAVE_BUILTIN_ATOMIC_CXX_TRUE
HAVE_AIO_READV_FALSE
HAVE_AIO_READV_TRUE
HAVE_OPENSSL_FALSE
HAVE_OPENSSL_TRUE
HAVE_OPENAT2_FALSE
HAVE_OPENAT2_TRUE
HAVE_BUILTIN_ATOMIC64_FALSE
HAVE_BUILTIN_ATOMIC64_TRUE
HAVE_BUILTIN_ATOMIC_SECONDARY_FALSE
HAVE_BUILTIN_ATOMIC_SECONDARY_TRUE
HAVE_BUILTIN_ATOMIC_FALSE
HAVE_BUILTIN_ATOMIC_TRUE
HAVE_OPENMP_FALSE
HAVE_OPENMP_TRUE
HAVE_BOOST_1_35_FALSE
HAVE_BOOST_1_35_TRUE
BOOST_LIBS
BOOST_CFLAGS
BUILD_MPIWRAP_SEC_FALSE
BUILD_MPIWRAP_SEC_TRUE
BUILD_MPIWRAP_PRI_FALSE
BUILD_MPIWRAP_PRI_TRUE
LDFLAGS_MPI
CFLAGS_MPI
MPI_CC
HAVE_SEM_CLOCKWAIT_NP_FALSE
HAVE_SEM_CLOCKWAIT_NP_TRUE
HAVE_SEM_TIMEDWAIT_FALSE
HAVE_SEM_TIMEDWAIT_TRUE
HAVE_WCSXFRM_FALSE
HAVE_WCSXFRM_TRUE
HAVE_WCPNCPY_FALSE
HAVE_WCPNCPY_TRUE
HAVE_SBRK_FALSE
HAVE_SBRK_TRUE
HAVE_FREE_ALIGNED_SIZED_FALSE
HAVE_FREE_ALIGNED_SIZED_TRUE
HAVE_STRLCPY_FALSE
HAVE_STRLCPY_TRUE
HAVE_STRLCAT_FALSE
HAVE_STRLCAT_TRUE
HAVE_WCSNCPY_FALSE
HAVE_WCSNCPY_TRUE
HAVE_REALLOCARRAY_FALSE
HAVE_REALLOCARRAY_TRUE
HAVE_CLOSE_RANGE_FALSE
HAVE_CLOSE_RANGE_TRUE
HAVE_GETADDRINFO_FALSE
HAVE_GETADDRINFO_TRUE
HAVE_MEMFD_CREATE_FALSE
HAVE_MEMFD_CREATE_TRUE
HAVE_SWAPCONTEXT_FALSE
HAVE_SWAPCONTEXT_TRUE
HAVE_SETCONTEXT_FALSE
HAVE_SETCONTEXT_TRUE
HAVE_PREADV2_PWRITEV2_FALSE
HAVE_PREADV2_PWRITEV2_TRUE
HAVE_PREADV_PWRITEV_FALSE
HAVE_PREADV_PWRITEV_TRUE
HAVE_COPY_FILE_RANGE_FALSE
HAVE_COPY_FILE_RANGE_TRUE
HAVE_PTHREAD_SETNAME_NP_FALSE
HAVE_PTHREAD_SETNAME_NP_TRUE
HAVE_PTHREAD_SPINLOCK_FALSE
HAVE_PTHREAD_SPINLOCK_TRUE
HAVE_PTHREAD_MUTEX_TIMEDLOCK_FALSE
HAVE_PTHREAD_MUTEX_TIMEDLOCK_TRUE
HAVE_PTHREAD_BARRIER_FALSE
HAVE_PTHREAD_BARRIER_TRUE
LIBOBJS
FREEBSD_VERS_15_PLUS_FALSE
FREEBSD_VERS_15_PLUS_TRUE
FREEBSD_VERS_13_PLUS_FALSE
FREEBSD_VERS_13_PLUS_TRUE
SOLARIS_SYSTEM_STATS_SYSCALL_FALSE
SOLARIS_SYSTEM_STATS_SYSCALL_TRUE
SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR_FALSE
SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR_TRUE
SOLARIS_RESERVE_SYSSTAT_ADDR_FALSE
SOLARIS_RESERVE_SYSSTAT_ADDR_TRUE
DIS_PATH
SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS_FALSE
SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS_TRUE
SOLARIS_GETZONEOFFSET_FASTTRAP_FALSE
SOLARIS_GETZONEOFFSET_FASTTRAP_TRUE
SOLARIS_GETHRT_FASTTRAP_FALSE
SOLARIS_GETHRT_FASTTRAP_TRUE
SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE_FALSE
SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE_TRUE
SOLARIS_MODCTL_MODNVL_FALSE
SOLARIS_MODCTL_MODNVL_TRUE
SOLARIS_SPAWN_SYSCALL_FALSE
SOLARIS_SPAWN_SYSCALL_TRUE
SOLARIS_UTIMENSAT_SYSCALL_FALSE
SOLARIS_UTIMENSAT_SYSCALL_TRUE
SOLARIS_UTIMESYS_SYSCALL_FALSE
SOLARIS_UTIMESYS_SYSCALL_TRUE
SOLARIS_PSET_GET_NAME_FALSE
SOLARIS_PSET_GET_NAME_TRUE
SOLARIS_TSOL_CLEARANCE_FALSE
SOLARIS_TSOL_CLEARANCE_TRUE
SOLARIS_TNDB_GET_TNIP_FALSE
SOLARIS_TNDB_GET_TNIP_TRUE
SOLARIS_UUIDSYS_SYSCALL_FALSE
SOLARIS_UUIDSYS_SYSCALL_TRUE
SOLARIS_FREALPATHAT_SYSCALL_FALSE
SOLARIS_FREALPATHAT_SYSCALL_TRUE
SOLARIS_PRXREGSET_T_FALSE
SOLARIS_PRXREGSET_T_TRUE
SOLARIS_SHM_NEW_FALSE
SOLARIS_SHM_NEW_TRUE
SOLARIS_AUDITON_STAT_FALSE
SOLARIS_AUDITON_STAT_TRUE
SOLARIS_ZONE_DEFUNCT_FALSE
SOLARIS_ZONE_DEFUNCT_TRUE
SOLARIS_GETRANDOM_SYSCALL_FALSE
SOLARIS_GETRANDOM_SYSCALL_TRUE
SOLARIS_LWP_NAME_SYSCALL_FALSE
SOLARIS_LWP_NAME_SYSCALL_TRUE
SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_FALSE
SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_TRUE
SOLARIS_LWP_SIGQUEUE_SYSCALL_FALSE
SOLARIS_LWP_SIGQUEUE_SYSCALL_TRUE
SOLARIS_OLD_SYSCALLS_FALSE
SOLARIS_OLD_SYSCALLS_TRUE
SOLARIS_PROC_CMDLINE_FALSE
SOLARIS_PROC_CMDLINE_TRUE
SOLARIS_UNDEF_LARGESOURCE
SOLARIS_XPG_SYMBOLS_PRESENT_FALSE
SOLARIS_XPG_SYMBOLS_PRESENT_TRUE
SOLARIS_SUN_STUDIO_AS_FALSE
SOLARIS_SUN_STUDIO_AS_TRUE
BUILD_ARMV82_DOTPROD_TESTS_FALSE
BUILD_ARMV82_DOTPROD_TESTS_TRUE
BUILD_ARMV82_TESTS_FALSE
BUILD_ARMV82_TESTS_TRUE
BUILD_ARMV81_TESTS_FALSE
BUILD_ARMV81_TESTS_TRUE
BUILD_ARMV8_CRC_TESTS_FALSE
BUILD_ARMV8_CRC_TESTS_TRUE
BUILD_IFUNC_TESTS_FALSE
BUILD_IFUNC_TESTS_TRUE
BUILD_MOVBE_TESTS_FALSE
BUILD_MOVBE_TESTS_TRUE
BUILD_F16C_TESTS_FALSE
BUILD_F16C_TESTS_TRUE
BUILD_RDSEED_TESTS_FALSE
BUILD_RDSEED_TESTS_TRUE
BUILD_RDRAND_TESTS_FALSE
BUILD_RDRAND_TESTS_TRUE
BUILD_ADX_TESTS_FALSE
BUILD_ADX_TESTS_TRUE
BUILD_MPX_TESTS_FALSE
BUILD_MPX_TESTS_TRUE
BUILD_FMA_TESTS_FALSE
BUILD_FMA_TESTS_TRUE
BUILD_BMI_TESTS_FALSE
BUILD_BMI_TESTS_TRUE
BUILD_TSX_TESTS_FALSE
BUILD_TSX_TESTS_TRUE
BUILD_AVX2_TESTS_FALSE
BUILD_AVX2_TESTS_TRUE
BUILD_AVX_TESTS_FALSE
BUILD_AVX_TESTS_TRUE
BUILD_SSE42_TESTS_FALSE
BUILD_SSE42_TESTS_TRUE
BUILD_ADDR32_TESTS_FALSE
BUILD_ADDR32_TESTS_TRUE
BUILD_LOOPNEL_TESTS_FALSE
BUILD_LOOPNEL_TESTS_TRUE
BUILD_LZCNT_TESTS_FALSE
BUILD_LZCNT_TESTS_TRUE
BUILD_FMA4_TESTS_FALSE
BUILD_FMA4_TESTS_TRUE
BUILD_VPCLMULQDQ_TESTS_FALSE
BUILD_VPCLMULQDQ_TESTS_TRUE
BUILD_PCLMULQDQ_TESTS_FALSE
BUILD_PCLMULQDQ_TESTS_TRUE
BUILD_SSSE3_TESTS_FALSE
BUILD_SSSE3_TESTS_TRUE
BUILD_SSE3_TESTS_FALSE
BUILD_SSE3_TESTS_TRUE
FLAG_S390_PGSTE
FLAG_NO_BUILD_ID
FLAG_T_TEXT
FLAG_NO_PIE
HAVE_ANSI_FALSE
HAVE_ANSI_TRUE
FLAG_PIE
HAVE_ASM_CONSTRAINT_P_FALSE
HAVE_ASM_CONSTRAINT_P_TRUE
HAVE_NESTED_FUNCTIONS_FALSE
HAVE_NESTED_FUNCTIONS_TRUE
GZ_ZLIB_GNU_FALSE
GZ_ZLIB_GNU_TRUE
GZ_ZLIB_FALSE
GZ_ZLIB_TRUE
DWARF4_FALSE
DWARF4_TRUE
FLAG_UNLIMITED_INLINE_UNIT_GROWTH
LIB_UBSAN
FLAG_FSANITIZE
FLAG_FNO_IPA_ICF
FLAG_FINLINE_FUNCTIONS
FLAG_FNO_STACK_PROTECTOR
HAVE_ALIGNED_CXX_ALLOC_FALSE
HAVE_ALIGNED_CXX_ALLOC_TRUE
HAVE_FSIZED_DEALLOCATION_FALSE
HAVE_FSIZED_DEALLOCATION_TRUE
FLAG_FSIZED_DEALLOCATION
FLAG_FALIGNED_NEW
FLAG_W_CAST_ALIGN
FLAG_W_EXTRA
FLAG_W_FORMAT_SECURITY
FLAG_W_IMPLICIT_FALLTHROUGH
FLAG_W_ENUM_CONVERSION
FLAG_W_LOGICAL_OP
FLAG_W_MISSING_PARAMETER_TYPE
FLAG_W_IGNORED_QUALIFIERS
FLAG_W_OLD_STYLE_DECLARATION
FLAG_W_CAST_QUAL
FLAG_W_FORMAT_SIGNEDNESS
FLAG_W_FORMAT
FLAG_W_EMPTY_BODY
FLAG_W_WRITE_STRINGS
FLAG_W_NO_ALLOC_SIZE_LARGER_THAN
FLAG_W_NO_ATTRIBUTES
FLAG_W_NO_SUSPICIOUS_BZERO
FLAG_W_NO_INCOMPATIBLE_POINTER_TYPES_DISCARDS_QUALIFIERS
FLAG_W_NO_BUILTIN_MEMCPY_CHK_SIZE
FLAG_W_NO_FORTIFY_SOURCE
FLAG_W_NO_FREE_NONHEAP_OBJECT
FLAG_W_NO_USE_AFTER_FREE
FLAG_W_NO_FORMAT_OVERFLOW
FLAG_W_NO_STRINGOP_TRUNCATION
FLAG_W_NO_STRINGOP_OVERREAD
FLAG_W_NO_STRINGOP_OVERFLOW
FLAG_W_NO_SIGN_COMPARE
FLAG_W_NO_NON_POWER_OF_TWO_ALIGNMENT
FLAG_W_NO_UNUSED_BUT_SET_VARIABLE
FLAG_W_NO_UNUSED_VARIABLE
FLAG_W_NO_EXPANSION_TO_DEFINED
FLAG_W_NO_INFINITE_RECURSION
FLAG_W_NO_MISMATCHED_NEW_DELETE
FLAG_W_NO_STATIC_LOCAL_IN_INLINE
FLAG_W_NO_UNUSED_FUNCTION
FLAG_W_NO_MAYBE_UNINITIALIZED
FLAG_W_NO_UNINITIALIZED
FLAG_W_NO_POINTER_SIGN
FLAG_W_NO_OVERFLOW
FLAG_W_NO_NONNULL
FLAG_W_NO_MEMSET_TRANSPOSED_ARGS
LTO_CFLAGS
FLAG_MLONG_DOUBLE_128
HAS_MLONG_DOUBLE_128_FALSE
HAS_MLONG_DOUBLE_128_TRUE
PREFERRED_STACK_BOUNDARY_2
FLAG_MSSE
FLAG_MMMX
VGCONF_ABI
VGCONF_HAVE_ABI_FALSE
VGCONF_HAVE_ABI_TRUE
FLAG_MSA
FLAG_OCTEON2
FLAG_OCTEON
FLAG_M64
FLAG_M32
HAVE_NR_MEMBARRIER_FALSE
HAVE_NR_MEMBARRIER_TRUE
CXX_CAN_USE_TIMED_MUTEX_FALSE
CXX_CAN_USE_TIMED_MUTEX_TRUE
CXX_CAN_USE_SHARED_TIMED_MUTEX_FALSE
CXX_CAN_USE_SHARED_TIMED_MUTEX_TRUE
CXX_CAN_INCLUDE_CONDITION_VARIABLE_HEADER_FALSE
CXX_CAN_INCLUDE_CONDITION_VARIABLE_HEADER_TRUE
CXX_CAN_INCLUDE_THREAD_HEADER_FALSE
CXX_CAN_INCLUDE_THREAD_HEADER_TRUE
HAVE_CXX17_FALSE
HAVE_CXX17_TRUE
HAVE_DLINFO_RTLD_DI_TLS_MODID_FALSE
HAVE_DLINFO_RTLD_DI_TLS_MODID_TRUE
HAVE_PTHREAD_CREATE_GLIBC_2_0_FALSE
HAVE_PTHREAD_CREATE_GLIBC_2_0_TRUE
HAS_ISA_3_1_FALSE
HAS_ISA_3_1_TRUE
HAS_DARN_FALSE
HAS_DARN_TRUE
HAS_XSCVHPDP_FALSE
HAS_XSCVHPDP_TRUE
HAS_ISA_3_00_FALSE
HAS_ISA_3_00_TRUE
SUPPORTS_HTM_FALSE
SUPPORTS_HTM_TRUE
BUILD_DFP_TESTS_FALSE
BUILD_DFP_TESTS_TRUE
HAS_DFP_FALSE
HAS_DFP_TRUE
HAS_VSX_FALSE
HAS_VSX_TRUE
HAS_ALTIVEC_FALSE
HAS_ALTIVEC_TRUE
HAS_ISA_2_07_FALSE
HAS_ISA_2_07_TRUE
HAS_ISA_2_06_FALSE
HAS_ISA_2_06_TRUE
HAS_ISA_2_05_FALSE
HAS_ISA_2_05_TRUE
HWCAP_HAS_MMA
HWCAP_HAS_HTM
HWCAP_HAS_ISA_3_1
HWCAP_HAS_ISA_3_00
HWCAP_HAS_ISA_2_07
HWCAP_HAS_ISA_2_06
HWCAP_HAS_ISA_2_05
HWCAP_HAS_DFP
HWCAP_HAS_VSX
HWCAP_HAS_ALTIVEC
HAVE_GNU_STPNCPY_FALSE
HAVE_GNU_STPNCPY_TRUE
HAVE_AT_FDCWD_FALSE
HAVE_AT_FDCWD_TRUE
VGCONF_PLATVARIANT_IS_ANDROID_FALSE
VGCONF_PLATVARIANT_IS_ANDROID_TRUE
VGCONF_PLATVARIANT_IS_VANILLA_FALSE
VGCONF_PLATVARIANT_IS_VANILLA_TRUE
VGCONF_PLATVARIANT
GLIBC_LIBPTHREAD_PATH
GLIBC_LIBC_PATH
GLIBC_VERSION
EGREP
GREP
DEFAULT_SUPP
GDBSCRIPTS_FALSE
GDBSCRIPTS_TRUE
VG_GDBSCRIPTS_DIR
XCODE_DIR
XCRUN
VG_TMPDIR
VALT_LOAD_ADDRESS_SEC
VALT_LOAD_ADDRESS_PRI
VGCONF_HAVE_PLATFORM_SEC_FALSE
VGCONF_HAVE_PLATFORM_SEC_TRUE
VGCONF_OS_IS_DARWIN_OR_FREEBSD_FALSE
VGCONF_OS_IS_DARWIN_OR_FREEBSD_TRUE
VGCONF_OS_IS_SOLARIS_FALSE
VGCONF_OS_IS_SOLARIS_TRUE
VGCONF_OS_IS_DARWIN_FALSE
VGCONF_OS_IS_DARWIN_TRUE
VGCONF_OS_IS_FREEBSD_FALSE
VGCONF_OS_IS_FREEBSD_TRUE
VGCONF_OS_IS_LINUX_FALSE
VGCONF_OS_IS_LINUX_TRUE
VGCONF_PLATFORMS_INCLUDE_AMD64_SOLARIS_FALSE
VGCONF_PLATFORMS_INCLUDE_AMD64_SOLARIS_TRUE
VGCONF_PLATFORMS_INCLUDE_X86_SOLARIS_FALSE
VGCONF_PLATFORMS_INCLUDE_X86_SOLARIS_TRUE
VGCONF_PLATFORMS_INCLUDE_AMD64_DARWIN_FALSE
VGCONF_PLATFORMS_INCLUDE_AMD64_DARWIN_TRUE
VGCONF_PLATFORMS_INCLUDE_X86_DARWIN_FALSE
VGCONF_PLATFORMS_INCLUDE_X86_DARWIN_TRUE
VGCONF_PLATFORMS_INCLUDE_ARM64_FREEBSD_FALSE
VGCONF_PLATFORMS_INCLUDE_ARM64_FREEBSD_TRUE
VGCONF_PLATFORMS_INCLUDE_AMD64_FREEBSD_FALSE
VGCONF_PLATFORMS_INCLUDE_AMD64_FREEBSD_TRUE
VGCONF_PLATFORMS_INCLUDE_X86_FREEBSD_FALSE
VGCONF_PLATFORMS_INCLUDE_X86_FREEBSD_TRUE
VGCONF_PLATFORMS_INCLUDE_NANOMIPS_LINUX_FALSE
VGCONF_PLATFORMS_INCLUDE_NANOMIPS_LINUX_TRUE
VGCONF_PLATFORMS_INCLUDE_MIPS64_LINUX_FALSE
VGCONF_PLATFORMS_INCLUDE_MIPS64_LINUX_TRUE
VGCONF_PLATFORMS_INCLUDE_MIPS32_LINUX_FALSE
VGCONF_PLATFORMS_INCLUDE_MIPS32_LINUX_TRUE
VGCONF_PLATFORMS_INCLUDE_S390X_LINUX_FALSE
VGCONF_PLATFORMS_INCLUDE_S390X_LINUX_TRUE
VGCONF_PLATFORMS_INCLUDE_ARM64_LINUX_FALSE
VGCONF_PLATFORMS_INCLUDE_ARM64_LINUX_TRUE
VGCONF_PLATFORMS_INCLUDE_ARM_LINUX_FALSE
VGCONF_PLATFORMS_INCLUDE_ARM_LINUX_TRUE
VGCONF_PLATFORMS_INCLUDE_PPC64LE_LINUX_FALSE
VGCONF_PLATFORMS_INCLUDE_PPC64LE_LINUX_TRUE
VGCONF_PLATFORMS_INCLUDE_PPC64BE_LINUX_FALSE
VGCONF_PLATFORMS_INCLUDE_PPC64BE_LINUX_TRUE
VGCONF_PLATFORMS_INCLUDE_PPC32_LINUX_FALSE
VGCONF_PLATFORMS_INCLUDE_PPC32_LINUX_TRUE
VGCONF_PLATFORMS_INCLUDE_AMD64_LINUX_FALSE
VGCONF_PLATFORMS_INCLUDE_AMD64_LINUX_TRUE
VGCONF_PLATFORMS_INCLUDE_X86_LINUX_FALSE
VGCONF_PLATFORMS_INCLUDE_X86_LINUX_TRUE
VGCONF_ARCHS_INCLUDE_NANOMIPS_FALSE
VGCONF_ARCHS_INCLUDE_NANOMIPS_TRUE
VGCONF_ARCHS_INCLUDE_MIPS64_FALSE
VGCONF_ARCHS_INCLUDE_MIPS64_TRUE
VGCONF_ARCHS_INCLUDE_MIPS32_FALSE
VGCONF_ARCHS_INCLUDE_MIPS32_TRUE
VGCONF_ARCHS_INCLUDE_S390X_FALSE
VGCONF_ARCHS_INCLUDE_S390X_TRUE
VGCONF_ARCHS_INCLUDE_ARM64_FALSE
VGCONF_ARCHS_INCLUDE_ARM64_TRUE
VGCONF_ARCHS_INCLUDE_ARM_FALSE
VGCONF_ARCHS_INCLUDE_ARM_TRUE
VGCONF_ARCHS_INCLUDE_PPC64_FALSE
VGCONF_ARCHS_INCLUDE_PPC64_TRUE
VGCONF_ARCHS_INCLUDE_PPC32_FALSE
VGCONF_ARCHS_INCLUDE_PPC32_TRUE
VGCONF_ARCHS_INCLUDE_AMD64_FALSE
VGCONF_ARCHS_INCLUDE_AMD64_TRUE
VGCONF_ARCHS_INCLUDE_X86_FALSE
VGCONF_ARCHS_INCLUDE_X86_TRUE
FLAG_32ON64_GXX
VGCONF_PLATFORM_SEC_CAPS
VGCONF_PLATFORM_PRI_CAPS
VGCONF_ARCH_SEC
VGCONF_ARCH_PRI
VGCONF_OS
VGCONF_PLATFORM_ARM_ARCH
host_os
host_vendor
host_cpu
host
build_os
build_vendor
build_cpu
build
COMPILER_IS_ICC_FALSE
COMPILER_IS_ICC_TRUE
COMPILER_IS_CLANG_FALSE
COMPILER_IS_CLANG_TRUE
DIFF
am__fastdepCCAS_FALSE
am__fastdepCCAS_TRUE
CCASDEPMODE
CCASFLAGS
CCAS
GDB
PERL
LTO_AR
AR
SHA256SUM
SED
LTO_RANLIB
RANLIB
am__fastdepCXX_FALSE
am__fastdepCXX_TRUE
CXXDEPMODE
ac_ct_CXX
CXXFLAGS
CXX
CPP
am__fastdepCC_FALSE
am__fastdepCC_TRUE
CCDEPMODE
am__nodep
AMDEPBACKSLASH
AMDEP_FALSE
AMDEP_TRUE
am__include
DEPDIR
OBJEXT
EXEEXT
ac_ct_CC
CPPFLAGS
LDFLAGS
CFLAGS
CC
LN_S
MAINT
MAINTAINER_MODE_FALSE
MAINTAINER_MODE_TRUE
AM_BACKSLASH
AM_DEFAULT_VERBOSITY
AM_DEFAULT_V
AM_V
CSCOPE
ETAGS
CTAGS
am__untar
am__tar
AMTAR
am__leading_dot
SET_MAKE
AWK
mkdir_p
MKDIR_P
INSTALL_STRIP_PROGRAM
STRIP
install_sh
MAKEINFO
AUTOHEADER
AUTOMAKE
AUTOCONF
ACLOCAL
VERSION
PACKAGE
CYGPATH_W
am__isrc
INSTALL_DATA
INSTALL_SCRIPT
INSTALL_PROGRAM
VG_DATE
VG_VER_MINOR
VG_VER_MAJOR
target_alias
host_alias
build_alias
LIBS
ECHO_T
ECHO_N
ECHO_C
DEFS
mandir
localedir
libdir
psdir
pdfdir
dvidir
htmldir
infodir
docdir
oldincludedir
includedir
runstatedir
localstatedir
sharedstatedir
sysconfdir
datadir
datarootdir
libexecdir
sbindir
bindir
program_transform_name
prefix
exec_prefix
PACKAGE_URL
PACKAGE_BUGREPORT
PACKAGE_STRING
PACKAGE_VERSION
PACKAGE_TARNAME
PACKAGE_NAME
PATH_SEPARATOR
SHELL
am__quote'
ac_subst_files=''
ac_user_opts='
enable_option_checking
enable_silent_rules
enable_maintainer_mode
enable_dependency_tracking
enable_only64bit
enable_only32bit
enable_inner
enable_ubsan
with_tmpdir
with_xcodedir
with_gdbscripts_dir
enable_lto
enable_tls
with_mpicc
'
      ac_precious_vars='build_alias
host_alias
target_alias
CC
CFLAGS
LDFLAGS
LIBS
CPPFLAGS
CPP
CXX
CXXFLAGS
CCC
LTO_RANLIB
SHA256SUM
AR
LTO_AR
CCAS
CCASFLAGS'


# Initialize some variables set by options.
ac_init_help=
ac_init_version=false
ac_unrecognized_opts=
ac_unrecognized_sep=
# The variables have the same names as the options, with
# dashes changed to underlines.
cache_file=/dev/null
exec_prefix=NONE
no_create=
no_recursion=
prefix=NONE
program_prefix=NONE
program_suffix=NONE
program_transform_name=s,x,x,
silent=
site=
srcdir=
verbose=
x_includes=NONE
x_libraries=NONE

# Installation directory options.
# These are left unexpanded so users can "make install exec_prefix=/foo"
# and all the variables that are supposed to be based on exec_prefix
# by default will actually change.
# Use braces instead of parens because sh, perl, etc. also accept them.
# (The list follows the same order as the GNU Coding Standards.)
bindir='${exec_prefix}/bin'
sbindir='${exec_prefix}/sbin'
libexecdir='${exec_prefix}/libexec'
datarootdir='${prefix}/share'
datadir='${datarootdir}'
sysconfdir='${prefix}/etc'
sharedstatedir='${prefix}/com'
localstatedir='${prefix}/var'
runstatedir='${localstatedir}/run'
includedir='${prefix}/include'
oldincludedir='/usr/include'
docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
infodir='${datarootdir}/info'
htmldir='${docdir}'
dvidir='${docdir}'
pdfdir='${docdir}'
psdir='${docdir}'
libdir='${exec_prefix}/lib'
localedir='${datarootdir}/locale'
mandir='${datarootdir}/man'

ac_prev=
ac_dashdash=
for ac_option
do
  # If the previous option needs an argument, assign it.
  if test -n "$ac_prev"; then
    eval $ac_prev=\$ac_option
    ac_prev=
    continue
  fi

  case $ac_option in
  *=?*) ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
  *=)   ac_optarg= ;;
  *)    ac_optarg=yes ;;
  esac

  case $ac_dashdash$ac_option in
  --)
    ac_dashdash=yes ;;

  -bindir | --bindir | --bindi | --bind | --bin | --bi)
    ac_prev=bindir ;;
  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
    bindir=$ac_optarg ;;

  -build | --build | --buil | --bui | --bu)
    ac_prev=build_alias ;;
  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
    build_alias=$ac_optarg ;;

  -cache-file | --cache-file | --cache-fil | --cache-fi \
  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
    ac_prev=cache_file ;;
  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
    cache_file=$ac_optarg ;;

  --config-cache | -C)
    cache_file=config.cache ;;

  -datadir | --datadir | --datadi | --datad)
    ac_prev=datadir ;;
  -datadir=* | --datadir=* | --datadi=* | --datad=*)
    datadir=$ac_optarg ;;

  -datarootdir | --datarootdir | --datarootdi | --datarootd | --dataroot \
  | --dataroo | --dataro | --datar)
    ac_prev=datarootdir ;;
  -datarootdir=* | --datarootdir=* | --datarootdi=* | --datarootd=* \
  | --dataroot=* | --dataroo=* | --dataro=* | --datar=*)
    datarootdir=$ac_optarg ;;

  -disable-* | --disable-*)
    ac_useropt=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid feature name: \`$ac_useropt'"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"enable_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--disable-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval enable_$ac_useropt=no ;;

  -docdir | --docdir | --docdi | --doc | --do)
    ac_prev=docdir ;;
  -docdir=* | --docdir=* | --docdi=* | --doc=* | --do=*)
    docdir=$ac_optarg ;;

  -dvidir | --dvidir | --dvidi | --dvid | --dvi | --dv)
    ac_prev=dvidir ;;
  -dvidir=* | --dvidir=* | --dvidi=* | --dvid=* | --dvi=* | --dv=*)
    dvidir=$ac_optarg ;;

  -enable-* | --enable-*)
    ac_useropt=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid feature name: \`$ac_useropt'"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"enable_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--enable-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval enable_$ac_useropt=\$ac_optarg ;;

  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
  | --exec | --exe | --ex)
    ac_prev=exec_prefix ;;
  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
  | --exec=* | --exe=* | --ex=*)
    exec_prefix=$ac_optarg ;;

  -gas | --gas | --ga | --g)
    # Obsolete; use --with-gas.
    with_gas=yes ;;

  -help | --help | --hel | --he | -h)
    ac_init_help=long ;;
  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)
    ac_init_help=recursive ;;
  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)
    ac_init_help=short ;;

  -host | --host | --hos | --ho)
    ac_prev=host_alias ;;
  -host=* | --host=* | --hos=* | --ho=*)
    host_alias=$ac_optarg ;;

  -htmldir | --htmldir | --htmldi | --htmld | --html | --htm | --ht)
    ac_prev=htmldir ;;
  -htmldir=* | --htmldir=* | --htmldi=* | --htmld=* | --html=* | --htm=* \
  | --ht=*)
    htmldir=$ac_optarg ;;

  -includedir | --includedir | --includedi | --included | --include \
  | --includ | --inclu | --incl | --inc)
    ac_prev=includedir ;;
  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
  | --includ=* | --inclu=* | --incl=* | --inc=*)
    includedir=$ac_optarg ;;

  -infodir | --infodir | --infodi | --infod | --info | --inf)
    ac_prev=infodir ;;
  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
    infodir=$ac_optarg ;;

  -libdir | --libdir | --libdi | --libd)
    ac_prev=libdir ;;
  -libdir=* | --libdir=* | --libdi=* | --libd=*)
    libdir=$ac_optarg ;;

  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
  | --libexe | --libex | --libe)
    ac_prev=libexecdir ;;
  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
  | --libexe=* | --libex=* | --libe=*)
    libexecdir=$ac_optarg ;;

  -localedir | --localedir | --localedi | --localed | --locale)
    ac_prev=localedir ;;
  -localedir=* | --localedir=* | --localedi=* | --localed=* | --locale=*)
    localedir=$ac_optarg ;;

  -localstatedir | --localstatedir | --localstatedi | --localstated \
  | --localstate | --localstat | --localsta | --localst | --locals)
    ac_prev=localstatedir ;;
  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
  | --localstate=* | --localstat=* | --localsta=* | --localst=* | --locals=*)
    localstatedir=$ac_optarg ;;

  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
    ac_prev=mandir ;;
  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
    mandir=$ac_optarg ;;

  -nfp | --nfp | --nf)
    # Obsolete; use --without-fp.
    with_fp=no ;;

  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c | -n)
    no_create=yes ;;

  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
    no_recursion=yes ;;

  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
  | --oldin | --oldi | --old | --ol | --o)
    ac_prev=oldincludedir ;;
  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
    oldincludedir=$ac_optarg ;;

  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
    ac_prev=prefix ;;
  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
    prefix=$ac_optarg ;;

  -program-prefix | --program-prefix | --program-prefi | --program-pref \
  | --program-pre | --program-pr | --program-p)
    ac_prev=program_prefix ;;
  -program-prefix=* | --program-prefix=* | --program-prefi=* \
  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
    program_prefix=$ac_optarg ;;

  -program-suffix | --program-suffix | --program-suffi | --program-suff \
  | --program-suf | --program-su | --program-s)
    ac_prev=program_suffix ;;
  -program-suffix=* | --program-suffix=* | --program-suffi=* \
  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
    program_suffix=$ac_optarg ;;

  -program-transform-name | --program-transform-name \
  | --program-transform-nam | --program-transform-na \
  | --program-transform-n | --program-transform- \
  | --program-transform | --program-transfor \
  | --program-transfo | --program-transf \
  | --program-trans | --program-tran \
  | --progr-tra | --program-tr | --program-t)
    ac_prev=program_transform_name ;;
  -program-transform-name=* | --program-transform-name=* \
  | --program-transform-nam=* | --program-transform-na=* \
  | --program-transform-n=* | --program-transform-=* \
  | --program-transform=* | --program-transfor=* \
  | --program-transfo=* | --program-transf=* \
  | --program-trans=* | --program-tran=* \
  | --progr-tra=* | --program-tr=* | --program-t=*)
    program_transform_name=$ac_optarg ;;

  -pdfdir | --pdfdir | --pdfdi | --pdfd | --pdf | --pd)
    ac_prev=pdfdir ;;
  -pdfdir=* | --pdfdir=* | --pdfdi=* | --pdfd=* | --pdf=* | --pd=*)
    pdfdir=$ac_optarg ;;

  -psdir | --psdir | --psdi | --psd | --ps)
    ac_prev=psdir ;;
  -psdir=* | --psdir=* | --psdi=* | --psd=* | --ps=*)
    psdir=$ac_optarg ;;

  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil)
    silent=yes ;;

  -runstatedir | --runstatedir | --runstatedi | --runstated \
  | --runstate | --runstat | --runsta | --runst | --runs \
  | --run | --ru | --r)
    ac_prev=runstatedir ;;
  -runstatedir=* | --runstatedir=* | --runstatedi=* | --runstated=* \
  | --runstate=* | --runstat=* | --runsta=* | --runst=* | --runs=* \
  | --run=* | --ru=* | --r=*)
    runstatedir=$ac_optarg ;;

  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
    ac_prev=sbindir ;;
  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
  | --sbi=* | --sb=*)
    sbindir=$ac_optarg ;;

  -sharedstatedir | --sharedstatedir | --sharedstatedi \
  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
  | --sharedst | --shareds | --shared | --share | --shar \
  | --sha | --sh)
    ac_prev=sharedstatedir ;;
  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
  | --sha=* | --sh=*)
    sharedstatedir=$ac_optarg ;;

  -site | --site | --sit)
    ac_prev=site ;;
  -site=* | --site=* | --sit=*)
    site=$ac_optarg ;;

  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
    ac_prev=srcdir ;;
  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
    srcdir=$ac_optarg ;;

  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
  | --syscon | --sysco | --sysc | --sys | --sy)
    ac_prev=sysconfdir ;;
  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
    sysconfdir=$ac_optarg ;;

  -target | --target | --targe | --targ | --tar | --ta | --t)
    ac_prev=target_alias ;;
  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
    target_alias=$ac_optarg ;;

  -v | -verbose | --verbose | --verbos | --verbo | --verb)
    verbose=yes ;;

  -version | --version | --versio | --versi | --vers | -V)
    ac_init_version=: ;;

  -with-* | --with-*)
    ac_useropt=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid package name: \`$ac_useropt'"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"with_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--with-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval with_$ac_useropt=\$ac_optarg ;;

  -without-* | --without-*)
    ac_useropt=`expr "x$ac_option" : 'x-*without-\(.*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid package name: \`$ac_useropt'"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"with_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--without-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval with_$ac_useropt=no ;;

  --x)
    # Obsolete; use --with-x.
    with_x=yes ;;

  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
  | --x-incl | --x-inc | --x-in | --x-i)
    ac_prev=x_includes ;;
  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
    x_includes=$ac_optarg ;;

  -x-libraries | --x-libraries | --x-librarie | --x-librari \
  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
    ac_prev=x_libraries ;;
  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
    x_libraries=$ac_optarg ;;

  -*) as_fn_error $? "unrecognized option: \`$ac_option'
Try \`$0 --help' for more information"
    ;;

  *=*)
    ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
    # Reject names that are not valid shell variable names.
    case $ac_envvar in #(
      '' | [0-9]* | *[!_$as_cr_alnum]* )
      as_fn_error $? "invalid variable name: \`$ac_envvar'" ;;
    esac
    eval $ac_envvar=\$ac_optarg
    export $ac_envvar ;;

  *)
    # FIXME: should be removed in autoconf 3.0.
    printf "%s\n" "$as_me: WARNING: you should use --build, --host, --target" >&2
    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
      printf "%s\n" "$as_me: WARNING: invalid host type: $ac_option" >&2
    : "${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}"
    ;;

  esac
done

if test -n "$ac_prev"; then
  ac_option=--`echo $ac_prev | sed 's/_/-/g'`
  as_fn_error $? "missing argument to $ac_option"
fi

if test -n "$ac_unrecognized_opts"; then
  case $enable_option_checking in
    no) ;;
    fatal) as_fn_error $? "unrecognized options: $ac_unrecognized_opts" ;;
    *)     printf "%s\n" "$as_me: WARNING: unrecognized options: $ac_unrecognized_opts" >&2 ;;
  esac
fi

# Check all directory arguments for consistency.
for ac_var in	exec_prefix prefix bindir sbindir libexecdir datarootdir \
		datadir sysconfdir sharedstatedir localstatedir includedir \
		oldincludedir docdir infodir htmldir dvidir pdfdir psdir \
		libdir localedir mandir runstatedir
do
  eval ac_val=\$$ac_var
  # Remove trailing slashes.
  case $ac_val in
    */ )
      ac_val=`expr "X$ac_val" : 'X\(.*[^/]\)' \| "X$ac_val" : 'X\(.*\)'`
      eval $ac_var=\$ac_val;;
  esac
  # Be sure to have absolute directory names.
  case $ac_val in
    [\\/$]* | ?:[\\/]* )  continue;;
    NONE | '' ) case $ac_var in *prefix ) continue;; esac;;
  esac
  as_fn_error $? "expected an absolute directory name for --$ac_var: $ac_val"
done

# There might be people who depend on the old broken behavior: `$host'
# used to hold the argument of --host etc.
# FIXME: To remove some day.
build=$build_alias
host=$host_alias
target=$target_alias

# FIXME: To remove some day.
if test "x$host_alias" != x; then
  if test "x$build_alias" = x; then
    cross_compiling=maybe
  elif test "x$build_alias" != "x$host_alias"; then
    cross_compiling=yes
  fi
fi

ac_tool_prefix=
test -n "$host_alias" && ac_tool_prefix=$host_alias-

test "$silent" = yes && exec 6>/dev/null


ac_pwd=`pwd` && test -n "$ac_pwd" &&
ac_ls_di=`ls -di .` &&
ac_pwd_ls_di=`cd "$ac_pwd" && ls -di .` ||
  as_fn_error $? "working directory cannot be determined"
test "X$ac_ls_di" = "X$ac_pwd_ls_di" ||
  as_fn_error $? "pwd does not report name of working directory"


# Find the source files, if location was not specified.
if test -z "$srcdir"; then
  ac_srcdir_defaulted=yes
  # Try the directory containing this script, then the parent directory.
  ac_confdir=`$as_dirname -- "$as_myself" ||
$as_expr X"$as_myself" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_myself" : 'X\(//\)[^/]' \| \
	 X"$as_myself" : 'X\(//\)$' \| \
	 X"$as_myself" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X"$as_myself" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
  srcdir=$ac_confdir
  if test ! -r "$srcdir/$ac_unique_file"; then
    srcdir=..
  fi
else
  ac_srcdir_defaulted=no
fi
if test ! -r "$srcdir/$ac_unique_file"; then
  test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
  as_fn_error $? "cannot find sources ($ac_unique_file) in $srcdir"
fi
ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
ac_abs_confdir=`(
	cd "$srcdir" && test -r "./$ac_unique_file" || as_fn_error $? "$ac_msg"
	pwd)`
# When building in place, set srcdir=.
if test "$ac_abs_confdir" = "$ac_pwd"; then
  srcdir=.
fi
# Remove unnecessary trailing slashes from srcdir.
# Double slashes in file names in object file debugging info
# mess up M-x gdb in Emacs.
case $srcdir in
*/) srcdir=`expr "X$srcdir" : 'X\(.*[^/]\)' \| "X$srcdir" : 'X\(.*\)'`;;
esac
for ac_var in $ac_precious_vars; do
  eval ac_env_${ac_var}_set=\${${ac_var}+set}
  eval ac_env_${ac_var}_value=\$${ac_var}
  eval ac_cv_env_${ac_var}_set=\${${ac_var}+set}
  eval ac_cv_env_${ac_var}_value=\$${ac_var}
done

#
# Report the --help message.
#
if test "$ac_init_help" = "long"; then
  # Omit some internal or obsolete options to make the list less imposing.
  # This message is too long to be a string in the A/UX 3.1 sh.
  cat <<_ACEOF
\`configure' configures Valgrind 3.23.0 to adapt to many kinds of systems.

Usage: $0 [OPTION]... [VAR=VALUE]...

To assign environment variables (e.g., CC, CFLAGS...), specify them as
VAR=VALUE.  See below for descriptions of some of the useful variables.

Defaults for the options are specified in brackets.

Configuration:
  -h, --help              display this help and exit
      --help=short        display options specific to this package
      --help=recursive    display the short help of all the included packages
  -V, --version           display version information and exit
  -q, --quiet, --silent   do not print \`checking ...' messages
      --cache-file=FILE   cache test results in FILE [disabled]
  -C, --config-cache      alias for \`--cache-file=config.cache'
  -n, --no-create         do not create output files
      --srcdir=DIR        find the sources in DIR [configure dir or \`..']

Installation directories:
  --prefix=PREFIX         install architecture-independent files in PREFIX
                          [$ac_default_prefix]
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                          [PREFIX]

By default, \`make install' will install all the files in
\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
an installation prefix other than \`$ac_default_prefix' using \`--prefix',
for instance \`--prefix=\$HOME'.

For better control, use the options below.

Fine tuning of the installation directories:
  --bindir=DIR            user executables [EPREFIX/bin]
  --sbindir=DIR           system admin executables [EPREFIX/sbin]
  --libexecdir=DIR        program executables [EPREFIX/libexec]
  --sysconfdir=DIR        read-only single-machine data [PREFIX/etc]
  --sharedstatedir=DIR    modifiable architecture-independent data [PREFIX/com]
  --localstatedir=DIR     modifiable single-machine data [PREFIX/var]
  --runstatedir=DIR       modifiable per-process data [LOCALSTATEDIR/run]
  --libdir=DIR            object code libraries [EPREFIX/lib]
  --includedir=DIR        C header files [PREFIX/include]
  --oldincludedir=DIR     C header files for non-gcc [/usr/include]
  --datarootdir=DIR       read-only arch.-independent data root [PREFIX/share]
  --datadir=DIR           read-only architecture-independent data [DATAROOTDIR]
  --infodir=DIR           info documentation [DATAROOTDIR/info]
  --localedir=DIR         locale-dependent data [DATAROOTDIR/locale]
  --mandir=DIR            man documentation [DATAROOTDIR/man]
  --docdir=DIR            documentation root [DATAROOTDIR/doc/valgrind]
  --htmldir=DIR           html documentation [DOCDIR]
  --dvidir=DIR            dvi documentation [DOCDIR]
  --pdfdir=DIR            pdf documentation [DOCDIR]
  --psdir=DIR             ps documentation [DOCDIR]
_ACEOF

  cat <<\_ACEOF

Program names:
  --program-prefix=PREFIX            prepend PREFIX to installed program names
  --program-suffix=SUFFIX            append SUFFIX to installed program names
  --program-transform-name=PROGRAM   run sed PROGRAM on installed program names

System types:
  --build=BUILD     configure for building on BUILD [guessed]
  --host=HOST       cross-compile to build programs to run on HOST [BUILD]
_ACEOF
fi

if test -n "$ac_init_help"; then
  case $ac_init_help in
     short | recursive ) echo "Configuration of Valgrind 3.23.0:";;
   esac
  cat <<\_ACEOF

Optional Features:
  --disable-option-checking  ignore unrecognized --enable/--with options
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
  --enable-silent-rules   less verbose build output (undo: "make V=1")
  --disable-silent-rules  verbose build output (undo: "make V=0")
  --enable-maintainer-mode
                          enable make rules and dependencies not useful (and
                          sometimes confusing) to the casual installer
  --enable-dependency-tracking
                          do not reject slow dependency extractors
  --disable-dependency-tracking
                          speeds up one-time build
  --enable-only64bit      do a 64-bit only build
  --enable-only32bit      do a 32-bit only build
  --enable-inner          enables self-hosting
  --enable-ubsan          enables the undefined behaviour sanitiser
  --enable-lto          enables building with link time optimisation
  --enable-tls            platform supports TLS

Optional Packages:
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --with-tmpdir=PATH      Specify path for temporary files
  --with-xcode-path=PATH      Specify path for xcode sdk includes
  --with-gdbscripts-dir=PATH  Specify path to install gdb scripts
  --with-mpicc=           Specify name of MPI2-ised C compiler

Some influential environment variables:
  CC          C compiler command
  CFLAGS      C compiler flags
  LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
              nonstandard directory <lib dir>
  LIBS        libraries to pass to the linker, e.g. -l<library>
  CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I<include dir> if
              you have headers in a nonstandard directory <include dir>
  CPP         C preprocessor
  CXX         C++ compiler command
  CXXFLAGS    C++ compiler flags
  LTO_RANLIB  Library indexer command for link time optimisation
  SHA256SUM
  AR          Archiver command
  LTO_AR      Archiver command for link time optimisation
  CCAS        assembler compiler command (defaults to CC)
  CCASFLAGS   assembler compiler flags (defaults to CFLAGS)

Use these variables to override the choices made by `configure' or to help
it to find libraries and programs with nonstandard names/locations.

Report bugs to <valgrind-users@lists.sourceforge.net>.
_ACEOF
ac_status=$?
fi

if test "$ac_init_help" = "recursive"; then
  # If there are subdirs, report their specific --help.
  for ac_dir in : $ac_subdirs_all; do test "x$ac_dir" = x: && continue
    test -d "$ac_dir" ||
      { cd "$srcdir" && ac_pwd=`pwd` && srcdir=. && test -d "$ac_dir"; } ||
      continue
    ac_builddir=.

case "$ac_dir" in
.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
*)
  ac_dir_suffix=/`printf "%s\n" "$ac_dir" | sed 's|^\.[\\/]||'`
  # A ".." for each directory in $ac_dir_suffix.
  ac_top_builddir_sub=`printf "%s\n" "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
  case $ac_top_builddir_sub in
  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
  esac ;;
esac
ac_abs_top_builddir=$ac_pwd
ac_abs_builddir=$ac_pwd$ac_dir_suffix
# for backward compatibility:
ac_top_builddir=$ac_top_build_prefix

case $srcdir in
  .)  # We are building in place.
    ac_srcdir=.
    ac_top_srcdir=$ac_top_builddir_sub
    ac_abs_top_srcdir=$ac_pwd ;;
  [\\/]* | ?:[\\/]* )  # Absolute name.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir
    ac_abs_top_srcdir=$srcdir ;;
  *) # Relative name.
    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_build_prefix$srcdir
    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
esac
ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix

    cd "$ac_dir" || { ac_status=$?; continue; }
    # Check for configure.gnu first; this name is used for a wrapper for
    # Metaconfig's "Configure" on case-insensitive file systems.
    if test -f "$ac_srcdir/configure.gnu"; then
      echo &&
      $SHELL "$ac_srcdir/configure.gnu" --help=recursive
    elif test -f "$ac_srcdir/configure"; then
      echo &&
      $SHELL "$ac_srcdir/configure" --help=recursive
    else
      printf "%s\n" "$as_me: WARNING: no configuration information is in $ac_dir" >&2
    fi || ac_status=$?
    cd "$ac_pwd" || { ac_status=$?; break; }
  done
fi

test -n "$ac_init_help" && exit $ac_status
if $ac_init_version; then
  cat <<\_ACEOF
Valgrind configure 3.23.0
generated by GNU Autoconf 2.71

Copyright (C) 2021 Free Software Foundation, Inc.
This configure script is free software; the Free Software Foundation
gives unlimited permission to copy, distribute and modify it.
_ACEOF
  exit
fi

## ------------------------ ##
## Autoconf initialization. ##
## ------------------------ ##

# ac_fn_c_try_compile LINENO
# --------------------------
# Try to compile conftest.$ac_ext, and return whether this succeeded.
ac_fn_c_try_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest.beam
  if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_c_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest.$ac_objext
then :
  ac_retval=0
else $as_nop
  printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_c_try_compile

# ac_fn_c_try_cpp LINENO
# ----------------------
# Try to preprocess conftest.$ac_ext, and return whether this succeeded.
ac_fn_c_try_cpp ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_cpp conftest.$ac_ext"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } > conftest.i && {
	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
	 test ! -s conftest.err
       }
then :
  ac_retval=0
else $as_nop
  printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

    ac_retval=1
fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_c_try_cpp

# ac_fn_cxx_try_compile LINENO
# ----------------------------
# Try to compile conftest.$ac_ext, and return whether this succeeded.
ac_fn_cxx_try_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest.beam
  if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_cxx_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest.$ac_objext
then :
  ac_retval=0
else $as_nop
  printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_cxx_try_compile

# ac_fn_c_try_link LINENO
# -----------------------
# Try to link conftest.$ac_ext, and return whether this succeeded.
ac_fn_c_try_link ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest.beam conftest$ac_exeext
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_c_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest$ac_exeext && {
	 test "$cross_compiling" = yes ||
	 test -x conftest$ac_exeext
       }
then :
  ac_retval=0
else $as_nop
  printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
  # interfere with the next link command; also delete a directory that is
  # left behind by Apple's compiler.  We do this before executing the actions.
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_c_try_link

# ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES
# -------------------------------------------------------
# Tests whether HEADER exists and can be compiled using the include files in
# INCLUDES, setting the cache variable VAR accordingly.
ac_fn_c_check_header_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
printf %s "checking for $2... " >&6; }
if eval test \${$3+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
#include <$2>
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  eval "$3=yes"
else $as_nop
  eval "$3=no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
eval ac_res=\$$3
	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
printf "%s\n" "$ac_res" >&6; }
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno

} # ac_fn_c_check_header_compile

# ac_fn_c_check_type LINENO TYPE VAR INCLUDES
# -------------------------------------------
# Tests whether TYPE exists after having included INCLUDES, setting cache
# variable VAR accordingly.
ac_fn_c_check_type ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
printf %s "checking for $2... " >&6; }
if eval test \${$3+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  eval "$3=no"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main (void)
{
if (sizeof ($2))
	 return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main (void)
{
if (sizeof (($2)))
	    return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

else $as_nop
  eval "$3=yes"
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
eval ac_res=\$$3
	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
printf "%s\n" "$ac_res" >&6; }
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno

} # ac_fn_c_check_type

# ac_fn_c_check_member LINENO AGGR MEMBER VAR INCLUDES
# ----------------------------------------------------
# Tries to find if the field MEMBER exists in type AGGR, after including
# INCLUDES, setting cache variable VAR accordingly.
ac_fn_c_check_member ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $2.$3" >&5
printf %s "checking for $2.$3... " >&6; }
if eval test \${$4+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$5
int
main (void)
{
static $2 ac_aggr;
if (ac_aggr.$3)
return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  eval "$4=yes"
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$5
int
main (void)
{
static $2 ac_aggr;
if (sizeof ac_aggr.$3)
return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  eval "$4=yes"
else $as_nop
  eval "$4=no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
eval ac_res=\$$4
	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
printf "%s\n" "$ac_res" >&6; }
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno

} # ac_fn_c_check_member

# ac_fn_c_try_run LINENO
# ----------------------
# Try to run conftest.$ac_ext, and return whether this succeeded. Assumes that
# executables *can* be run.
ac_fn_c_try_run ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && { ac_try='./conftest$ac_exeext'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }
then :
  ac_retval=0
else $as_nop
  printf "%s\n" "$as_me: program exited with status $ac_status" >&5
       printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

       ac_retval=$ac_status
fi
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_c_try_run

# ac_fn_c_check_func LINENO FUNC VAR
# ----------------------------------
# Tests whether FUNC exists, setting the cache variable VAR accordingly
ac_fn_c_check_func ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
printf %s "checking for $2... " >&6; }
if eval test \${$3+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
/* Define $2 to an innocuous variant, in case <limits.h> declares $2.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define $2 innocuous_$2

/* System header to define __stub macros and hopefully few prototypes,
   which can conflict with char $2 (); below.  */

#include <limits.h>
#undef $2

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char $2 ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined __stub_$2 || defined __stub___$2
choke me
#endif

int
main (void)
{
return $2 ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  eval "$3=yes"
else $as_nop
  eval "$3=no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
fi
eval ac_res=\$$3
	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
printf "%s\n" "$ac_res" >&6; }
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno

} # ac_fn_c_check_func

# ac_fn_cxx_try_link LINENO
# -------------------------
# Try to link conftest.$ac_ext, and return whether this succeeded.
ac_fn_cxx_try_link ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest.beam conftest$ac_exeext
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_cxx_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest$ac_exeext && {
	 test "$cross_compiling" = yes ||
	 test -x conftest$ac_exeext
       }
then :
  ac_retval=0
else $as_nop
  printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
  # interfere with the next link command; also delete a directory that is
  # left behind by Apple's compiler.  We do this before executing the actions.
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_cxx_try_link
ac_configure_args_raw=
for ac_arg
do
  case $ac_arg in
  *\'*)
    ac_arg=`printf "%s\n" "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
  esac
  as_fn_append ac_configure_args_raw " '$ac_arg'"
done

case $ac_configure_args_raw in
  *$as_nl*)
    ac_safe_unquote= ;;
  *)
    ac_unsafe_z='|&;<>()$`\\"*?[ ''	' # This string ends in space, tab.
    ac_unsafe_a="$ac_unsafe_z#~"
    ac_safe_unquote="s/ '\\([^$ac_unsafe_a][^$ac_unsafe_z]*\\)'/ \\1/g"
    ac_configure_args_raw=`      printf "%s\n" "$ac_configure_args_raw" | sed "$ac_safe_unquote"`;;
esac

cat >config.log <<_ACEOF
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by Valgrind $as_me 3.23.0, which was
generated by GNU Autoconf 2.71.  Invocation command line was

  $ $0$ac_configure_args_raw

_ACEOF
exec 5>>config.log
{
cat <<_ASUNAME
## --------- ##
## Platform. ##
## --------- ##

hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
uname -m = `(uname -m) 2>/dev/null || echo unknown`
uname -r = `(uname -r) 2>/dev/null || echo unknown`
uname -s = `(uname -s) 2>/dev/null || echo unknown`
uname -v = `(uname -v) 2>/dev/null || echo unknown`

/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`

/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
/usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2>/dev/null      || echo unknown`
/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`

_ASUNAME

as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    printf "%s\n" "PATH: $as_dir"
  done
IFS=$as_save_IFS

} >&5

cat >&5 <<_ACEOF


## ----------- ##
## Core tests. ##
## ----------- ##

_ACEOF


# Keep a trace of the command line.
# Strip out --no-create and --no-recursion so they do not pile up.
# Strip out --silent because we don't want to record it for future runs.
# Also quote any args containing shell meta-characters.
# Make two passes to allow for proper duplicate-argument suppression.
ac_configure_args=
ac_configure_args0=
ac_configure_args1=
ac_must_keep_next=false
for ac_pass in 1 2
do
  for ac_arg
  do
    case $ac_arg in
    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;
    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
    | -silent | --silent | --silen | --sile | --sil)
      continue ;;
    *\'*)
      ac_arg=`printf "%s\n" "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
    esac
    case $ac_pass in
    1) as_fn_append ac_configure_args0 " '$ac_arg'" ;;
    2)
      as_fn_append ac_configure_args1 " '$ac_arg'"
      if test $ac_must_keep_next = true; then
	ac_must_keep_next=false # Got value, back to normal.
      else
	case $ac_arg in
	  *=* | --config-cache | -C | -disable-* | --disable-* \
	  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
	  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
	  | -with-* | --with-* | -without-* | --without-* | --x)
	    case "$ac_configure_args0 " in
	      "$ac_configure_args1"*" '$ac_arg' "* ) continue ;;
	    esac
	    ;;
	  -* ) ac_must_keep_next=true ;;
	esac
      fi
      as_fn_append ac_configure_args " '$ac_arg'"
      ;;
    esac
  done
done
{ ac_configure_args0=; unset ac_configure_args0;}
{ ac_configure_args1=; unset ac_configure_args1;}

# When interrupted or exit'd, cleanup temporary files, and complete
# config.log.  We remove comments because anyway the quotes in there
# would cause problems or look ugly.
# WARNING: Use '\'' to represent an apostrophe within the trap.
# WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.
trap 'exit_status=$?
  # Sanitize IFS.
  IFS=" ""	$as_nl"
  # Save into config.log some information that might help in debugging.
  {
    echo

    printf "%s\n" "## ---------------- ##
## Cache variables. ##
## ---------------- ##"
    echo
    # The following way of writing the cache mishandles newlines in values,
(
  for ac_var in `(set) 2>&1 | sed -n '\''s/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'\''`; do
    eval ac_val=\$$ac_var
    case $ac_val in #(
    *${as_nl}*)
      case $ac_var in #(
      *_cv_*) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline" >&5
printf "%s\n" "$as_me: WARNING: cache variable $ac_var contains a newline" >&2;} ;;
      esac
      case $ac_var in #(
      _ | IFS | as_nl) ;; #(
      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
      *) { eval $ac_var=; unset $ac_var;} ;;
      esac ;;
    esac
  done
  (set) 2>&1 |
    case $as_nl`(ac_space='\'' '\''; set) 2>&1` in #(
    *${as_nl}ac_space=\ *)
      sed -n \
	"s/'\''/'\''\\\\'\'''\''/g;
	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\''\\2'\''/p"
      ;; #(
    *)
      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
      ;;
    esac |
    sort
)
    echo

    printf "%s\n" "## ----------------- ##
## Output variables. ##
## ----------------- ##"
    echo
    for ac_var in $ac_subst_vars
    do
      eval ac_val=\$$ac_var
      case $ac_val in
      *\'\''*) ac_val=`printf "%s\n" "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
      esac
      printf "%s\n" "$ac_var='\''$ac_val'\''"
    done | sort
    echo

    if test -n "$ac_subst_files"; then
      printf "%s\n" "## ------------------- ##
## File substitutions. ##
## ------------------- ##"
      echo
      for ac_var in $ac_subst_files
      do
	eval ac_val=\$$ac_var
	case $ac_val in
	*\'\''*) ac_val=`printf "%s\n" "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
	esac
	printf "%s\n" "$ac_var='\''$ac_val'\''"
      done | sort
      echo
    fi

    if test -s confdefs.h; then
      printf "%s\n" "## ----------- ##
## confdefs.h. ##
## ----------- ##"
      echo
      cat confdefs.h
      echo
    fi
    test "$ac_signal" != 0 &&
      printf "%s\n" "$as_me: caught signal $ac_signal"
    printf "%s\n" "$as_me: exit $exit_status"
  } >&5
  rm -f core *.core core.conftest.* &&
    rm -f -r conftest* confdefs* conf$$* $ac_clean_files &&
    exit $exit_status
' 0
for ac_signal in 1 2 13 15; do
  trap 'ac_signal='$ac_signal'; as_fn_exit 1' $ac_signal
done
ac_signal=0

# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -f -r conftest* confdefs.h

printf "%s\n" "/* confdefs.h */" > confdefs.h

# Predefined preprocessor variables.

printf "%s\n" "#define PACKAGE_NAME \"$PACKAGE_NAME\"" >>confdefs.h

printf "%s\n" "#define PACKAGE_TARNAME \"$PACKAGE_TARNAME\"" >>confdefs.h

printf "%s\n" "#define PACKAGE_VERSION \"$PACKAGE_VERSION\"" >>confdefs.h

printf "%s\n" "#define PACKAGE_STRING \"$PACKAGE_STRING\"" >>confdefs.h

printf "%s\n" "#define PACKAGE_BUGREPORT \"$PACKAGE_BUGREPORT\"" >>confdefs.h

printf "%s\n" "#define PACKAGE_URL \"$PACKAGE_URL\"" >>confdefs.h


# Let the site file select an alternate cache file if it wants to.
# Prefer an explicitly selected file to automatically selected ones.
if test -n "$CONFIG_SITE"; then
  ac_site_files="$CONFIG_SITE"
elif test "x$prefix" != xNONE; then
  ac_site_files="$prefix/share/config.site $prefix/etc/config.site"
else
  ac_site_files="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
fi

for ac_site_file in $ac_site_files
do
  case $ac_site_file in #(
  */*) :
     ;; #(
  *) :
    ac_site_file=./$ac_site_file ;;
esac
  if test -f "$ac_site_file" && test -r "$ac_site_file"; then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: loading site script $ac_site_file" >&5
printf "%s\n" "$as_me: loading site script $ac_site_file" >&6;}
    sed 's/^/| /' "$ac_site_file" >&5
    . "$ac_site_file" \
      || { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "failed to load site script $ac_site_file
See \`config.log' for more details" "$LINENO" 5; }
  fi
done

if test -r "$cache_file"; then
  # Some versions of bash will fail to source /dev/null (special files
  # actually), so we avoid doing that.  DJGPP emulates it as a regular file.
  if test /dev/null != "$cache_file" && test -f "$cache_file"; then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: loading cache $cache_file" >&5
printf "%s\n" "$as_me: loading cache $cache_file" >&6;}
    case $cache_file in
      [\\/]* | ?:[\\/]* ) . "$cache_file";;
      *)                      . "./$cache_file";;
    esac
  fi
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: creating cache $cache_file" >&5
printf "%s\n" "$as_me: creating cache $cache_file" >&6;}
  >$cache_file
fi

# Test code for whether the C compiler supports C89 (global declarations)
ac_c_conftest_c89_globals='
/* Does the compiler advertise C89 conformance?
   Do not test the value of __STDC__, because some compilers set it to 0
   while being otherwise adequately conformant. */
#if !defined __STDC__
# error "Compiler does not advertise C89 conformance"
#endif

#include <stddef.h>
#include <stdarg.h>
struct stat;
/* Most of the following tests are stolen from RCS 5.7 src/conf.sh.  */
struct buf { int x; };
struct buf * (*rcsopen) (struct buf *, struct stat *, int);
static char *e (p, i)
     char **p;
     int i;
{
  return p[i];
}
static char *f (char * (*g) (char **, int), char **p, ...)
{
  char *s;
  va_list v;
  va_start (v,p);
  s = g (p, va_arg (v,int));
  va_end (v);
  return s;
}

/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
   function prototypes and stuff, but not \xHH hex character constants.
   These do not provoke an error unfortunately, instead are silently treated
   as an "x".  The following induces an error, until -std is added to get
   proper ANSI mode.  Curiously \x00 != x always comes out true, for an
   array size at least.  It is necessary to write \x00 == 0 to get something
   that is true only with -std.  */
int osf4_cc_array ['\''\x00'\'' == 0 ? 1 : -1];

/* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters
   inside strings and character constants.  */
#define FOO(x) '\''x'\''
int xlc6_cc_array[FOO(a) == '\''x'\'' ? 1 : -1];

int test (int i, double x);
struct s1 {int (*f) (int a);};
struct s2 {int (*f) (double a);};
int pairnames (int, char **, int *(*)(struct buf *, struct stat *, int),
               int, int);'

# Test code for whether the C compiler supports C89 (body of main).
ac_c_conftest_c89_main='
ok |= (argc == 0 || f (e, argv, 0) != argv[0] || f (e, argv, 1) != argv[1]);
'

# Test code for whether the C compiler supports C99 (global declarations)
ac_c_conftest_c99_globals='
// Does the compiler advertise C99 conformance?
#if !defined __STDC_VERSION__ || __STDC_VERSION__ < 199901L
# error "Compiler does not advertise C99 conformance"
#endif

#include <stdbool.h>
extern int puts (const char *);
extern int printf (const char *, ...);
extern int dprintf (int, const char *, ...);
extern void *malloc (size_t);

// Check varargs macros.  These examples are taken from C99 6.10.3.5.
// dprintf is used instead of fprintf to avoid needing to declare
// FILE and stderr.
#define debug(...) dprintf (2, __VA_ARGS__)
#define showlist(...) puts (#__VA_ARGS__)
#define report(test,...) ((test) ? puts (#test) : printf (__VA_ARGS__))
static void
test_varargs_macros (void)
{
  int x = 1234;
  int y = 5678;
  debug ("Flag");
  debug ("X = %d\n", x);
  showlist (The first, second, and third items.);
  report (x>y, "x is %d but y is %d", x, y);
}

// Check long long types.
#define BIG64 18446744073709551615ull
#define BIG32 4294967295ul
#define BIG_OK (BIG64 / BIG32 == 4294967297ull && BIG64 % BIG32 == 0)
#if !BIG_OK
  #error "your preprocessor is broken"
#endif
#if BIG_OK
#else
  #error "your preprocessor is broken"
#endif
static long long int bignum = -9223372036854775807LL;
static unsigned long long int ubignum = BIG64;

struct incomplete_array
{
  int datasize;
  double data[];
};

struct named_init {
  int number;
  const wchar_t *name;
  double average;
};

typedef const char *ccp;

static inline int
test_restrict (ccp restrict text)
{
  // See if C++-style comments work.
  // Iterate through items via the restricted pointer.
  // Also check for declarations in for loops.
  for (unsigned int i = 0; *(text+i) != '\''\0'\''; ++i)
    continue;
  return 0;
}

// Check varargs and va_copy.
static bool
test_varargs (const char *format, ...)
{
  va_list args;
  va_start (args, format);
  va_list args_copy;
  va_copy (args_copy, args);

  const char *str = "";
  int number = 0;
  float fnumber = 0;

  while (*format)
    {
      switch (*format++)
	{
	case '\''s'\'': // string
	  str = va_arg (args_copy, const char *);
	  break;
	case '\''d'\'': // int
	  number = va_arg (args_copy, int);
	  break;
	case '\''f'\'': // float
	  fnumber = va_arg (args_copy, double);
	  break;
	default:
	  break;
	}
    }
  va_end (args_copy);
  va_end (args);

  return *str && number && fnumber;
}
'

# Test code for whether the C compiler supports C99 (body of main).
ac_c_conftest_c99_main='
  // Check bool.
  _Bool success = false;
  success |= (argc != 0);

  // Check restrict.
  if (test_restrict ("String literal") == 0)
    success = true;
  char *restrict newvar = "Another string";

  // Check varargs.
  success &= test_varargs ("s, d'\'' f .", "string", 65, 34.234);
  test_varargs_macros ();

  // Check flexible array members.
  struct incomplete_array *ia =
    malloc (sizeof (struct incomplete_array) + (sizeof (double) * 10));
  ia->datasize = 10;
  for (int i = 0; i < ia->datasize; ++i)
    ia->data[i] = i * 1.234;

  // Check named initializers.
  struct named_init ni = {
    .number = 34,
    .name = L"Test wide string",
    .average = 543.34343,
  };

  ni.number = 58;

  int dynamic_array[ni.number];
  dynamic_array[0] = argv[0][0];
  dynamic_array[ni.number - 1] = 543;

  // work around unused variable warnings
  ok |= (!success || bignum == 0LL || ubignum == 0uLL || newvar[0] == '\''x'\''
	 || dynamic_array[ni.number - 1] != 543);
'

# Test code for whether the C compiler supports C11 (global declarations)
ac_c_conftest_c11_globals='
// Does the compiler advertise C11 conformance?
#if !defined __STDC_VERSION__ || __STDC_VERSION__ < 201112L
# error "Compiler does not advertise C11 conformance"
#endif

// Check _Alignas.
char _Alignas (double) aligned_as_double;
char _Alignas (0) no_special_alignment;
extern char aligned_as_int;
char _Alignas (0) _Alignas (int) aligned_as_int;

// Check _Alignof.
enum
{
  int_alignment = _Alignof (int),
  int_array_alignment = _Alignof (int[100]),
  char_alignment = _Alignof (char)
};
_Static_assert (0 < -_Alignof (int), "_Alignof is signed");

// Check _Noreturn.
int _Noreturn does_not_return (void) { for (;;) continue; }

// Check _Static_assert.
struct test_static_assert
{
  int x;
  _Static_assert (sizeof (int) <= sizeof (long int),
                  "_Static_assert does not work in struct");
  long int y;
};

// Check UTF-8 literals.
#define u8 syntax error!
char const utf8_literal[] = u8"happens to be ASCII" "another string";

// Check duplicate typedefs.
typedef long *long_ptr;
typedef long int *long_ptr;
typedef long_ptr long_ptr;

// Anonymous structures and unions -- taken from C11 6.7.2.1 Example 1.
struct anonymous
{
  union {
    struct { int i; int j; };
    struct { int k; long int l; } w;
  };
  int m;
} v1;
'

# Test code for whether the C compiler supports C11 (body of main).
ac_c_conftest_c11_main='
  _Static_assert ((offsetof (struct anonymous, i)
		   == offsetof (struct anonymous, w.k)),
		  "Anonymous union alignment botch");
  v1.i = 2;
  v1.w.k = 5;
  ok |= v1.i != 5;
'

# Test code for whether the C compiler supports C11 (complete).
ac_c_conftest_c11_program="${ac_c_conftest_c89_globals}
${ac_c_conftest_c99_globals}
${ac_c_conftest_c11_globals}

int
main (int argc, char **argv)
{
  int ok = 0;
  ${ac_c_conftest_c89_main}
  ${ac_c_conftest_c99_main}
  ${ac_c_conftest_c11_main}
  return ok;
}
"

# Test code for whether the C compiler supports C99 (complete).
ac_c_conftest_c99_program="${ac_c_conftest_c89_globals}
${ac_c_conftest_c99_globals}

int
main (int argc, char **argv)
{
  int ok = 0;
  ${ac_c_conftest_c89_main}
  ${ac_c_conftest_c99_main}
  return ok;
}
"

# Test code for whether the C compiler supports C89 (complete).
ac_c_conftest_c89_program="${ac_c_conftest_c89_globals}

int
main (int argc, char **argv)
{
  int ok = 0;
  ${ac_c_conftest_c89_main}
  return ok;
}
"

# Test code for whether the C++ compiler supports C++98 (global declarations)
ac_cxx_conftest_cxx98_globals='
// Does the compiler advertise C++98 conformance?
#if !defined __cplusplus || __cplusplus < 199711L
# error "Compiler does not advertise C++98 conformance"
#endif

// These inclusions are to reject old compilers that
// lack the unsuffixed header files.
#include <cstdlib>
#include <exception>

// <cassert> and <cstring> are *not* freestanding headers in C++98.
extern void assert (int);
namespace std {
  extern int strcmp (const char *, const char *);
}

// Namespaces, exceptions, and templates were all added after "C++ 2.0".
using std::exception;
using std::strcmp;

namespace {

void test_exception_syntax()
{
  try {
    throw "test";
  } catch (const char *s) {
    // Extra parentheses suppress a warning when building autoconf itself,
    // due to lint rules shared with more typical C programs.
    assert (!(strcmp) (s, "test"));
  }
}

template <typename T> struct test_template
{
  T const val;
  explicit test_template(T t) : val(t) {}
  template <typename U> T add(U u) { return static_cast<T>(u) + val; }
};

} // anonymous namespace
'

# Test code for whether the C++ compiler supports C++98 (body of main)
ac_cxx_conftest_cxx98_main='
  assert (argc);
  assert (! argv[0]);
{
  test_exception_syntax ();
  test_template<double> tt (2.0);
  assert (tt.add (4) == 6.0);
  assert (true && !false);
}
'

# Test code for whether the C++ compiler supports C++11 (global declarations)
ac_cxx_conftest_cxx11_globals='
// Does the compiler advertise C++ 2011 conformance?
#if !defined __cplusplus || __cplusplus < 201103L
# error "Compiler does not advertise C++11 conformance"
#endif

namespace cxx11test
{
  constexpr int get_val() { return 20; }

  struct testinit
  {
    int i;
    double d;
  };

  class delegate
  {
  public:
    delegate(int n) : n(n) {}
    delegate(): delegate(2354) {}

    virtual int getval() { return this->n; };
  protected:
    int n;
  };

  class overridden : public delegate
  {
  public:
    overridden(int n): delegate(n) {}
    virtual int getval() override final { return this->n * 2; }
  };

  class nocopy
  {
  public:
    nocopy(int i): i(i) {}
    nocopy() = default;
    nocopy(const nocopy&) = delete;
    nocopy & operator=(const nocopy&) = delete;
  private:
    int i;
  };

  // for testing lambda expressions
  template <typename Ret, typename Fn> Ret eval(Fn f, Ret v)
  {
    return f(v);
  }

  // for testing variadic templates and trailing return types
  template <typename V> auto sum(V first) -> V
  {
    return first;
  }
  template <typename V, typename... Args> auto sum(V first, Args... rest) -> V
  {
    return first + sum(rest...);
  }
}
'

# Test code for whether the C++ compiler supports C++11 (body of main)
ac_cxx_conftest_cxx11_main='
{
  // Test auto and decltype
  auto a1 = 6538;
  auto a2 = 48573953.4;
  auto a3 = "String literal";

  int total = 0;
  for (auto i = a3; *i; ++i) { total += *i; }

  decltype(a2) a4 = 34895.034;
}
{
  // Test constexpr
  short sa[cxx11test::get_val()] = { 0 };
}
{
  // Test initializer lists
  cxx11test::testinit il = { 4323, 435234.23544 };
}
{
  // Test range-based for
  int array[] = {9, 7, 13, 15, 4, 18, 12, 10, 5, 3,
                 14, 19, 17, 8, 6, 20, 16, 2, 11, 1};
  for (auto &x : array) { x += 23; }
}
{
  // Test lambda expressions
  using cxx11test::eval;
  assert (eval ([](int x) { return x*2; }, 21) == 42);
  double d = 2.0;
  assert (eval ([&](double x) { return d += x; }, 3.0) == 5.0);
  assert (d == 5.0);
  assert (eval ([=](double x) mutable { return d += x; }, 4.0) == 9.0);
  assert (d == 5.0);
}
{
  // Test use of variadic templates
  using cxx11test::sum;
  auto a = sum(1);
  auto b = sum(1, 2);
  auto c = sum(1.0, 2.0, 3.0);
}
{
  // Test constructor delegation
  cxx11test::delegate d1;
  cxx11test::delegate d2();
  cxx11test::delegate d3(45);
}
{
  // Test override and final
  cxx11test::overridden o1(55464);
}
{
  // Test nullptr
  char *c = nullptr;
}
{
  // Test template brackets
  test_template<::test_template<int>> v(test_template<int>(12));
}
{
  // Unicode literals
  char const *utf8 = u8"UTF-8 string \u2500";
  char16_t const *utf16 = u"UTF-8 string \u2500";
  char32_t const *utf32 = U"UTF-32 string \u2500";
}
'

# Test code for whether the C compiler supports C++11 (complete).
ac_cxx_conftest_cxx11_program="${ac_cxx_conftest_cxx98_globals}
${ac_cxx_conftest_cxx11_globals}

int
main (int argc, char **argv)
{
  int ok = 0;
  ${ac_cxx_conftest_cxx98_main}
  ${ac_cxx_conftest_cxx11_main}
  return ok;
}
"

# Test code for whether the C compiler supports C++98 (complete).
ac_cxx_conftest_cxx98_program="${ac_cxx_conftest_cxx98_globals}
int
main (int argc, char **argv)
{
  int ok = 0;
  ${ac_cxx_conftest_cxx98_main}
  return ok;
}
"

as_fn_append ac_header_c_list " stdio.h stdio_h HAVE_STDIO_H"
as_fn_append ac_header_c_list " stdlib.h stdlib_h HAVE_STDLIB_H"
as_fn_append ac_header_c_list " string.h string_h HAVE_STRING_H"
as_fn_append ac_header_c_list " inttypes.h inttypes_h HAVE_INTTYPES_H"
as_fn_append ac_header_c_list " stdint.h stdint_h HAVE_STDINT_H"
as_fn_append ac_header_c_list " strings.h strings_h HAVE_STRINGS_H"
as_fn_append ac_header_c_list " sys/stat.h sys_stat_h HAVE_SYS_STAT_H"
as_fn_append ac_header_c_list " sys/types.h sys_types_h HAVE_SYS_TYPES_H"
as_fn_append ac_header_c_list " unistd.h unistd_h HAVE_UNISTD_H"
as_fn_append ac_header_c_list " sys/time.h sys_time_h HAVE_SYS_TIME_H"
as_fn_append ac_header_c_list " sys/param.h sys_param_h HAVE_SYS_PARAM_H"
as_fn_append ac_func_c_list " getpagesize HAVE_GETPAGESIZE"

# Auxiliary files required by this configure script.
ac_aux_files="config.guess config.sub compile missing install-sh"

# Locations in which to look for auxiliary files.
ac_aux_dir_candidates="${srcdir}${PATH_SEPARATOR}${srcdir}/..${PATH_SEPARATOR}${srcdir}/../.."

# Search for a directory containing all of the required auxiliary files,
# $ac_aux_files, from the $PATH-style list $ac_aux_dir_candidates.
# If we don't find one directory that contains all the files we need,
# we report the set of missing files from the *first* directory in
# $ac_aux_dir_candidates and give up.
ac_missing_aux_files=""
ac_first_candidate=:
printf "%s\n" "$as_me:${as_lineno-$LINENO}: looking for aux files: $ac_aux_files" >&5
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
as_found=false
for as_dir in $ac_aux_dir_candidates
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
  as_found=:

  printf "%s\n" "$as_me:${as_lineno-$LINENO}:  trying $as_dir" >&5
  ac_aux_dir_found=yes
  ac_install_sh=
  for ac_aux in $ac_aux_files
  do
    # As a special case, if "install-sh" is required, that requirement
    # can be satisfied by any of "install-sh", "install.sh", or "shtool",
    # and $ac_install_sh is set appropriately for whichever one is found.
    if test x"$ac_aux" = x"install-sh"
    then
      if test -f "${as_dir}install-sh"; then
        printf "%s\n" "$as_me:${as_lineno-$LINENO}:   ${as_dir}install-sh found" >&5
        ac_install_sh="${as_dir}install-sh -c"
      elif test -f "${as_dir}install.sh"; then
        printf "%s\n" "$as_me:${as_lineno-$LINENO}:   ${as_dir}install.sh found" >&5
        ac_install_sh="${as_dir}install.sh -c"
      elif test -f "${as_dir}shtool"; then
        printf "%s\n" "$as_me:${as_lineno-$LINENO}:   ${as_dir}shtool found" >&5
        ac_install_sh="${as_dir}shtool install -c"
      else
        ac_aux_dir_found=no
        if $ac_first_candidate; then
          ac_missing_aux_files="${ac_missing_aux_files} install-sh"
        else
          break
        fi
      fi
    else
      if test -f "${as_dir}${ac_aux}"; then
        printf "%s\n" "$as_me:${as_lineno-$LINENO}:   ${as_dir}${ac_aux} found" >&5
      else
        ac_aux_dir_found=no
        if $ac_first_candidate; then
          ac_missing_aux_files="${ac_missing_aux_files} ${ac_aux}"
        else
          break
        fi
      fi
    fi
  done
  if test "$ac_aux_dir_found" = yes; then
    ac_aux_dir="$as_dir"
    break
  fi
  ac_first_candidate=false

  as_found=false
done
IFS=$as_save_IFS
if $as_found
then :

else $as_nop
  as_fn_error $? "cannot find required auxiliary files:$ac_missing_aux_files" "$LINENO" 5
fi


# These three variables are undocumented and unsupported,
# and are intended to be withdrawn in a future Autoconf release.
# They can cause serious problems if a builder's source tree is in a directory
# whose full name contains unusual characters.
if test -f "${ac_aux_dir}config.guess"; then
  ac_config_guess="$SHELL ${ac_aux_dir}config.guess"
fi
if test -f "${ac_aux_dir}config.sub"; then
  ac_config_sub="$SHELL ${ac_aux_dir}config.sub"
fi
if test -f "$ac_aux_dir/configure"; then
  ac_configure="$SHELL ${ac_aux_dir}configure"
fi

# Check that the precious variables saved in the cache have kept the same
# value.
ac_cache_corrupted=false
for ac_var in $ac_precious_vars; do
  eval ac_old_set=\$ac_cv_env_${ac_var}_set
  eval ac_new_set=\$ac_env_${ac_var}_set
  eval ac_old_val=\$ac_cv_env_${ac_var}_value
  eval ac_new_val=\$ac_env_${ac_var}_value
  case $ac_old_set,$ac_new_set in
    set,)
      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
printf "%s\n" "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
      ac_cache_corrupted=: ;;
    ,set)
      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was not set in the previous run" >&5
printf "%s\n" "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
      ac_cache_corrupted=: ;;
    ,);;
    *)
      if test "x$ac_old_val" != "x$ac_new_val"; then
	# differences in whitespace do not lead to failure.
	ac_old_val_w=`echo x $ac_old_val`
	ac_new_val_w=`echo x $ac_new_val`
	if test "$ac_old_val_w" != "$ac_new_val_w"; then
	  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' has changed since the previous run:" >&5
printf "%s\n" "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
	  ac_cache_corrupted=:
	else
	  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&5
printf "%s\n" "$as_me: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&2;}
	  eval $ac_var=\$ac_old_val
	fi
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}:   former value:  \`$ac_old_val'" >&5
printf "%s\n" "$as_me:   former value:  \`$ac_old_val'" >&2;}
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}:   current value: \`$ac_new_val'" >&5
printf "%s\n" "$as_me:   current value: \`$ac_new_val'" >&2;}
      fi;;
  esac
  # Pass precious variables to config.status.
  if test "$ac_new_set" = set; then
    case $ac_new_val in
    *\'*) ac_arg=$ac_var=`printf "%s\n" "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"` ;;
    *) ac_arg=$ac_var=$ac_new_val ;;
    esac
    case " $ac_configure_args " in
      *" '$ac_arg' "*) ;; # Avoid dups.  Use of quotes ensures accuracy.
      *) as_fn_append ac_configure_args " '$ac_arg'" ;;
    esac
  fi
done
if $ac_cache_corrupted; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: changes in the environment can compromise the build" >&5
printf "%s\n" "$as_me: error: changes in the environment can compromise the build" >&2;}
  as_fn_error $? "run \`${MAKE-make} distclean' and/or \`rm $cache_file'
	    and start over" "$LINENO" 5
fi
## -------------------- ##
## Main body of script. ##
## -------------------- ##

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu



# For valgrind.h
VG_VER_MAJOR=3

VG_VER_MINOR=23


# For docs/xml/vg-entities.xml
VG_DATE="26 Apr 2024"



ac_config_headers="$ac_config_headers config.h"

am__api_version='1.16'



  # Find a good install program.  We prefer a C program (faster),
# so one script is as good as another.  But avoid the broken or
# incompatible versions:
# SysV /etc/install, /usr/sbin/install
# SunOS /usr/etc/install
# IRIX /sbin/install
# AIX /bin/install
# AmigaOS /C/install, which installs bootblocks on floppy discs
# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
# AFS /usr/afsws/bin/install, which mishandles nonexistent args
# SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
# OS/2's system install, which has a completely different semantic
# ./install, which can be erroneously created by make from ./install.sh.
# Reject install programs that cannot install multiple files.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for a BSD-compatible install" >&5
printf %s "checking for a BSD-compatible install... " >&6; }
if test -z "$INSTALL"; then
if test ${ac_cv_path_install+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    # Account for fact that we put trailing slashes in our PATH walk.
case $as_dir in #((
  ./ | /[cC]/* | \
  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
  ?:[\\/]os2[\\/]install[\\/]* | ?:[\\/]OS2[\\/]INSTALL[\\/]* | \
  /usr/ucb/* ) ;;
  *)
    # OSF1 and SCO ODT 3.0 have their own names for install.
    # Don't use installbsd from OSF since it installs stuff as root
    # by default.
    for ac_prog in ginstall scoinst install; do
      for ac_exec_ext in '' $ac_executable_extensions; do
	if as_fn_executable_p "$as_dir$ac_prog$ac_exec_ext"; then
	  if test $ac_prog = install &&
	    grep dspmsg "$as_dir$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
	    # AIX install.  It has an incompatible calling convention.
	    :
	  elif test $ac_prog = install &&
	    grep pwplus "$as_dir$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
	    # program-specific install script used by HP pwplus--don't use.
	    :
	  else
	    rm -rf conftest.one conftest.two conftest.dir
	    echo one > conftest.one
	    echo two > conftest.two
	    mkdir conftest.dir
	    if "$as_dir$ac_prog$ac_exec_ext" -c conftest.one conftest.two "`pwd`/conftest.dir/" &&
	      test -s conftest.one && test -s conftest.two &&
	      test -s conftest.dir/conftest.one &&
	      test -s conftest.dir/conftest.two
	    then
	      ac_cv_path_install="$as_dir$ac_prog$ac_exec_ext -c"
	      break 3
	    fi
	  fi
	fi
      done
    done
    ;;
esac

  done
IFS=$as_save_IFS

rm -rf conftest.one conftest.two conftest.dir

fi
  if test ${ac_cv_path_install+y}; then
    INSTALL=$ac_cv_path_install
  else
    # As a last resort, use the slow shell script.  Don't cache a
    # value for INSTALL within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the value is a relative name.
    INSTALL=$ac_install_sh
  fi
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $INSTALL" >&5
printf "%s\n" "$INSTALL" >&6; }

# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
# It thinks the first close brace ends the variable substitution.
test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'

test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL}'

test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether build environment is sane" >&5
printf %s "checking whether build environment is sane... " >&6; }
# Reject unsafe characters in $srcdir or the absolute working directory
# name.  Accept space and tab only in the latter.
am_lf='
'
case `pwd` in
  *[\\\"\#\$\&\'\`$am_lf]*)
    as_fn_error $? "unsafe absolute working directory name" "$LINENO" 5;;
esac
case $srcdir in
  *[\\\"\#\$\&\'\`$am_lf\ \	]*)
    as_fn_error $? "unsafe srcdir value: '$srcdir'" "$LINENO" 5;;
esac

# Do 'set' in a subshell so we don't clobber the current shell's
# arguments.  Must try -L first in case configure is actually a
# symlink; some systems play weird games with the mod time of symlinks
# (eg FreeBSD returns the mod time of the symlink's containing
# directory).
if (
   am_has_slept=no
   for am_try in 1 2; do
     echo "timestamp, slept: $am_has_slept" > conftest.file
     set X `ls -Lt "$srcdir/configure" conftest.file 2> /dev/null`
     if test "$*" = "X"; then
	# -L didn't work.
	set X `ls -t "$srcdir/configure" conftest.file`
     fi
     if test "$*" != "X $srcdir/configure conftest.file" \
	&& test "$*" != "X conftest.file $srcdir/configure"; then

	# If neither matched, then we have a broken ls.  This can happen
	# if, for instance, CONFIG_SHELL is bash and it inherits a
	# broken ls alias from the environment.  This has actually
	# happened.  Such a system could not be considered "sane".
	as_fn_error $? "ls -t appears to fail.  Make sure there is not a broken
  alias in your environment" "$LINENO" 5
     fi
     if test "$2" = conftest.file || test $am_try -eq 2; then
       break
     fi
     # Just in case.
     sleep 1
     am_has_slept=yes
   done
   test "$2" = conftest.file
   )
then
   # Ok.
   :
else
   as_fn_error $? "newly created file is older than distributed files!
Check your system clock" "$LINENO" 5
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
# If we didn't sleep, we still need to ensure time stamps of config.status and
# generated files are strictly newer.
am_sleep_pid=
if grep 'slept: no' conftest.file >/dev/null 2>&1; then
  ( sleep 1 ) &
  am_sleep_pid=$!
fi

rm -f conftest.file

test "$program_prefix" != NONE &&
  program_transform_name="s&^&$program_prefix&;$program_transform_name"
# Use a double $ so make ignores it.
test "$program_suffix" != NONE &&
  program_transform_name="s&\$&$program_suffix&;$program_transform_name"
# Double any \ or $.
# By default was `s,x,x', remove it if useless.
ac_script='s/[\\$]/&&/g;s/;s,x,x,$//'
program_transform_name=`printf "%s\n" "$program_transform_name" | sed "$ac_script"`


# Expand $ac_aux_dir to an absolute path.
am_aux_dir=`cd "$ac_aux_dir" && pwd`


  if test x"${MISSING+set}" != xset; then
  MISSING="\${SHELL} '$am_aux_dir/missing'"
fi
# Use eval to expand $SHELL
if eval "$MISSING --is-lightweight"; then
  am_missing_run="$MISSING "
else
  am_missing_run=
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: 'missing' script is too old or missing" >&5
printf "%s\n" "$as_me: WARNING: 'missing' script is too old or missing" >&2;}
fi

if test x"${install_sh+set}" != xset; then
  case $am_aux_dir in
  *\ * | *\	*)
    install_sh="\${SHELL} '$am_aux_dir/install-sh'" ;;
  *)
    install_sh="\${SHELL} $am_aux_dir/install-sh"
  esac
fi

# Installed binaries are usually stripped using 'strip' when the user
# run "make install-strip".  However 'strip' might not be the right
# tool to use in cross-compilation environments, therefore Automake
# will honor the 'STRIP' environment variable to overrule this program.
if test "$cross_compiling" != no; then
  if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}strip", so it can be a program name with args.
set dummy ${ac_tool_prefix}strip; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_STRIP+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$STRIP"; then
  ac_cv_prog_STRIP="$STRIP" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_STRIP="${ac_tool_prefix}strip"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
STRIP=$ac_cv_prog_STRIP
if test -n "$STRIP"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $STRIP" >&5
printf "%s\n" "$STRIP" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_STRIP"; then
  ac_ct_STRIP=$STRIP
  # Extract the first word of "strip", so it can be a program name with args.
set dummy strip; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_STRIP+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_STRIP"; then
  ac_cv_prog_ac_ct_STRIP="$ac_ct_STRIP" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_STRIP="strip"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP
if test -n "$ac_ct_STRIP"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_STRIP" >&5
printf "%s\n" "$ac_ct_STRIP" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi

  if test "x$ac_ct_STRIP" = x; then
    STRIP=":"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    STRIP=$ac_ct_STRIP
  fi
else
  STRIP="$ac_cv_prog_STRIP"
fi

fi
INSTALL_STRIP_PROGRAM="\$(install_sh) -c -s"


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for a race-free mkdir -p" >&5
printf %s "checking for a race-free mkdir -p... " >&6; }
if test -z "$MKDIR_P"; then
  if test ${ac_cv_path_mkdir+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/opt/sfw/bin
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_prog in mkdir gmkdir; do
	 for ac_exec_ext in '' $ac_executable_extensions; do
	   as_fn_executable_p "$as_dir$ac_prog$ac_exec_ext" || continue
	   case `"$as_dir$ac_prog$ac_exec_ext" --version 2>&1` in #(
	     'mkdir ('*'coreutils) '* | \
	     'BusyBox '* | \
	     'mkdir (fileutils) '4.1*)
	       ac_cv_path_mkdir=$as_dir$ac_prog$ac_exec_ext
	       break 3;;
	   esac
	 done
       done
  done
IFS=$as_save_IFS

fi

  test -d ./--version && rmdir ./--version
  if test ${ac_cv_path_mkdir+y}; then
    MKDIR_P="$ac_cv_path_mkdir -p"
  else
    # As a last resort, use the slow shell script.  Don't cache a
    # value for MKDIR_P within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the value is a relative name.
    MKDIR_P="$ac_install_sh -d"
  fi
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $MKDIR_P" >&5
printf "%s\n" "$MKDIR_P" >&6; }

for ac_prog in gawk mawk nawk awk
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_AWK+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$AWK"; then
  ac_cv_prog_AWK="$AWK" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_AWK="$ac_prog"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
AWK=$ac_cv_prog_AWK
if test -n "$AWK"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $AWK" >&5
printf "%s\n" "$AWK" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


  test -n "$AWK" && break
done

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether ${MAKE-make} sets \$(MAKE)" >&5
printf %s "checking whether ${MAKE-make} sets \$(MAKE)... " >&6; }
set x ${MAKE-make}
ac_make=`printf "%s\n" "$2" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`
if eval test \${ac_cv_prog_make_${ac_make}_set+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat >conftest.make <<\_ACEOF
SHELL = /bin/sh
all:
	@echo '@@@%%%=$(MAKE)=@@@%%%'
_ACEOF
# GNU make sometimes prints "make[1]: Entering ...", which would confuse us.
case `${MAKE-make} -f conftest.make 2>/dev/null` in
  *@@@%%%=?*=@@@%%%*)
    eval ac_cv_prog_make_${ac_make}_set=yes;;
  *)
    eval ac_cv_prog_make_${ac_make}_set=no;;
esac
rm -f conftest.make
fi
if eval test \$ac_cv_prog_make_${ac_make}_set = yes; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
  SET_MAKE=
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
  SET_MAKE="MAKE=${MAKE-make}"
fi

rm -rf .tst 2>/dev/null
mkdir .tst 2>/dev/null
if test -d .tst; then
  am__leading_dot=.
else
  am__leading_dot=_
fi
rmdir .tst 2>/dev/null

# Check whether --enable-silent-rules was given.
if test ${enable_silent_rules+y}
then :
  enableval=$enable_silent_rules;
fi

case $enable_silent_rules in # (((
  yes) AM_DEFAULT_VERBOSITY=0;;
   no) AM_DEFAULT_VERBOSITY=1;;
    *) AM_DEFAULT_VERBOSITY=1;;
esac
am_make=${MAKE-make}
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $am_make supports nested variables" >&5
printf %s "checking whether $am_make supports nested variables... " >&6; }
if test ${am_cv_make_support_nested_variables+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if printf "%s\n" 'TRUE=$(BAR$(V))
BAR0=false
BAR1=true
V=1
am__doit:
	@$(TRUE)
.PHONY: am__doit' | $am_make -f - >/dev/null 2>&1; then
  am_cv_make_support_nested_variables=yes
else
  am_cv_make_support_nested_variables=no
fi
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_make_support_nested_variables" >&5
printf "%s\n" "$am_cv_make_support_nested_variables" >&6; }
if test $am_cv_make_support_nested_variables = yes; then
    AM_V='$(V)'
  AM_DEFAULT_V='$(AM_DEFAULT_VERBOSITY)'
else
  AM_V=$AM_DEFAULT_VERBOSITY
  AM_DEFAULT_V=$AM_DEFAULT_VERBOSITY
fi
AM_BACKSLASH='\'

if test "`cd $srcdir && pwd`" != "`pwd`"; then
  # Use -I$(srcdir) only when $(srcdir) != ., so that make's output
  # is not polluted with repeated "-I."
  am__isrc=' -I$(srcdir)'
  # test to see if srcdir already configured
  if test -f $srcdir/config.status; then
    as_fn_error $? "source directory already configured; run \"make distclean\" there first" "$LINENO" 5
  fi
fi

# test whether we have cygpath
if test -z "$CYGPATH_W"; then
  if (cygpath --version) >/dev/null 2>/dev/null; then
    CYGPATH_W='cygpath -w'
  else
    CYGPATH_W=echo
  fi
fi


# Define the identity of the package.
 PACKAGE='valgrind'
 VERSION='3.23.0'


printf "%s\n" "#define PACKAGE \"$PACKAGE\"" >>confdefs.h


printf "%s\n" "#define VERSION \"$VERSION\"" >>confdefs.h

# Some tools Automake needs.

ACLOCAL=${ACLOCAL-"${am_missing_run}aclocal-${am__api_version}"}


AUTOCONF=${AUTOCONF-"${am_missing_run}autoconf"}


AUTOMAKE=${AUTOMAKE-"${am_missing_run}automake-${am__api_version}"}


AUTOHEADER=${AUTOHEADER-"${am_missing_run}autoheader"}


MAKEINFO=${MAKEINFO-"${am_missing_run}makeinfo"}

# For better backward compatibility.  To be removed once Automake 1.9.x
# dies out for good.  For more background, see:
# <https://lists.gnu.org/archive/html/automake/2012-07/msg00001.html>
# <https://lists.gnu.org/archive/html/automake/2012-07/msg00014.html>
mkdir_p='$(MKDIR_P)'

# We need awk for the "check" target (and possibly the TAP driver).  The
# system "awk" is bad on some platforms.
# Always define AMTAR for backward compatibility.  Yes, it's still used
# in the wild :-(  We should find a proper way to deprecate it ...
AMTAR='$${TAR-tar}'


# We'll loop over all known methods to create a tar archive until one works.
_am_tools='gnutar  pax cpio none'

am__tar='$${TAR-tar} chof - "$$tardir"' am__untar='$${TAR-tar} xf -'





# Variables for tags utilities; see am/tags.am
if test -z "$CTAGS"; then
  CTAGS=ctags
fi

if test -z "$ETAGS"; then
  ETAGS=etags
fi

if test -z "$CSCOPE"; then
  CSCOPE=cscope
fi



# POSIX will say in a future version that running "rm -f" with no argument
# is OK; and we want to be able to make that assumption in our Makefile
# recipes.  So use an aggressive probe to check that the usage we want is
# actually supported "in the wild" to an acceptable degree.
# See automake bug#10828.
# To make any issue more visible, cause the running configure to be aborted
# by default if the 'rm' program in use doesn't match our expectations; the
# user can still override this though.
if rm -f && rm -fr && rm -rf; then : OK; else
  cat >&2 <<'END'
Oops!

Your 'rm' program seems unable to run without file operands specified
on the command line, even when the '-f' option is present.  This is contrary
to the behaviour of most rm programs out there, and not conforming with
the upcoming POSIX standard: <http://austingroupbugs.net/view.php?id=542>

Please tell bug-automake@gnu.org about your system, including the value
of your $PATH and any error possibly output before this message.  This
can help us improve future automake versions.

END
  if test x"$ACCEPT_INFERIOR_RM_PROGRAM" = x"yes"; then
    echo 'Configuration will proceed anyway, since you have set the' >&2
    echo 'ACCEPT_INFERIOR_RM_PROGRAM variable to "yes"' >&2
    echo >&2
  else
    cat >&2 <<'END'
Aborting the configuration process, to ensure you take notice of the issue.

You can download and install GNU coreutils to get an 'rm' implementation
that behaves properly: <https://www.gnu.org/software/coreutils/>.

If you want to complete the configuration process using your problematic
'rm' anyway, export the environment variable ACCEPT_INFERIOR_RM_PROGRAM
to "yes", and re-run configure.

END
    as_fn_error $? "Your 'rm' program is bad, sorry." "$LINENO" 5
  fi
fi



{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether to enable maintainer-specific portions of Makefiles" >&5
printf %s "checking whether to enable maintainer-specific portions of Makefiles... " >&6; }
    # Check whether --enable-maintainer-mode was given.
if test ${enable_maintainer_mode+y}
then :
  enableval=$enable_maintainer_mode; USE_MAINTAINER_MODE=$enableval
else $as_nop
  USE_MAINTAINER_MODE=no
fi

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $USE_MAINTAINER_MODE" >&5
printf "%s\n" "$USE_MAINTAINER_MODE" >&6; }
   if test $USE_MAINTAINER_MODE = yes; then
  MAINTAINER_MODE_TRUE=
  MAINTAINER_MODE_FALSE='#'
else
  MAINTAINER_MODE_TRUE='#'
  MAINTAINER_MODE_FALSE=
fi

  MAINT=$MAINTAINER_MODE_TRUE



#----------------------------------------------------------------------------
# Do NOT modify these flags here. Except in feature tests in which case
# the original values must be properly restored.
#----------------------------------------------------------------------------
CFLAGS="$CFLAGS"
CXXFLAGS="$CXXFLAGS"

#----------------------------------------------------------------------------
# Checks for various programs.
#----------------------------------------------------------------------------

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether ln -s works" >&5
printf %s "checking whether ln -s works... " >&6; }
LN_S=$as_ln_s
if test "$LN_S" = "ln -s"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, using $LN_S" >&5
printf "%s\n" "no, using $LN_S" >&6; }
fi










ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
set dummy ${ac_tool_prefix}gcc; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="${ac_tool_prefix}gcc"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_CC"; then
  ac_ct_CC=$CC
  # Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CC="gcc"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
printf "%s\n" "$ac_ct_CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
else
  CC="$ac_cv_prog_CC"
fi

if test -z "$CC"; then
          if test -n "$ac_tool_prefix"; then
    # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
set dummy ${ac_tool_prefix}cc; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="${ac_tool_prefix}cc"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


  fi
fi
if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  ac_prog_rejected=no
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    if test "$as_dir$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
       ac_prog_rejected=yes
       continue
     fi
    ac_cv_prog_CC="cc"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# != 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    ac_cv_prog_CC="$as_dir$ac_word${1+' '}$@"
  fi
fi
fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$CC"; then
  if test -n "$ac_tool_prefix"; then
  for ac_prog in cl.exe
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


    test -n "$CC" && break
  done
fi
if test -z "$CC"; then
  ac_ct_CC=$CC
  for ac_prog in cl.exe
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CC="$ac_prog"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
printf "%s\n" "$ac_ct_CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


  test -n "$ac_ct_CC" && break
done

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
fi

fi
if test -z "$CC"; then
  if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}clang", so it can be a program name with args.
set dummy ${ac_tool_prefix}clang; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="${ac_tool_prefix}clang"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_CC"; then
  ac_ct_CC=$CC
  # Extract the first word of "clang", so it can be a program name with args.
set dummy clang; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CC="clang"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
printf "%s\n" "$ac_ct_CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
else
  CC="$ac_cv_prog_CC"
fi

fi


test -z "$CC" && { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "no acceptable C compiler found in \$PATH
See \`config.log' for more details" "$LINENO" 5; }

# Provide some information about the compiler.
printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
set X $ac_compile
ac_compiler=$2
for ac_option in --version -v -V -qversion -version; do
  { { ac_try="$ac_compiler $ac_option >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_compiler $ac_option >&5") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    sed '10a\
... rest of stderr output deleted ...
         10q' conftest.err >conftest.er1
    cat conftest.er1 >&5
  fi
  rm -f conftest.er1 conftest.err
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
done

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
ac_clean_files_save=$ac_clean_files
ac_clean_files="$ac_clean_files a.out a.out.dSYM a.exe b.out"
# Try to create an executable without -o first, disregard a.out.
# It will help us diagnose broken compilers, and finding out an intuition
# of exeext.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the C compiler works" >&5
printf %s "checking whether the C compiler works... " >&6; }
ac_link_default=`printf "%s\n" "$ac_link" | sed 's/ -o *conftest[^ ]*//'`

# The possible output files:
ac_files="a.out conftest.exe conftest a.exe a_out.exe b.out conftest.*"

ac_rmfiles=
for ac_file in $ac_files
do
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
    * ) ac_rmfiles="$ac_rmfiles $ac_file";;
  esac
done
rm -f $ac_rmfiles

if { { ac_try="$ac_link_default"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_link_default") 2>&5
  ac_status=$?
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
then :
  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.
# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'
# in a Makefile.  We should not override ac_cv_exeext if it was cached,
# so that the user can short-circuit this test for compilers unknown to
# Autoconf.
for ac_file in $ac_files ''
do
  test -f "$ac_file" || continue
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj )
	;;
    [ab].out )
	# We found the default executable, but exeext='' is most
	# certainly right.
	break;;
    *.* )
	if test ${ac_cv_exeext+y} && test "$ac_cv_exeext" != no;
	then :; else
	   ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
	fi
	# We set ac_cv_exeext here because the later test for it is not
	# safe: cross compilers may not add the suffix if given an `-o'
	# argument, so we may need to know it at that point already.
	# Even if this section looks crufty: it has the advantage of
	# actually working.
	break;;
    * )
	break;;
  esac
done
test "$ac_cv_exeext" = no && ac_cv_exeext=

else $as_nop
  ac_file=''
fi
if test -z "$ac_file"
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "C compiler cannot create executables
See \`config.log' for more details" "$LINENO" 5; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C compiler default output file name" >&5
printf %s "checking for C compiler default output file name... " >&6; }
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_file" >&5
printf "%s\n" "$ac_file" >&6; }
ac_exeext=$ac_cv_exeext

rm -f -r a.out a.out.dSYM a.exe conftest$ac_cv_exeext b.out
ac_clean_files=$ac_clean_files_save
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for suffix of executables" >&5
printf %s "checking for suffix of executables... " >&6; }
if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
then :
  # If both `conftest.exe' and `conftest' are `present' (well, observable)
# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
# work properly (i.e., refer to `conftest.exe'), while it won't with
# `rm'.
for ac_file in conftest.exe conftest conftest.*; do
  test -f "$ac_file" || continue
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
    *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
	  break;;
    * ) break;;
  esac
done
else $as_nop
  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot compute suffix of executables: cannot compile and link
See \`config.log' for more details" "$LINENO" 5; }
fi
rm -f conftest conftest$ac_cv_exeext
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext" >&5
printf "%s\n" "$ac_cv_exeext" >&6; }

rm -f conftest.$ac_ext
EXEEXT=$ac_cv_exeext
ac_exeext=$EXEEXT
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
int
main (void)
{
FILE *f = fopen ("conftest.out", "w");
 return ferror (f) || fclose (f) != 0;

  ;
  return 0;
}
_ACEOF
ac_clean_files="$ac_clean_files conftest.out"
# Check that the compiler produces executables we can run.  If not, either
# the compiler is broken, or we cross compile.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether we are cross compiling" >&5
printf %s "checking whether we are cross compiling... " >&6; }
if test "$cross_compiling" != yes; then
  { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
  if { ac_try='./conftest$ac_cv_exeext'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }; then
    cross_compiling=no
  else
    if test "$cross_compiling" = maybe; then
	cross_compiling=yes
    else
	{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot run C compiled programs.
If you meant to cross compile, use \`--host'.
See \`config.log' for more details" "$LINENO" 5; }
    fi
  fi
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $cross_compiling" >&5
printf "%s\n" "$cross_compiling" >&6; }

rm -f conftest.$ac_ext conftest$ac_cv_exeext conftest.out
ac_clean_files=$ac_clean_files_save
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for suffix of object files" >&5
printf %s "checking for suffix of object files... " >&6; }
if test ${ac_cv_objext+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.o conftest.obj
if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>&5
  ac_status=$?
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
then :
  for ac_file in conftest.o conftest.obj conftest.*; do
  test -f "$ac_file" || continue;
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM ) ;;
    *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
       break;;
  esac
done
else $as_nop
  printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot compute suffix of object files: cannot compile
See \`config.log' for more details" "$LINENO" 5; }
fi
rm -f conftest.$ac_cv_objext conftest.$ac_ext
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_objext" >&5
printf "%s\n" "$ac_cv_objext" >&6; }
OBJEXT=$ac_cv_objext
ac_objext=$OBJEXT
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the compiler supports GNU C" >&5
printf %s "checking whether the compiler supports GNU C... " >&6; }
if test ${ac_cv_c_compiler_gnu+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
#ifndef __GNUC__
       choke me
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  ac_compiler_gnu=yes
else $as_nop
  ac_compiler_gnu=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
ac_cv_c_compiler_gnu=$ac_compiler_gnu

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu" >&5
printf "%s\n" "$ac_cv_c_compiler_gnu" >&6; }
ac_compiler_gnu=$ac_cv_c_compiler_gnu

if test $ac_compiler_gnu = yes; then
  GCC=yes
else
  GCC=
fi
ac_test_CFLAGS=${CFLAGS+y}
ac_save_CFLAGS=$CFLAGS
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g" >&5
printf %s "checking whether $CC accepts -g... " >&6; }
if test ${ac_cv_prog_cc_g+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_save_c_werror_flag=$ac_c_werror_flag
   ac_c_werror_flag=yes
   ac_cv_prog_cc_g=no
   CFLAGS="-g"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_g=yes
else $as_nop
  CFLAGS=""
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

else $as_nop
  ac_c_werror_flag=$ac_save_c_werror_flag
	 CFLAGS="-g"
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_g=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
   ac_c_werror_flag=$ac_save_c_werror_flag
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g" >&5
printf "%s\n" "$ac_cv_prog_cc_g" >&6; }
if test $ac_test_CFLAGS; then
  CFLAGS=$ac_save_CFLAGS
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi
ac_prog_cc_stdc=no
if test x$ac_prog_cc_stdc = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable C11 features" >&5
printf %s "checking for $CC option to enable C11 features... " >&6; }
if test ${ac_cv_prog_cc_c11+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_cv_prog_cc_c11=no
ac_save_CC=$CC
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_c_conftest_c11_program
_ACEOF
for ac_arg in '' -std=gnu11
do
  CC="$ac_save_CC $ac_arg"
  if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_c11=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam
  test "x$ac_cv_prog_cc_c11" != "xno" && break
done
rm -f conftest.$ac_ext
CC=$ac_save_CC
fi

if test "x$ac_cv_prog_cc_c11" = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
printf "%s\n" "unsupported" >&6; }
else $as_nop
  if test "x$ac_cv_prog_cc_c11" = x
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
printf "%s\n" "none needed" >&6; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c11" >&5
printf "%s\n" "$ac_cv_prog_cc_c11" >&6; }
     CC="$CC $ac_cv_prog_cc_c11"
fi
  ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c11
  ac_prog_cc_stdc=c11
fi
fi
if test x$ac_prog_cc_stdc = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable C99 features" >&5
printf %s "checking for $CC option to enable C99 features... " >&6; }
if test ${ac_cv_prog_cc_c99+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_cv_prog_cc_c99=no
ac_save_CC=$CC
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_c_conftest_c99_program
_ACEOF
for ac_arg in '' -std=gnu99 -std=c99 -c99 -qlanglvl=extc1x -qlanglvl=extc99 -AC99 -D_STDC_C99=
do
  CC="$ac_save_CC $ac_arg"
  if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_c99=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam
  test "x$ac_cv_prog_cc_c99" != "xno" && break
done
rm -f conftest.$ac_ext
CC=$ac_save_CC
fi

if test "x$ac_cv_prog_cc_c99" = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
printf "%s\n" "unsupported" >&6; }
else $as_nop
  if test "x$ac_cv_prog_cc_c99" = x
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
printf "%s\n" "none needed" >&6; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c99" >&5
printf "%s\n" "$ac_cv_prog_cc_c99" >&6; }
     CC="$CC $ac_cv_prog_cc_c99"
fi
  ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c99
  ac_prog_cc_stdc=c99
fi
fi
if test x$ac_prog_cc_stdc = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable C89 features" >&5
printf %s "checking for $CC option to enable C89 features... " >&6; }
if test ${ac_cv_prog_cc_c89+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_cv_prog_cc_c89=no
ac_save_CC=$CC
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_c_conftest_c89_program
_ACEOF
for ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std -Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
do
  CC="$ac_save_CC $ac_arg"
  if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_c89=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam
  test "x$ac_cv_prog_cc_c89" != "xno" && break
done
rm -f conftest.$ac_ext
CC=$ac_save_CC
fi

if test "x$ac_cv_prog_cc_c89" = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
printf "%s\n" "unsupported" >&6; }
else $as_nop
  if test "x$ac_cv_prog_cc_c89" = x
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
printf "%s\n" "none needed" >&6; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89" >&5
printf "%s\n" "$ac_cv_prog_cc_c89" >&6; }
     CC="$CC $ac_cv_prog_cc_c89"
fi
  ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c89
  ac_prog_cc_stdc=c89
fi
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC understands -c and -o together" >&5
printf %s "checking whether $CC understands -c and -o together... " >&6; }
if test ${am_cv_prog_cc_c_o+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
  # Make sure it works both with $CC and with simple cc.
  # Following AC_PROG_CC_C_O, we do the test twice because some
  # compilers refuse to overwrite an existing .o file with -o,
  # though they will create one.
  am_cv_prog_cc_c_o=yes
  for am_i in 1 2; do
    if { echo "$as_me:$LINENO: $CC -c conftest.$ac_ext -o conftest2.$ac_objext" >&5
   ($CC -c conftest.$ac_ext -o conftest2.$ac_objext) >&5 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } \
         && test -f conftest2.$ac_objext; then
      : OK
    else
      am_cv_prog_cc_c_o=no
      break
    fi
  done
  rm -f core conftest*
  unset am_i
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_prog_cc_c_o" >&5
printf "%s\n" "$am_cv_prog_cc_c_o" >&6; }
if test "$am_cv_prog_cc_c_o" != yes; then
   # Losing compiler, so override with the script.
   # FIXME: It is wrong to rewrite CC.
   # But if we don't then we get into trouble of one sort or another.
   # A longer-term fix would be to have automake use am__CC in this case,
   # and then we could set am__CC="\$(top_srcdir)/compile \$(CC)"
   CC="$am_aux_dir/compile $CC"
fi
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

DEPDIR="${am__leading_dot}deps"

ac_config_commands="$ac_config_commands depfiles"

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether ${MAKE-make} supports the include directive" >&5
printf %s "checking whether ${MAKE-make} supports the include directive... " >&6; }
cat > confinc.mk << 'END'
am__doit:
	@echo this is the am__doit target >confinc.out
.PHONY: am__doit
END
am__include="#"
am__quote=
# BSD make does it like this.
echo '.include "confinc.mk" # ignored' > confmf.BSD
# Other make implementations (GNU, Solaris 10, AIX) do it like this.
echo 'include confinc.mk # ignored' > confmf.GNU
_am_result=no
for s in GNU BSD; do
  { echo "$as_me:$LINENO: ${MAKE-make} -f confmf.$s && cat confinc.out" >&5
   (${MAKE-make} -f confmf.$s && cat confinc.out) >&5 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
  case $?:`cat confinc.out 2>/dev/null` in #(
  '0:this is the am__doit target') :
    case $s in #(
  BSD) :
    am__include='.include' am__quote='"' ;; #(
  *) :
    am__include='include' am__quote='' ;;
esac ;; #(
  *) :
     ;;
esac
  if test "$am__include" != "#"; then
    _am_result="yes ($s style)"
    break
  fi
done
rm -f confinc.* confmf.*
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${_am_result}" >&5
printf "%s\n" "${_am_result}" >&6; }

# Check whether --enable-dependency-tracking was given.
if test ${enable_dependency_tracking+y}
then :
  enableval=$enable_dependency_tracking;
fi

if test "x$enable_dependency_tracking" != xno; then
  am_depcomp="$ac_aux_dir/depcomp"
  AMDEPBACKSLASH='\'
  am__nodep='_no'
fi
 if test "x$enable_dependency_tracking" != xno; then
  AMDEP_TRUE=
  AMDEP_FALSE='#'
else
  AMDEP_TRUE='#'
  AMDEP_FALSE=
fi



depcc="$CC"   am_compiler_list=

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking dependency style of $depcc" >&5
printf %s "checking dependency style of $depcc... " >&6; }
if test ${am_cv_CC_dependencies_compiler_type+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
  # We make a subdir and do the tests there.  Otherwise we can end up
  # making bogus files that we don't know about and never remove.  For
  # instance it was reported that on HP-UX the gcc test will end up
  # making a dummy file named 'D' -- because '-MD' means "put the output
  # in D".
  rm -rf conftest.dir
  mkdir conftest.dir
  # Copy depcomp to subdir because otherwise we won't find it if we're
  # using a relative directory.
  cp "$am_depcomp" conftest.dir
  cd conftest.dir
  # We will build objects and dependencies in a subdirectory because
  # it helps to detect inapplicable dependency modes.  For instance
  # both Tru64's cc and ICC support -MD to output dependencies as a
  # side effect of compilation, but ICC will put the dependencies in
  # the current directory while Tru64 will put them in the object
  # directory.
  mkdir sub

  am_cv_CC_dependencies_compiler_type=none
  if test "$am_compiler_list" = ""; then
     am_compiler_list=`sed -n 's/^#*\([a-zA-Z0-9]*\))$/\1/p' < ./depcomp`
  fi
  am__universal=false
  case " $depcc " in #(
     *\ -arch\ *\ -arch\ *) am__universal=true ;;
     esac

  for depmode in $am_compiler_list; do
    # Setup a source with many dependencies, because some compilers
    # like to wrap large dependency lists on column 80 (with \), and
    # we should not choose a depcomp mode which is confused by this.
    #
    # We need to recreate these files for each test, as the compiler may
    # overwrite some of them when testing with obscure command lines.
    # This happens at least with the AIX C compiler.
    : > sub/conftest.c
    for i in 1 2 3 4 5 6; do
      echo '#include "conftst'$i'.h"' >> sub/conftest.c
      # Using ": > sub/conftst$i.h" creates only sub/conftst1.h with
      # Solaris 10 /bin/sh.
      echo '/* dummy */' > sub/conftst$i.h
    done
    echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf

    # We check with '-c' and '-o' for the sake of the "dashmstdout"
    # mode.  It turns out that the SunPro C++ compiler does not properly
    # handle '-M -o', and we need to detect this.  Also, some Intel
    # versions had trouble with output in subdirs.
    am__obj=sub/conftest.${OBJEXT-o}
    am__minus_obj="-o $am__obj"
    case $depmode in
    gcc)
      # This depmode causes a compiler race in universal mode.
      test "$am__universal" = false || continue
      ;;
    nosideeffect)
      # After this tag, mechanisms are not by side-effect, so they'll
      # only be used when explicitly requested.
      if test "x$enable_dependency_tracking" = xyes; then
	continue
      else
	break
      fi
      ;;
    msvc7 | msvc7msys | msvisualcpp | msvcmsys)
      # This compiler won't grok '-c -o', but also, the minuso test has
      # not run yet.  These depmodes are late enough in the game, and
      # so weak that their functioning should not be impacted.
      am__obj=conftest.${OBJEXT-o}
      am__minus_obj=
      ;;
    none) break ;;
    esac
    if depmode=$depmode \
       source=sub/conftest.c object=$am__obj \
       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \
         >/dev/null 2>conftest.err &&
       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&
       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
      # icc doesn't choke on unknown options, it will just issue warnings
      # or remarks (even with -Werror).  So we grep stderr for any message
      # that says an option was ignored or not supported.
      # When given -MP, icc 7.0 and 7.1 complain thusly:
      #   icc: Command line warning: ignoring option '-M'; no argument required
      # The diagnosis changed in icc 8.0:
      #   icc: Command line remark: option '-MP' not supported
      if (grep 'ignoring option' conftest.err ||
          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
        am_cv_CC_dependencies_compiler_type=$depmode
        break
      fi
    fi
  done

  cd ..
  rm -rf conftest.dir
else
  am_cv_CC_dependencies_compiler_type=none
fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_CC_dependencies_compiler_type" >&5
printf "%s\n" "$am_cv_CC_dependencies_compiler_type" >&6; }
CCDEPMODE=depmode=$am_cv_CC_dependencies_compiler_type

 if
  test "x$enable_dependency_tracking" != xno \
  && test "$am_cv_CC_dependencies_compiler_type" = gcc3; then
  am__fastdepCC_TRUE=
  am__fastdepCC_FALSE='#'
else
  am__fastdepCC_TRUE='#'
  am__fastdepCC_FALSE=
fi


# Make sure we can compile in C99 mode.
if test "$ac_cv_prog_cc_c99" = "no"; then
    as_fn_error $? "Valgrind relies on a C compiler supporting C99" "$LINENO" 5
fi
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking how to run the C preprocessor" >&5
printf %s "checking how to run the C preprocessor... " >&6; }
# On Suns, sometimes $CPP names a directory.
if test -n "$CPP" && test -d "$CPP"; then
  CPP=
fi
if test -z "$CPP"; then
  if test ${ac_cv_prog_CPP+y}
then :
  printf %s "(cached) " >&6
else $as_nop
      # Double quotes because $CC needs to be expanded
    for CPP in "$CC -E" "$CC -E -traditional-cpp" cpp /lib/cpp
    do
      ac_preproc_ok=false
for ac_c_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <limits.h>
		     Syntax error
_ACEOF
if ac_fn_c_try_cpp "$LINENO"
then :

else $as_nop
  # Broken: fails on valid input.
continue
fi
rm -f conftest.err conftest.i conftest.$ac_ext

  # OK, works on sane cases.  Now check whether nonexistent headers
  # can be detected and how.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <ac_nonexistent.h>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"
then :
  # Broken: success on invalid input.
continue
else $as_nop
  # Passes both tests.
ac_preproc_ok=:
break
fi
rm -f conftest.err conftest.i conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.i conftest.err conftest.$ac_ext
if $ac_preproc_ok
then :
  break
fi

    done
    ac_cv_prog_CPP=$CPP

fi
  CPP=$ac_cv_prog_CPP
else
  ac_cv_prog_CPP=$CPP
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CPP" >&5
printf "%s\n" "$CPP" >&6; }
ac_preproc_ok=false
for ac_c_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <limits.h>
		     Syntax error
_ACEOF
if ac_fn_c_try_cpp "$LINENO"
then :

else $as_nop
  # Broken: fails on valid input.
continue
fi
rm -f conftest.err conftest.i conftest.$ac_ext

  # OK, works on sane cases.  Now check whether nonexistent headers
  # can be detected and how.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <ac_nonexistent.h>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"
then :
  # Broken: success on invalid input.
continue
else $as_nop
  # Passes both tests.
ac_preproc_ok=:
break
fi
rm -f conftest.err conftest.i conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.i conftest.err conftest.$ac_ext
if $ac_preproc_ok
then :

else $as_nop
  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "C preprocessor \"$CPP\" fails sanity check
See \`config.log' for more details" "$LINENO" 5; }
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu







ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
if test -z "$CXX"; then
  if test -n "$CCC"; then
    CXX=$CCC
  else
    if test -n "$ac_tool_prefix"; then
  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC clang++
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CXX+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CXX"; then
  ac_cv_prog_CXX="$CXX" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CXX="$ac_tool_prefix$ac_prog"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CXX=$ac_cv_prog_CXX
if test -n "$CXX"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CXX" >&5
printf "%s\n" "$CXX" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


    test -n "$CXX" && break
  done
fi
if test -z "$CXX"; then
  ac_ct_CXX=$CXX
  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC clang++
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_CXX+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_CXX"; then
  ac_cv_prog_ac_ct_CXX="$ac_ct_CXX" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CXX="$ac_prog"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CXX=$ac_cv_prog_ac_ct_CXX
if test -n "$ac_ct_CXX"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CXX" >&5
printf "%s\n" "$ac_ct_CXX" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


  test -n "$ac_ct_CXX" && break
done

  if test "x$ac_ct_CXX" = x; then
    CXX="g++"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CXX=$ac_ct_CXX
  fi
fi

  fi
fi
# Provide some information about the compiler.
printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C++ compiler version" >&5
set X $ac_compile
ac_compiler=$2
for ac_option in --version -v -V -qversion; do
  { { ac_try="$ac_compiler $ac_option >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_compiler $ac_option >&5") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    sed '10a\
... rest of stderr output deleted ...
         10q' conftest.err >conftest.er1
    cat conftest.er1 >&5
  fi
  rm -f conftest.er1 conftest.err
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
done

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the compiler supports GNU C++" >&5
printf %s "checking whether the compiler supports GNU C++... " >&6; }
if test ${ac_cv_cxx_compiler_gnu+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
#ifndef __GNUC__
       choke me
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :
  ac_compiler_gnu=yes
else $as_nop
  ac_compiler_gnu=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
ac_cv_cxx_compiler_gnu=$ac_compiler_gnu

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_cxx_compiler_gnu" >&5
printf "%s\n" "$ac_cv_cxx_compiler_gnu" >&6; }
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

if test $ac_compiler_gnu = yes; then
  GXX=yes
else
  GXX=
fi
ac_test_CXXFLAGS=${CXXFLAGS+y}
ac_save_CXXFLAGS=$CXXFLAGS
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX accepts -g" >&5
printf %s "checking whether $CXX accepts -g... " >&6; }
if test ${ac_cv_prog_cxx_g+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_save_cxx_werror_flag=$ac_cxx_werror_flag
   ac_cxx_werror_flag=yes
   ac_cv_prog_cxx_g=no
   CXXFLAGS="-g"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :
  ac_cv_prog_cxx_g=yes
else $as_nop
  CXXFLAGS=""
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :

else $as_nop
  ac_cxx_werror_flag=$ac_save_cxx_werror_flag
	 CXXFLAGS="-g"
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :
  ac_cv_prog_cxx_g=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
   ac_cxx_werror_flag=$ac_save_cxx_werror_flag
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cxx_g" >&5
printf "%s\n" "$ac_cv_prog_cxx_g" >&6; }
if test $ac_test_CXXFLAGS; then
  CXXFLAGS=$ac_save_CXXFLAGS
elif test $ac_cv_prog_cxx_g = yes; then
  if test "$GXX" = yes; then
    CXXFLAGS="-g -O2"
  else
    CXXFLAGS="-g"
  fi
else
  if test "$GXX" = yes; then
    CXXFLAGS="-O2"
  else
    CXXFLAGS=
  fi
fi
ac_prog_cxx_stdcxx=no
if test x$ac_prog_cxx_stdcxx = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CXX option to enable C++11 features" >&5
printf %s "checking for $CXX option to enable C++11 features... " >&6; }
if test ${ac_cv_prog_cxx_cxx11+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_cv_prog_cxx_cxx11=no
ac_save_CXX=$CXX
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_cxx_conftest_cxx11_program
_ACEOF
for ac_arg in '' -std=gnu++11 -std=gnu++0x -std=c++11 -std=c++0x -qlanglvl=extended0x -AA
do
  CXX="$ac_save_CXX $ac_arg"
  if ac_fn_cxx_try_compile "$LINENO"
then :
  ac_cv_prog_cxx_cxx11=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam
  test "x$ac_cv_prog_cxx_cxx11" != "xno" && break
done
rm -f conftest.$ac_ext
CXX=$ac_save_CXX
fi

if test "x$ac_cv_prog_cxx_cxx11" = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
printf "%s\n" "unsupported" >&6; }
else $as_nop
  if test "x$ac_cv_prog_cxx_cxx11" = x
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
printf "%s\n" "none needed" >&6; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cxx_cxx11" >&5
printf "%s\n" "$ac_cv_prog_cxx_cxx11" >&6; }
     CXX="$CXX $ac_cv_prog_cxx_cxx11"
fi
  ac_cv_prog_cxx_stdcxx=$ac_cv_prog_cxx_cxx11
  ac_prog_cxx_stdcxx=cxx11
fi
fi
if test x$ac_prog_cxx_stdcxx = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CXX option to enable C++98 features" >&5
printf %s "checking for $CXX option to enable C++98 features... " >&6; }
if test ${ac_cv_prog_cxx_cxx98+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_cv_prog_cxx_cxx98=no
ac_save_CXX=$CXX
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_cxx_conftest_cxx98_program
_ACEOF
for ac_arg in '' -std=gnu++98 -std=c++98 -qlanglvl=extended -AA
do
  CXX="$ac_save_CXX $ac_arg"
  if ac_fn_cxx_try_compile "$LINENO"
then :
  ac_cv_prog_cxx_cxx98=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam
  test "x$ac_cv_prog_cxx_cxx98" != "xno" && break
done
rm -f conftest.$ac_ext
CXX=$ac_save_CXX
fi

if test "x$ac_cv_prog_cxx_cxx98" = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
printf "%s\n" "unsupported" >&6; }
else $as_nop
  if test "x$ac_cv_prog_cxx_cxx98" = x
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
printf "%s\n" "none needed" >&6; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cxx_cxx98" >&5
printf "%s\n" "$ac_cv_prog_cxx_cxx98" >&6; }
     CXX="$CXX $ac_cv_prog_cxx_cxx98"
fi
  ac_cv_prog_cxx_stdcxx=$ac_cv_prog_cxx_cxx98
  ac_prog_cxx_stdcxx=cxx98
fi
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

depcc="$CXX"  am_compiler_list=

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking dependency style of $depcc" >&5
printf %s "checking dependency style of $depcc... " >&6; }
if test ${am_cv_CXX_dependencies_compiler_type+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
  # We make a subdir and do the tests there.  Otherwise we can end up
  # making bogus files that we don't know about and never remove.  For
  # instance it was reported that on HP-UX the gcc test will end up
  # making a dummy file named 'D' -- because '-MD' means "put the output
  # in D".
  rm -rf conftest.dir
  mkdir conftest.dir
  # Copy depcomp to subdir because otherwise we won't find it if we're
  # using a relative directory.
  cp "$am_depcomp" conftest.dir
  cd conftest.dir
  # We will build objects and dependencies in a subdirectory because
  # it helps to detect inapplicable dependency modes.  For instance
  # both Tru64's cc and ICC support -MD to output dependencies as a
  # side effect of compilation, but ICC will put the dependencies in
  # the current directory while Tru64 will put them in the object
  # directory.
  mkdir sub

  am_cv_CXX_dependencies_compiler_type=none
  if test "$am_compiler_list" = ""; then
     am_compiler_list=`sed -n 's/^#*\([a-zA-Z0-9]*\))$/\1/p' < ./depcomp`
  fi
  am__universal=false
  case " $depcc " in #(
     *\ -arch\ *\ -arch\ *) am__universal=true ;;
     esac

  for depmode in $am_compiler_list; do
    # Setup a source with many dependencies, because some compilers
    # like to wrap large dependency lists on column 80 (with \), and
    # we should not choose a depcomp mode which is confused by this.
    #
    # We need to recreate these files for each test, as the compiler may
    # overwrite some of them when testing with obscure command lines.
    # This happens at least with the AIX C compiler.
    : > sub/conftest.c
    for i in 1 2 3 4 5 6; do
      echo '#include "conftst'$i'.h"' >> sub/conftest.c
      # Using ": > sub/conftst$i.h" creates only sub/conftst1.h with
      # Solaris 10 /bin/sh.
      echo '/* dummy */' > sub/conftst$i.h
    done
    echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf

    # We check with '-c' and '-o' for the sake of the "dashmstdout"
    # mode.  It turns out that the SunPro C++ compiler does not properly
    # handle '-M -o', and we need to detect this.  Also, some Intel
    # versions had trouble with output in subdirs.
    am__obj=sub/conftest.${OBJEXT-o}
    am__minus_obj="-o $am__obj"
    case $depmode in
    gcc)
      # This depmode causes a compiler race in universal mode.
      test "$am__universal" = false || continue
      ;;
    nosideeffect)
      # After this tag, mechanisms are not by side-effect, so they'll
      # only be used when explicitly requested.
      if test "x$enable_dependency_tracking" = xyes; then
	continue
      else
	break
      fi
      ;;
    msvc7 | msvc7msys | msvisualcpp | msvcmsys)
      # This compiler won't grok '-c -o', but also, the minuso test has
      # not run yet.  These depmodes are late enough in the game, and
      # so weak that their functioning should not be impacted.
      am__obj=conftest.${OBJEXT-o}
      am__minus_obj=
      ;;
    none) break ;;
    esac
    if depmode=$depmode \
       source=sub/conftest.c object=$am__obj \
       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \
         >/dev/null 2>conftest.err &&
       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&
       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
      # icc doesn't choke on unknown options, it will just issue warnings
      # or remarks (even with -Werror).  So we grep stderr for any message
      # that says an option was ignored or not supported.
      # When given -MP, icc 7.0 and 7.1 complain thusly:
      #   icc: Command line warning: ignoring option '-M'; no argument required
      # The diagnosis changed in icc 8.0:
      #   icc: Command line remark: option '-MP' not supported
      if (grep 'ignoring option' conftest.err ||
          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
        am_cv_CXX_dependencies_compiler_type=$depmode
        break
      fi
    fi
  done

  cd ..
  rm -rf conftest.dir
else
  am_cv_CXX_dependencies_compiler_type=none
fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_CXX_dependencies_compiler_type" >&5
printf "%s\n" "$am_cv_CXX_dependencies_compiler_type" >&6; }
CXXDEPMODE=depmode=$am_cv_CXX_dependencies_compiler_type

 if
  test "x$enable_dependency_tracking" != xno \
  && test "$am_cv_CXX_dependencies_compiler_type" = gcc3; then
  am__fastdepCXX_TRUE=
  am__fastdepCXX_FALSE='#'
else
  am__fastdepCXX_TRUE='#'
  am__fastdepCXX_FALSE=
fi


# AC_PROG_OBJC apparently causes problems on older Linux distros (eg. with
# autoconf 2.59).  If we ever have any Objective-C code in the Valgrind code
# base (eg. most likely as Darwin-specific tests) we'll need one of the
# following:
# - put AC_PROG_OBJC in a Darwin-specific part of this file
# - Use AC_PROG_OBJC here and up the minimum autoconf version
# - Use the following, which is apparently equivalent:
#     m4_ifdef([AC_PROG_OBJC],
#        [AC_PROG_OBJC],
#        [AC_CHECK_TOOL([OBJC], [gcc])
#         AC_SUBST([OBJC])
#         AC_SUBST([OBJCFLAGS])
#        ])
if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
set dummy ${ac_tool_prefix}ranlib; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_RANLIB+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
RANLIB=$ac_cv_prog_RANLIB
if test -n "$RANLIB"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $RANLIB" >&5
printf "%s\n" "$RANLIB" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_RANLIB"; then
  ac_ct_RANLIB=$RANLIB
  # Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_RANLIB+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_RANLIB"; then
  ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_RANLIB="ranlib"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
if test -n "$ac_ct_RANLIB"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_RANLIB" >&5
printf "%s\n" "$ac_ct_RANLIB" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi

  if test "x$ac_ct_RANLIB" = x; then
    RANLIB=":"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    RANLIB=$ac_ct_RANLIB
  fi
else
  RANLIB="$ac_cv_prog_RANLIB"
fi

# Set LTO_RANLIB variable to an lto enabled ranlib
if test "x$LTO_RANLIB" = "x"; then
  for ac_prog in gcc-ranlib
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_path_LTO_RANLIB+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  case $LTO_RANLIB in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_LTO_RANLIB="$LTO_RANLIB" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_path_LTO_RANLIB="$as_dir$ac_word$ac_exec_ext"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
fi
LTO_RANLIB=$ac_cv_path_LTO_RANLIB
if test -n "$LTO_RANLIB"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $LTO_RANLIB" >&5
printf "%s\n" "$LTO_RANLIB" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


  test -n "$LTO_RANLIB" && break
done

fi


# provide a very basic definition for AC_PROG_SED if it's not provided by
# autoconf (as e.g. in autoconf 2.59).

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for a sed that does not truncate output" >&5
printf %s "checking for a sed that does not truncate output... " >&6; }
if test ${ac_cv_path_SED+y}
then :
  printf %s "(cached) " >&6
else $as_nop
            ac_script=s/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb/
     for ac_i in 1 2 3 4 5 6 7; do
       ac_script="$ac_script$as_nl$ac_script"
     done
     echo "$ac_script" 2>/dev/null | sed 99q >conftest.sed
     { ac_script=; unset ac_script;}
     if test -z "$SED"; then
  ac_path_SED_found=false
  # Loop through the user's path and test for each of PROGNAME-LIST
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_prog in sed gsed
   do
    for ac_exec_ext in '' $ac_executable_extensions; do
      ac_path_SED="$as_dir$ac_prog$ac_exec_ext"
      as_fn_executable_p "$ac_path_SED" || continue
# Check for GNU ac_path_SED and select it if it is found.
  # Check for GNU $ac_path_SED
case `"$ac_path_SED" --version 2>&1` in
*GNU*)
  ac_cv_path_SED="$ac_path_SED" ac_path_SED_found=:;;
*)
  ac_count=0
  printf %s 0123456789 >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    printf "%s\n" '' >> "conftest.nl"
    "$ac_path_SED" -f conftest.sed < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    as_fn_arith $ac_count + 1 && ac_count=$as_val
    if test $ac_count -gt ${ac_path_SED_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_SED="$ac_path_SED"
      ac_path_SED_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac

      $ac_path_SED_found && break 3
    done
  done
  done
IFS=$as_save_IFS
  if test -z "$ac_cv_path_SED"; then
    as_fn_error $? "no acceptable sed could be found in \$PATH" "$LINENO" 5
  fi
else
  ac_cv_path_SED=$SED
fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_SED" >&5
printf "%s\n" "$ac_cv_path_SED" >&6; }
 SED="$ac_cv_path_SED"
  rm -f conftest.sed




          for ac_prog in gsha256sum sha256sum
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_SHA256SUM+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$SHA256SUM"; then
  ac_cv_prog_SHA256SUM="$SHA256SUM" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_SHA256SUM="$ac_prog"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
SHA256SUM=$ac_cv_prog_SHA256SUM
if test -n "$SHA256SUM"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $SHA256SUM" >&5
printf "%s\n" "$SHA256SUM" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


  test -n "$SHA256SUM" && break
done


# If no AR variable was specified, look up the name of the archiver. Otherwise
# do not touch the AR variable.
if test "x$AR" = "x"; then
  for ac_prog in `echo $LD | $SED 's/ld$/ar/'` "ar"
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_path_AR+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  case $AR in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_AR="$AR" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_path_AR="$as_dir$ac_word$ac_exec_ext"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
fi
AR=$ac_cv_path_AR
if test -n "$AR"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $AR" >&5
printf "%s\n" "$AR" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


  test -n "$AR" && break
done
test -n "$AR" || AR="ar"

fi


# same for LTO_AR variable for lto enabled archiver
if test "x$LTO_AR" = "x"; then
  for ac_prog in gcc-ar
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_path_LTO_AR+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  case $LTO_AR in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_LTO_AR="$LTO_AR" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_path_LTO_AR="$as_dir$ac_word$ac_exec_ext"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
fi
LTO_AR=$ac_cv_path_LTO_AR
if test -n "$LTO_AR"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $LTO_AR" >&5
printf "%s\n" "$LTO_AR" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


  test -n "$LTO_AR" && break
done

fi


# figure out where perl lives
# Extract the first word of "perl", so it can be a program name with args.
set dummy perl; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_path_PERL+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  case $PERL in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_PERL="$PERL" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_path_PERL="$as_dir$ac_word$ac_exec_ext"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
fi
PERL=$ac_cv_path_PERL
if test -n "$PERL"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $PERL" >&5
printf "%s\n" "$PERL" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi



# figure out where gdb lives
# Extract the first word of "gdb", so it can be a program name with args.
set dummy gdb; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_path_GDB+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  case $GDB in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_GDB="$GDB" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_path_GDB="$as_dir$ac_word$ac_exec_ext"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  test -z "$ac_cv_path_GDB" && ac_cv_path_GDB=""/no/gdb/was/found/at/configure/time""
  ;;
esac
fi
GDB=$ac_cv_path_GDB
if test -n "$GDB"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $GDB" >&5
printf "%s\n" "$GDB" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi



printf "%s\n" "#define GDB_PATH \"$GDB\"" >>confdefs.h


# some older automake's don't have it so try something on our own
# By default we simply use the C compiler to build assembly code.

test "${CCAS+set}" = set || CCAS=$CC
test "${CCASFLAGS+set}" = set || CCASFLAGS=$CFLAGS



depcc="$CCAS"   am_compiler_list=

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking dependency style of $depcc" >&5
printf %s "checking dependency style of $depcc... " >&6; }
if test ${am_cv_CCAS_dependencies_compiler_type+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
  # We make a subdir and do the tests there.  Otherwise we can end up
  # making bogus files that we don't know about and never remove.  For
  # instance it was reported that on HP-UX the gcc test will end up
  # making a dummy file named 'D' -- because '-MD' means "put the output
  # in D".
  rm -rf conftest.dir
  mkdir conftest.dir
  # Copy depcomp to subdir because otherwise we won't find it if we're
  # using a relative directory.
  cp "$am_depcomp" conftest.dir
  cd conftest.dir
  # We will build objects and dependencies in a subdirectory because
  # it helps to detect inapplicable dependency modes.  For instance
  # both Tru64's cc and ICC support -MD to output dependencies as a
  # side effect of compilation, but ICC will put the dependencies in
  # the current directory while Tru64 will put them in the object
  # directory.
  mkdir sub

  am_cv_CCAS_dependencies_compiler_type=none
  if test "$am_compiler_list" = ""; then
     am_compiler_list=`sed -n 's/^#*\([a-zA-Z0-9]*\))$/\1/p' < ./depcomp`
  fi
  am__universal=false


  for depmode in $am_compiler_list; do
    # Setup a source with many dependencies, because some compilers
    # like to wrap large dependency lists on column 80 (with \), and
    # we should not choose a depcomp mode which is confused by this.
    #
    # We need to recreate these files for each test, as the compiler may
    # overwrite some of them when testing with obscure command lines.
    # This happens at least with the AIX C compiler.
    : > sub/conftest.c
    for i in 1 2 3 4 5 6; do
      echo '#include "conftst'$i'.h"' >> sub/conftest.c
      # Using ": > sub/conftst$i.h" creates only sub/conftst1.h with
      # Solaris 10 /bin/sh.
      echo '/* dummy */' > sub/conftst$i.h
    done
    echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf

    # We check with '-c' and '-o' for the sake of the "dashmstdout"
    # mode.  It turns out that the SunPro C++ compiler does not properly
    # handle '-M -o', and we need to detect this.  Also, some Intel
    # versions had trouble with output in subdirs.
    am__obj=sub/conftest.${OBJEXT-o}
    am__minus_obj="-o $am__obj"
    case $depmode in
    gcc)
      # This depmode causes a compiler race in universal mode.
      test "$am__universal" = false || continue
      ;;
    nosideeffect)
      # After this tag, mechanisms are not by side-effect, so they'll
      # only be used when explicitly requested.
      if test "x$enable_dependency_tracking" = xyes; then
	continue
      else
	break
      fi
      ;;
    msvc7 | msvc7msys | msvisualcpp | msvcmsys)
      # This compiler won't grok '-c -o', but also, the minuso test has
      # not run yet.  These depmodes are late enough in the game, and
      # so weak that their functioning should not be impacted.
      am__obj=conftest.${OBJEXT-o}
      am__minus_obj=
      ;;
    none) break ;;
    esac
    if depmode=$depmode \
       source=sub/conftest.c object=$am__obj \
       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \
         >/dev/null 2>conftest.err &&
       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&
       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
      # icc doesn't choke on unknown options, it will just issue warnings
      # or remarks (even with -Werror).  So we grep stderr for any message
      # that says an option was ignored or not supported.
      # When given -MP, icc 7.0 and 7.1 complain thusly:
      #   icc: Command line warning: ignoring option '-M'; no argument required
      # The diagnosis changed in icc 8.0:
      #   icc: Command line remark: option '-MP' not supported
      if (grep 'ignoring option' conftest.err ||
          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
        am_cv_CCAS_dependencies_compiler_type=$depmode
        break
      fi
    fi
  done

  cd ..
  rm -rf conftest.dir
else
  am_cv_CCAS_dependencies_compiler_type=none
fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_CCAS_dependencies_compiler_type" >&5
printf "%s\n" "$am_cv_CCAS_dependencies_compiler_type" >&6; }
CCASDEPMODE=depmode=$am_cv_CCAS_dependencies_compiler_type

 if
  test "x$enable_dependency_tracking" != xno \
  && test "$am_cv_CCAS_dependencies_compiler_type" = gcc3; then
  am__fastdepCCAS_TRUE=
  am__fastdepCCAS_FALSE='#'
else
  am__fastdepCCAS_TRUE='#'
  am__fastdepCCAS_FALSE=
fi




# Check if 'diff' supports -u (universal diffs) and use it if possible.

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for diff -u" >&5
printf %s "checking for diff -u... " >&6; }


# Comparing two identical files results in 0.
tmpfile="tmp-xxx-yyy-zzz"
touch $tmpfile;
if diff -u $tmpfile $tmpfile ; then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
    DIFF="diff -u"
else
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
    DIFF="diff"
fi
rm $tmpfile

# We don't want gcc < 3.0
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for a supported version of gcc" >&5
printf %s "checking for a supported version of gcc... " >&6; }

# Obtain the compiler version.
#
# A few examples of how the ${CC} --version output looks like:
#
# ######## gcc variants ########
# Arch Linux: i686-pc-linux-gnu-gcc (GCC) 4.6.2
# Debian Linux: gcc (Debian 4.3.2-1.1) 4.3.2
# openSUSE: gcc (SUSE Linux) 4.5.1 20101208 [gcc-4_5-branch revision 167585]
# Exherbo Linux: x86_64-pc-linux-gnu-gcc (Exherbo gcc-4.6.2) 4.6.2
# MontaVista Linux for ARM: arm-none-linux-gnueabi-gcc (Sourcery G++ Lite 2009q1-203) 4.3.3
# OS/X 10.6: i686-apple-darwin10-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5666) (dot 3)
# OS/X 10.7: i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
#
# ######## clang variants ########
# Clang: clang version 2.9 (tags/RELEASE_29/final)
# Apple clang: Apple clang version 3.1 (tags/Apple/clang-318.0.58) (based on LLVM 3.1svn)
# FreeBSD clang: FreeBSD clang version 3.1 (branches/release_31 156863) 20120523
#
# ######## Apple LLVM variants ########
# Apple LLVM version 5.1 (clang-503.0.40) (based on LLVM 3.4svn)
# Apple LLVM version 6.0 (clang-600.0.51) (based on LLVM 3.5svn)
#

if test "x`${CC} --version | $SED -n -e 's/.*\Apple \(LLVM\) version.*clang.*/\1/p'`" = "xLLVM" ;
then
    is_clang="applellvm"
    gcc_version=`${CC} --version | $SED -n -e 's/.*LLVM version \([0-9.]*\).*$/\1/p'`
elif test "x`${CC} --version | $SED -n -e 's/.*\(clang\) version.*/\1/p'`" = "xclang" ;
then
    is_clang="clang"
    # Don't use -dumpversion with clang: it will always produce "4.2.1".
    gcc_version=`${CC} --version | $SED -n -e 's/.*clang version \([0-9.]*\).*$/\1/p'`
elif test "x`${CC} --version | $SED -n -e 's/icc.*\(ICC\).*/\1/p'`" = "xICC" ;
then
    is_clang="icc"
    gcc_version=`${CC} -dumpversion 2>/dev/null`
else
    is_clang="notclang"
    gcc_version=`${CC} -dumpversion 2>/dev/null`
    if test "x$gcc_version" = x; then
	gcc_version=`${CC} --version | $SED -n -e 's/[^ ]*gcc[^ ]* ([^)]*) \([0-9.]*\).*$/\1/p'`
    fi
fi

 if test $is_clang = clang -o $is_clang = applellvm; then
  COMPILER_IS_CLANG_TRUE=
  COMPILER_IS_CLANG_FALSE='#'
else
  COMPILER_IS_CLANG_TRUE='#'
  COMPILER_IS_CLANG_FALSE=
fi

 if test $is_clang = icc; then
  COMPILER_IS_ICC_TRUE=
  COMPILER_IS_ICC_FALSE='#'
else
  COMPILER_IS_ICC_TRUE='#'
  COMPILER_IS_ICC_FALSE=
fi


# Note: m4 arguments are quoted with [ and ] so square brackets in shell
# statements have to be quoted.
case "${is_clang}-${gcc_version}" in
     applellvm-5.1|applellvm-[6-9].*|applellvm-[1-9][0-9]*)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (Apple LLVM version ${gcc_version})" >&5
printf "%s\n" "ok (Apple LLVM version ${gcc_version})" >&6; }
	;;
     icc-1[3-9].*|icc-202[0-9].*)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (ICC version ${gcc_version})" >&5
printf "%s\n" "ok (ICC version ${gcc_version})" >&6; }
	;;
     notclang-[3-9]|notclang-[3-9].*|notclang-[1-9][0-9]*)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${gcc_version})" >&5
printf "%s\n" "ok (${gcc_version})" >&6; }
	;;
     clang-2.9|clang-[3-9].*|clang-[1-9][0-9]*)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (clang-${gcc_version})" >&5
printf "%s\n" "ok (clang-${gcc_version})" >&6; }
	;;
     *)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no (${is_clang}-${gcc_version})" >&5
printf "%s\n" "no (${is_clang}-${gcc_version})" >&6; }
	as_fn_error $? "please use gcc >= 3.0 or clang >= 2.9 or icc >= 13.0 or Apple LLVM >= 5.1" "$LINENO" 5
	;;
esac

#----------------------------------------------------------------------------
# Arch/OS/platform tests.
#----------------------------------------------------------------------------
# We create a number of arch/OS/platform-related variables.  We prefix them
# all with "VGCONF_" which indicates that they are defined at
# configure-time, and distinguishes them from the VGA_*/VGO_*/VGP_*
# variables used when compiling C files.



  # Make sure we can run config.sub.
$SHELL "${ac_aux_dir}config.sub" sun4 >/dev/null 2>&1 ||
  as_fn_error $? "cannot run $SHELL ${ac_aux_dir}config.sub" "$LINENO" 5

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking build system type" >&5
printf %s "checking build system type... " >&6; }
if test ${ac_cv_build+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_build_alias=$build_alias
test "x$ac_build_alias" = x &&
  ac_build_alias=`$SHELL "${ac_aux_dir}config.guess"`
test "x$ac_build_alias" = x &&
  as_fn_error $? "cannot guess build type; you must specify one" "$LINENO" 5
ac_cv_build=`$SHELL "${ac_aux_dir}config.sub" $ac_build_alias` ||
  as_fn_error $? "$SHELL ${ac_aux_dir}config.sub $ac_build_alias failed" "$LINENO" 5

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_build" >&5
printf "%s\n" "$ac_cv_build" >&6; }
case $ac_cv_build in
*-*-*) ;;
*) as_fn_error $? "invalid value of canonical build" "$LINENO" 5;;
esac
build=$ac_cv_build
ac_save_IFS=$IFS; IFS='-'
set x $ac_cv_build
shift
build_cpu=$1
build_vendor=$2
shift; shift
# Remember, the first character of IFS is used to create $*,
# except with old shells:
build_os=$*
IFS=$ac_save_IFS
case $build_os in *\ *) build_os=`echo "$build_os" | sed 's/ /-/g'`;; esac


{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking host system type" >&5
printf %s "checking host system type... " >&6; }
if test ${ac_cv_host+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test "x$host_alias" = x; then
  ac_cv_host=$ac_cv_build
else
  ac_cv_host=`$SHELL "${ac_aux_dir}config.sub" $host_alias` ||
    as_fn_error $? "$SHELL ${ac_aux_dir}config.sub $host_alias failed" "$LINENO" 5
fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_host" >&5
printf "%s\n" "$ac_cv_host" >&6; }
case $ac_cv_host in
*-*-*) ;;
*) as_fn_error $? "invalid value of canonical host" "$LINENO" 5;;
esac
host=$ac_cv_host
ac_save_IFS=$IFS; IFS='-'
set x $ac_cv_host
shift
host_cpu=$1
host_vendor=$2
shift; shift
# Remember, the first character of IFS is used to create $*,
# except with old shells:
host_os=$*
IFS=$ac_save_IFS
case $host_os in *\ *) host_os=`echo "$host_os" | sed 's/ /-/g'`;; esac



{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for a supported CPU" >&5
printf %s "checking for a supported CPU... " >&6; }

# ARCH_MAX reflects the most that this CPU can do: for example if it
# is a 64-bit capable PowerPC, then it must be set to ppc64 and not ppc32.
# Ditto for amd64.  It is used for more configuration below, but is not used
# outside this file.
#
# Power PC returns powerpc for Big Endian.  This was not changed when Little
# Endian support was added to the 64-bit architecture.  The 64-bit Little
# Endian systems explicitly state le in the host_cpu.  For clarity in the
# Valgrind code, the ARCH_MAX name will state LE or BE for the endianness of
# the 64-bit system.  Big Endian is the only mode supported on 32-bit Power PC.
# The abreviation PPC or ppc refers to 32-bit and 64-bit systems with either
# Endianness.  The name PPC64 or ppc64 to 64-bit systems of either Endianness.
# The names ppc64be or PPC64BE refer to only 64-bit systems that are Big
# Endian.  Similarly, ppc64le or PPC64LE refer to only 64-bit systems that are
# Little Endian.

VGCONF_PLATFORM_ARM_ARCH=

case "${host_cpu}" in
     i?86)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        ARCH_MAX="x86"
        ;;

     x86_64|amd64)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        ARCH_MAX="amd64"
        ;;

     powerpc64)
     # this only referrs to 64-bit Big Endian
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        ARCH_MAX="ppc64be"
        ;;

     powerpc64le)
     # this only referrs to 64-bit Little Endian
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        ARCH_MAX="ppc64le"
        ;;

     powerpc)
        # On Linux this means only a 32-bit capable CPU.
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        ARCH_MAX="ppc32"
        ;;

     s390x)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        ARCH_MAX="s390x"
        ;;

     armv8*)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        VGCONF_PLATFORM_ARM_ARCH="-marm -mcpu=cortex-a8"
        ARCH_MAX="arm"
        ;;

     armv7*)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        VGCONF_PLATFORM_ARM_ARCH="-marm -mcpu=cortex-a8"
        ARCH_MAX="arm"
        ;;

     arm*)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        VGCONF_PLATFORM_ARM_ARCH="-march=armv6"
        ARCH_MAX="arm"
        ;;

     aarch64*)
       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
       ARCH_MAX="arm64"
       ;;

     mips)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        ARCH_MAX="mips32"
        ;;

     mipsel)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        ARCH_MAX="mips32"
        ;;

     mipsisa32r2)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        ARCH_MAX="mips32"
        ;;

     mips64*)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        ARCH_MAX="mips64"
        ;;

     mipsisa64*)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        ARCH_MAX="mips64"
        ;;
     nanomips)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu})" >&5
printf "%s\n" "ok (${host_cpu})" >&6; }
        ARCH_MAX="nanomips"
        ;;

     *)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no (${host_cpu})" >&5
printf "%s\n" "no (${host_cpu})" >&6; }
	as_fn_error $? "Unsupported host architecture. Sorry" "$LINENO" 5
	;;
esac



#----------------------------------------------------------------------------

# Sometimes it's convenient to subvert the bi-arch build system and
# just have a single build even though the underlying platform is
# capable of both.  Hence handle --enable-only64bit and
# --enable-only32bit.  Complain if both are issued :-)
# [Actually, if either of these options are used, I think both get built,
# but only one gets installed.  So if you use an in-place build, both can be
# used. --njn]

# Check if a 64-bit only build has been requested
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for a 64-bit only build" >&5
printf %s "checking for a 64-bit only build... " >&6; }
if test ${vg_cv_only64bit+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  # Check whether --enable-only64bit was given.
if test ${enable_only64bit+y}
then :
  enableval=$enable_only64bit; vg_cv_only64bit=$enableval
else $as_nop
  vg_cv_only64bit=no
fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $vg_cv_only64bit" >&5
printf "%s\n" "$vg_cv_only64bit" >&6; }

# Check if a 32-bit only build has been requested
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for a 32-bit only build" >&5
printf %s "checking for a 32-bit only build... " >&6; }
if test ${vg_cv_only32bit+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  # Check whether --enable-only32bit was given.
if test ${enable_only32bit+y}
then :
  enableval=$enable_only32bit; vg_cv_only32bit=$enableval
else $as_nop
  vg_cv_only32bit=no
fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $vg_cv_only32bit" >&5
printf "%s\n" "$vg_cv_only32bit" >&6; }

# Stay sane
if test x$vg_cv_only64bit = xyes -a x$vg_cv_only32bit = xyes; then
   as_fn_error $? "Nonsensical: both --enable-only64bit and --enable-only32bit." "$LINENO" 5
fi

#----------------------------------------------------------------------------

# VGCONF_OS is the primary build OS, eg. "linux".  It is passed in to
# compilation of many C files via -VGO_$(VGCONF_OS) and
# -VGP_$(VGCONF_ARCH_PRI)_$(VGCONF_OS).
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for a supported OS" >&5
printf %s "checking for a supported OS... " >&6; }


DEFAULT_SUPP=""

case "${host_os}" in
     *linux*)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_os})" >&5
printf "%s\n" "ok (${host_os})" >&6; }
        VGCONF_OS="linux"

        # Ok, this is linux. Check the kernel version
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the kernel version" >&5
printf %s "checking for the kernel version... " >&6; }

        kernel=`uname -r`

        case "${kernel}" in
             0.*|1.*|2.0.*|2.1.*|2.2.*|2.3.*|2.4.*|2.5.*)
        	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported (${kernel})" >&5
printf "%s\n" "unsupported (${kernel})" >&6; }
        	    as_fn_error $? "Valgrind needs a Linux kernel >= 2.6" "$LINENO" 5
        	    ;;

             *)
        	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: 2.6 or later (${kernel})" >&5
printf "%s\n" "2.6 or later (${kernel})" >&6; }
                    ;;
        esac

        ;;

     *freebsd*)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_os})" >&5
printf "%s\n" "ok (${host_os})" >&6; }
        VGCONF_OS="freebsd"

printf "%s\n" "#define FREEBSD_10 1000" >>confdefs.h

        freebsd_10=1000

printf "%s\n" "#define FREEBSD_11 1100" >>confdefs.h

        freebsd_11=1100

printf "%s\n" "#define FREEBSD_12 1200" >>confdefs.h

        freebsd_12=1200

printf "%s\n" "#define FREEBSD_12_2 1220" >>confdefs.h

        freebsd_12_2=1220

printf "%s\n" "#define FREEBSD_13_0 1300" >>confdefs.h

        freebsd_13_0=1300

printf "%s\n" "#define FREEBSD_13_1 1310" >>confdefs.h

        freebsd_13_1=1310

printf "%s\n" "#define FREEBSD_13_2 1320" >>confdefs.h

        freebsd_13_2=1320

printf "%s\n" "#define FREEBSD_13_3 1330" >>confdefs.h

        freebsd_13_3=1330

printf "%s\n" "#define FREEBSD_14 1400" >>confdefs.h

        freebsd_14=1400

printf "%s\n" "#define FREEBSD_15 1500" >>confdefs.h

        freebsd_15=1500

        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the kernel version" >&5
printf %s "checking for the kernel version... " >&6; }
        kernel=`uname -r`

        case "${kernel}" in
        10.*)
           { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: FreeBSD 10.x (${kernel})" >&5
printf "%s\n" "FreeBSD 10.x (${kernel})" >&6; }

printf "%s\n" "#define FREEBSD_VERS FREEBSD_10" >>confdefs.h

           freebsd_vers=$freebsd_10
           ;;
        11.*)
           { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: FreeBSD 11.x (${kernel})" >&5
printf "%s\n" "FreeBSD 11.x (${kernel})" >&6; }

printf "%s\n" "#define FREEBSD_VERS FREEBSD_11" >>confdefs.h

           freebsd_vers=$freebsd_11
           ;;
        12.*)
           case "${kernel}" in
           12.[0-1]-*)
              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: FreeBSD 12.x (${kernel})" >&5
printf "%s\n" "FreeBSD 12.x (${kernel})" >&6; }

printf "%s\n" "#define FREEBSD_VERS FREEBSD_12" >>confdefs.h

              freebsd_vers=$freebsd_12
              ;;
           *)
              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: FreeBSD 12.x (${kernel})" >&5
printf "%s\n" "FreeBSD 12.x (${kernel})" >&6; }

printf "%s\n" "#define FREEBSD_VERS FREEBSD_12_2" >>confdefs.h

              freebsd_vers=$freebsd_12_2
              ;;
           esac
           ;;
        13.*)
           case "${kernel}" in
           13.0-*)
              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: FreeBSD 13.0 (${kernel})" >&5
printf "%s\n" "FreeBSD 13.0 (${kernel})" >&6; }

printf "%s\n" "#define FREEBSD_VERS FREEBSD_13_0" >>confdefs.h

              freebsd_vers=$freebsd_13_0
              ;;
           13.1-*)
              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: FreeBSD 13.1 (${kernel})" >&5
printf "%s\n" "FreeBSD 13.1 (${kernel})" >&6; }

printf "%s\n" "#define FREEBSD_VERS FREEBSD_13_1" >>confdefs.h

              freebsd_vers=$freebsd_13_1
              ;;
           13.2-*)
              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: FreeBSD 13.2 (${kernel})" >&5
printf "%s\n" "FreeBSD 13.2 (${kernel})" >&6; }

printf "%s\n" "#define FREEBSD_VERS FREEBSD_13_2" >>confdefs.h

              freebsd_vers=$freebsd_13_2
              ;;
           13.3-*)
              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: FreeBSD 13.3 (${kernel})" >&5
printf "%s\n" "FreeBSD 13.3 (${kernel})" >&6; }

printf "%s\n" "#define FREEBSD_VERS FREEBSD_13_3" >>confdefs.h

              freebsd_vers=$freebsd_13_3
              ;;
           *)
              { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported (${kernel})" >&5
printf "%s\n" "unsupported (${kernel})" >&6; }
              as_fn_error $? "Valgrind works on FreeBSD 10.x to 15.x" "$LINENO" 5
              ;;
           esac
           ;;
        14.*)
           { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: FreeBSD 14.x (${kernel})" >&5
printf "%s\n" "FreeBSD 14.x (${kernel})" >&6; }

printf "%s\n" "#define FREEBSD_VERS FREEBSD_14" >>confdefs.h

           freebsd_vers=$freebsd_14
           ;;
        15.*)
           { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: FreeBSD 15.x (${kernel})" >&5
printf "%s\n" "FreeBSD 15.x (${kernel})" >&6; }

printf "%s\n" "#define FREEBSD_VERS FREEBSD_15" >>confdefs.h

           freebsd_vers=$freebsd_15
           ;;
        *)
           { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported (${kernel})" >&5
printf "%s\n" "unsupported (${kernel})" >&6; }
           as_fn_error $? "Valgrind works on FreeBSD 10.x to 15.x" "$LINENO" 5
           ;;
        esac

        DEFAULT_SUPP="$srcdir/freebsd.supp $srcdir/freebsd-helgrind.supp $srcdir/freebsd-drd.supp ${DEFAULT_SUPP}"
        ;;

     *darwin*)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_os})" >&5
printf "%s\n" "ok (${host_os})" >&6; }
        VGCONF_OS="darwin"

printf "%s\n" "#define DARWIN_10_5 100500" >>confdefs.h


printf "%s\n" "#define DARWIN_10_6 100600" >>confdefs.h


printf "%s\n" "#define DARWIN_10_7 100700" >>confdefs.h


printf "%s\n" "#define DARWIN_10_8 100800" >>confdefs.h


printf "%s\n" "#define DARWIN_10_9 100900" >>confdefs.h


printf "%s\n" "#define DARWIN_10_10 101000" >>confdefs.h


printf "%s\n" "#define DARWIN_10_11 101100" >>confdefs.h


printf "%s\n" "#define DARWIN_10_12 101200" >>confdefs.h


printf "%s\n" "#define DARWIN_10_13 101300" >>confdefs.h


	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the kernel version" >&5
printf %s "checking for the kernel version... " >&6; }
	kernel=`uname -r`

        # Nb: for Darwin we set DEFAULT_SUPP here.  That's because Darwin
        # has only one relevant version, the OS version. The `uname` check
        # is a good way to get that version (i.e. "Darwin 9.6.0" is Mac OS
        # X 10.5.6, and "Darwin 10.x" is Mac OS X 10.6.x Snow Leopard,
        # and possibly "Darwin 11.x" is Mac OS X 10.7.x Lion),
        # and we don't know of an macros similar to __GLIBC__ to get that info.
        #
        # XXX: `uname -r` won't do the right thing for cross-compiles, but
        # that's not a problem yet.
        #
        # jseward 21 Sept 2011: I seriously doubt whether V 3.7.0 will work
        # on OS X 10.5.x; I haven't tested yet, and only plan to test 3.7.0
        # on 10.6.8 and 10.7.1.  Although tempted to delete the configure
        # time support for 10.5 (the 9.* pattern just below), I'll leave it
        # in for now, just in case anybody wants to give it a try.  But I'm
        # assuming that 3.7.0 is a Snow Leopard and Lion-only release.
	case "${kernel}" in
	     9.*)
		  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Darwin 9.x (${kernel}) / Mac OS X 10.5 Leopard" >&5
printf "%s\n" "Darwin 9.x (${kernel}) / Mac OS X 10.5 Leopard" >&6; }

printf "%s\n" "#define DARWIN_VERS DARWIN_10_5" >>confdefs.h

                  DEFAULT_SUPP="$srcdir/darwin9.supp ${DEFAULT_SUPP}"
                  DEFAULT_SUPP="$srcdir/darwin9-drd.supp ${DEFAULT_SUPP}"
		  ;;
	     10.*)
		  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Darwin 10.x (${kernel}) / Mac OS X 10.6 Snow Leopard" >&5
printf "%s\n" "Darwin 10.x (${kernel}) / Mac OS X 10.6 Snow Leopard" >&6; }

printf "%s\n" "#define DARWIN_VERS DARWIN_10_6" >>confdefs.h

                  DEFAULT_SUPP="$srcdir/darwin10.supp ${DEFAULT_SUPP}"
                  DEFAULT_SUPP="$srcdir/darwin10-drd.supp ${DEFAULT_SUPP}"
		  ;;
	     11.*)
		  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Darwin 11.x (${kernel}) / Mac OS X 10.7 Lion" >&5
printf "%s\n" "Darwin 11.x (${kernel}) / Mac OS X 10.7 Lion" >&6; }

printf "%s\n" "#define DARWIN_VERS DARWIN_10_7" >>confdefs.h

                  DEFAULT_SUPP="$srcdir/darwin11.supp ${DEFAULT_SUPP}"
                  DEFAULT_SUPP="$srcdir/darwin10-drd.supp ${DEFAULT_SUPP}"
		  ;;
	     12.*)
		  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Darwin 12.x (${kernel}) / Mac OS X 10.8 Mountain Lion" >&5
printf "%s\n" "Darwin 12.x (${kernel}) / Mac OS X 10.8 Mountain Lion" >&6; }

printf "%s\n" "#define DARWIN_VERS DARWIN_10_8" >>confdefs.h

                  DEFAULT_SUPP="$srcdir/darwin12.supp ${DEFAULT_SUPP}"
                  DEFAULT_SUPP="$srcdir/darwin10-drd.supp ${DEFAULT_SUPP}"
		  ;;
	     13.*)
		  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Darwin 13.x (${kernel}) / Mac OS X 10.9 Mavericks" >&5
printf "%s\n" "Darwin 13.x (${kernel}) / Mac OS X 10.9 Mavericks" >&6; }

printf "%s\n" "#define DARWIN_VERS DARWIN_10_9" >>confdefs.h

                  DEFAULT_SUPP="$srcdir/darwin13.supp ${DEFAULT_SUPP}"
                  DEFAULT_SUPP="$srcdir/darwin10-drd.supp ${DEFAULT_SUPP}"
		  ;;
	     14.*)
		  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Darwin 14.x (${kernel}) / Mac OS X 10.10 Yosemite" >&5
printf "%s\n" "Darwin 14.x (${kernel}) / Mac OS X 10.10 Yosemite" >&6; }

printf "%s\n" "#define DARWIN_VERS DARWIN_10_10" >>confdefs.h

                  DEFAULT_SUPP="$srcdir/darwin14.supp ${DEFAULT_SUPP}"
                  DEFAULT_SUPP="$srcdir/darwin10-drd.supp ${DEFAULT_SUPP}"
		  ;;
	     15.*)
		  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Darwin 15.x (${kernel}) / Mac OS X 10.11 El Capitan" >&5
printf "%s\n" "Darwin 15.x (${kernel}) / Mac OS X 10.11 El Capitan" >&6; }

printf "%s\n" "#define DARWIN_VERS DARWIN_10_11" >>confdefs.h

                  DEFAULT_SUPP="$srcdir/darwin15.supp ${DEFAULT_SUPP}"
                  DEFAULT_SUPP="$srcdir/darwin10-drd.supp ${DEFAULT_SUPP}"
		  ;;
	     16.*)
		  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Darwin 16.x (${kernel}) / macOS 10.12 Sierra" >&5
printf "%s\n" "Darwin 16.x (${kernel}) / macOS 10.12 Sierra" >&6; }

printf "%s\n" "#define DARWIN_VERS DARWIN_10_12" >>confdefs.h

                  DEFAULT_SUPP="$srcdir/darwin16.supp ${DEFAULT_SUPP}"
                  DEFAULT_SUPP="$srcdir/darwin10-drd.supp ${DEFAULT_SUPP}"
		  ;;
	     17.*)
		  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Darwin 17.x (${kernel}) / macOS 10.13 High Sierra" >&5
printf "%s\n" "Darwin 17.x (${kernel}) / macOS 10.13 High Sierra" >&6; }

printf "%s\n" "#define DARWIN_VERS DARWIN_10_13" >>confdefs.h

		  DEFAULT_SUPP="$srcdir/darwin17.supp ${DEFAULT_SUPP}"
		  DEFAULT_SUPP="$srcdir/darwin10-drd.supp ${DEFAULT_SUPP}"
		  ;;
             *)
		  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported (${kernel})" >&5
printf "%s\n" "unsupported (${kernel})" >&6; }
		  as_fn_error $? "Valgrind works on Darwin 10.x, 11.x, 12.x, 13.x, 14.x, 15.x, 16.x and 17.x (Mac OS X 10.6/7/8/9/10/11 and macOS 10.12/13)" "$LINENO" 5
		  ;;
	esac
        ;;

     solaris2.11*)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_os})" >&5
printf "%s\n" "ok (${host_os})" >&6; }
        VGCONF_OS="solaris"

        uname_v=$( uname -v )
        case "$uname_v" in
             11.4.*)
                 DEFAULT_SUPP="$srcdir/solaris12.supp ${DEFAULT_SUPP}"
                 ;;
             *)
                 DEFAULT_SUPP="$srcdir/solaris11.supp ${DEFAULT_SUPP}"
                 ;;
	esac
        ;;

     solaris2.12*)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_os})" >&5
printf "%s\n" "ok (${host_os})" >&6; }
        VGCONF_OS="solaris"
        DEFAULT_SUPP="$srcdir/solaris12.supp ${DEFAULT_SUPP}"
        ;;

     *)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no (${host_os})" >&5
printf "%s\n" "no (${host_os})" >&6; }
	as_fn_error $? "Valgrind is operating system specific. Sorry." "$LINENO" 5
	;;
esac

#----------------------------------------------------------------------------

# If we are building on a 64 bit platform test to see if the system
# supports building 32 bit programs and disable 32 bit support if it
# does not support building 32 bit programs

case "$ARCH_MAX-$VGCONF_OS" in
     amd64-linux|ppc64be-linux|arm64-linux|amd64-solaris)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for 32 bit build support" >&5
printf %s "checking for 32 bit build support... " >&6; }
        safe_CFLAGS=$CFLAGS
        CFLAGS="-m32"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

          return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

        vg_cv_only64bit="yes"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
        CFLAGS=$safe_CFLAGS;;
    mips64-linux)
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for 32 bit build support" >&5
printf %s "checking for 32 bit build support... " >&6; }
        safe_CFLAGS=$CFLAGS
        CFLAGS="$CFLAGS -mips32 -mabi=32"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

          #include <sys/prctl.h>

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

        vg_cv_only64bit="yes"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
        CFLAGS=$safe_CFLAGS;;
esac

if test x$vg_cv_only64bit = xyes -a x$vg_cv_only32bit = xyes; then
   as_fn_error $? "--enable-only32bit was specified but system does not support 32 bit builds" "$LINENO" 5
fi

#----------------------------------------------------------------------------

# VGCONF_ARCH_PRI is the arch for the primary build target, eg. "amd64".  By
# default it's the same as ARCH_MAX.  But if, say, we do a build on an amd64
# machine, but --enable-only32bit has been requested, then ARCH_MAX (see
# above) will be "amd64" since that reflects the most that this cpu can do,
# but VGCONF_ARCH_PRI will be downgraded to "x86", since that reflects the
# arch corresponding to the primary build (VGCONF_PLATFORM_PRI_CAPS).  It is
# passed in to compilation of many C files via -VGA_$(VGCONF_ARCH_PRI) and
# -VGP_$(VGCONF_ARCH_PRI)_$(VGCONF_OS).


# VGCONF_ARCH_SEC is the arch for the secondary build target, eg. "x86".
# It is passed in to compilation of many C files via -VGA_$(VGCONF_ARCH_SEC)
# and -VGP_$(VGCONF_ARCH_SEC)_$(VGCONF_OS), if there is a secondary target.
# It is empty if there is no secondary target.


# VGCONF_PLATFORM_PRI_CAPS is the primary build target, eg. "AMD64_LINUX".
# The entire system, including regression and performance tests, will be
# built for this target.  The "_CAPS" indicates that the name is in capital
# letters, and it also uses '_' rather than '-' as a separator, because it's
# used to create various Makefile variables, which are all in caps by
# convention and cannot contain '-' characters.  This is in contrast to
# VGCONF_ARCH_PRI and VGCONF_OS which are not in caps.


# VGCONF_PLATFORM_SEC_CAPS is the secondary build target, if there is one.
# Valgrind and tools will also be built for this target, but not the
# regression or performance tests.
#
# By default, the primary arch is the same as the "max" arch, as commented
# above (at the definition of ARCH_MAX).  We may choose to downgrade it in
# the big case statement just below here, in the case where we're building
# on a 64 bit machine but have been requested only to do a 32 bit build.


{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for a supported CPU/OS combination" >&5
printf %s "checking for a supported CPU/OS combination... " >&6; }

# NB.  The load address for a given platform may be specified in more
# than one place, in some cases, depending on whether we're doing a biarch,
# 32-bit only or 64-bit only build.  eg see case for amd64-linux below.
# Be careful to give consistent values in all subcases.  Also, all four
# valt_load_addres_{pri,sec}_{norml,inner} values must always be set,
# even if it is to "0xUNSET".
#
case "$ARCH_MAX-$VGCONF_OS" in
     x86-linux)
        VGCONF_ARCH_PRI="x86"
        VGCONF_ARCH_SEC=""
	VGCONF_PLATFORM_PRI_CAPS="X86_LINUX"
	VGCONF_PLATFORM_SEC_CAPS=""
        valt_load_address_pri_norml="0x58000000"
        valt_load_address_pri_inner="0x38000000"
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
	;;
     amd64-linux)
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
	if test x$vg_cv_only64bit = xyes; then
           VGCONF_ARCH_PRI="amd64"
           VGCONF_ARCH_SEC=""
	   VGCONF_PLATFORM_PRI_CAPS="AMD64_LINUX"
	   VGCONF_PLATFORM_SEC_CAPS=""
           valt_load_address_pri_norml="0x58000000"
           valt_load_address_pri_inner="0x38000000"
	elif test x$vg_cv_only32bit = xyes; then
	   VGCONF_ARCH_PRI="x86"
           VGCONF_ARCH_SEC=""
	   VGCONF_PLATFORM_PRI_CAPS="X86_LINUX"
	   VGCONF_PLATFORM_SEC_CAPS=""
           valt_load_address_pri_norml="0x58000000"
           valt_load_address_pri_inner="0x38000000"
	else
           VGCONF_ARCH_PRI="amd64"
           VGCONF_ARCH_SEC="x86"
	   VGCONF_PLATFORM_PRI_CAPS="AMD64_LINUX"
	   VGCONF_PLATFORM_SEC_CAPS="X86_LINUX"
           valt_load_address_pri_norml="0x58000000"
           valt_load_address_pri_inner="0x38000000"
           valt_load_address_sec_norml="0x58000000"
           valt_load_address_sec_inner="0x38000000"
	fi
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
	;;
     ppc32-linux)
        VGCONF_ARCH_PRI="ppc32"
        VGCONF_ARCH_SEC=""
	VGCONF_PLATFORM_PRI_CAPS="PPC32_LINUX"
	VGCONF_PLATFORM_SEC_CAPS=""
        valt_load_address_pri_norml="0x58000000"
        valt_load_address_pri_inner="0x38000000"
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
	;;
     ppc64be-linux)
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
	if test x$vg_cv_only64bit = xyes; then
	   VGCONF_ARCH_PRI="ppc64be"
           VGCONF_ARCH_SEC=""
	   VGCONF_PLATFORM_PRI_CAPS="PPC64BE_LINUX"
	   VGCONF_PLATFORM_SEC_CAPS=""
           valt_load_address_pri_norml="0x58000000"
           valt_load_address_pri_inner="0x38000000"
	elif test x$vg_cv_only32bit = xyes; then
	   VGCONF_ARCH_PRI="ppc32"
           VGCONF_ARCH_SEC=""
	   VGCONF_PLATFORM_PRI_CAPS="PPC32_LINUX"
	   VGCONF_PLATFORM_SEC_CAPS=""
           valt_load_address_pri_norml="0x58000000"
           valt_load_address_pri_inner="0x38000000"
	else
	   VGCONF_ARCH_PRI="ppc64be"
           VGCONF_ARCH_SEC="ppc32"
	   VGCONF_PLATFORM_PRI_CAPS="PPC64BE_LINUX"
	   VGCONF_PLATFORM_SEC_CAPS="PPC32_LINUX"
           valt_load_address_pri_norml="0x58000000"
           valt_load_address_pri_inner="0x38000000"
           valt_load_address_sec_norml="0x58000000"
           valt_load_address_sec_inner="0x38000000"
	fi
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
	;;
     ppc64le-linux)
        # Little Endian is only supported on PPC64
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        VGCONF_ARCH_PRI="ppc64le"
        VGCONF_ARCH_SEC=""
        VGCONF_PLATFORM_PRI_CAPS="PPC64LE_LINUX"
        VGCONF_PLATFORM_SEC_CAPS=""
        valt_load_address_pri_norml="0x58000000"
        valt_load_address_pri_inner="0x38000000"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
       ;;
     x86-freebsd)
        VGCONF_ARCH_PRI="x86"
        VGCONF_ARCH_SEC=""
        VGCONF_PLATFORM_PRI_CAPS="X86_FREEBSD"
        VGCONF_PLATFORM_SEC_CAPS=""
        valt_load_address_pri_norml="0x38000000"
        valt_load_address_pri_inner="0x28000000"
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
        ;;
     amd64-freebsd)
        if test x$vg_cv_only64bit = xyes; then
           VGCONF_ARCH_PRI="amd64"
           VGCONF_ARCH_SEC=""
           VGCONF_PLATFORM_PRI_CAPS="AMD64_FREEBSD"
           VGCONF_PLATFORM_SEC_CAPS=""
        elif test x$vg_cv_only32bit = xyes; then
           VGCONF_ARCH_PRI="x86"
           VGCONF_ARCH_SEC=""
           VGCONF_PLATFORM_PRI_CAPS="X86_FREEBSD"
           VGCONF_PLATFORM_SEC_CAPS=""
        else
           VGCONF_ARCH_PRI="amd64"
           VGCONF_ARCH_SEC="x86"
           VGCONF_PLATFORM_PRI_CAPS="AMD64_FREEBSD"
           VGCONF_PLATFORM_SEC_CAPS="X86_FREEBSD"
        fi
        # These work with either base clang or ports installed gcc
        # Hand rolled compilers probably need INSTALL_DIR/lib (at least for gcc)
        if test x$is_clang = xclang ; then
           FLAG_32ON64="-B/usr/lib32"
        else
           GCC_MAJOR_VERSION=`${CC} -dumpversion | $SED 's/\..*//' 2>/dev/null`
           FLAG_32ON64="-B/usr/local/lib32/gcc${GCC_MAJOR_VERSION} -Wl,-rpath,/usr/local/lib32/gcc${GCC_MAJOR_VERSION}/"
           FLAG_32ON64_GXX="-L/usr/local/lib32/gcc${GCC_MAJOR_VERSION} -lgcc_s"

        fi
        valt_load_address_pri_norml="0x38000000"
        valt_load_address_pri_inner="0x28000000"
        valt_load_address_sec_norml="0x38000000"
        valt_load_address_sec_inner="0x28000000"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
        ;;
     arm64-freebsd)
        VGCONF_ARCH_PRI="arm64"
        VGCONF_ARCH_SEC=""
        VGCONF_PLATFORM_PRI_CAPS="ARM64_FREEBSD"
        VGCONF_PLATFORM_SEC_CAPS=""
        valt_load_address_pri_norml="0x38000000"
        valt_load_address_pri_inner="0x28000000"
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
        ;;
     # Darwin gets identified as 32-bit even when it supports 64-bit.
     # (Not sure why, possibly because 'uname' returns "i386"?)  Just about
     # all Macs support both 32-bit and 64-bit, so we just build both.  If
     # someone has a really old 32-bit only machine they can (hopefully?)
     # build with --enable-only32bit.  See bug 243362.
     x86-darwin|amd64-darwin)
        ARCH_MAX="amd64"
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        if test x$vg_cv_only64bit = xyes; then
           VGCONF_ARCH_PRI="amd64"
           VGCONF_ARCH_SEC=""
           VGCONF_PLATFORM_PRI_CAPS="AMD64_DARWIN"
           VGCONF_PLATFORM_SEC_CAPS=""
           valt_load_address_pri_norml="0x158000000"
           valt_load_address_pri_inner="0x138000000"
        elif test x$vg_cv_only32bit = xyes; then
           VGCONF_ARCH_PRI="x86"
           VGCONF_ARCH_SEC=""
           VGCONF_PLATFORM_PRI_CAPS="X86_DARWIN"
           VGCONF_PLATFORM_SEC_CAPS=""
           VGCONF_ARCH_PRI_CAPS="x86"
           valt_load_address_pri_norml="0x58000000"
           valt_load_address_pri_inner="0x38000000"
        else
           VGCONF_ARCH_PRI="amd64"
           VGCONF_ARCH_SEC="x86"
           VGCONF_PLATFORM_PRI_CAPS="AMD64_DARWIN"
           VGCONF_PLATFORM_SEC_CAPS="X86_DARWIN"
           valt_load_address_pri_norml="0x158000000"
           valt_load_address_pri_inner="0x138000000"
           valt_load_address_sec_norml="0x58000000"
           valt_load_address_sec_inner="0x38000000"
        fi
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
        ;;
     arm-linux)
        VGCONF_ARCH_PRI="arm"
        VGCONF_PLATFORM_PRI_CAPS="ARM_LINUX"
        VGCONF_PLATFORM_SEC_CAPS=""
        valt_load_address_pri_norml="0x58000000"
        valt_load_address_pri_inner="0x38000000"
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${host_cpu}-${host_os})" >&5
printf "%s\n" "ok (${host_cpu}-${host_os})" >&6; }
        ;;
     arm64-linux)
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        if test x$vg_cv_only64bit = xyes; then
           VGCONF_ARCH_PRI="arm64"
           VGCONF_ARCH_SEC=""
           VGCONF_PLATFORM_PRI_CAPS="ARM64_LINUX"
           VGCONF_PLATFORM_SEC_CAPS=""
           valt_load_address_pri_norml="0x58000000"
           valt_load_address_pri_inner="0x38000000"
        elif test x$vg_cv_only32bit = xyes; then
           VGCONF_ARCH_PRI="arm"
           VGCONF_ARCH_SEC=""
           VGCONF_PLATFORM_PRI_CAPS="ARM_LINUX"
           VGCONF_PLATFORM_SEC_CAPS=""
           valt_load_address_pri_norml="0x58000000"
           valt_load_address_pri_inner="0x38000000"
        else
           VGCONF_ARCH_PRI="arm64"
           VGCONF_ARCH_SEC="arm"
           VGCONF_PLATFORM_PRI_CAPS="ARM64_LINUX"
           VGCONF_PLATFORM_SEC_CAPS="ARM_LINUX"
           valt_load_address_pri_norml="0x58000000"
           valt_load_address_pri_inner="0x38000000"
           valt_load_address_sec_norml="0x58000000"
           valt_load_address_sec_inner="0x38000000"
        fi
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
        ;;
     s390x-linux)
        VGCONF_ARCH_PRI="s390x"
        VGCONF_ARCH_SEC=""
        VGCONF_PLATFORM_PRI_CAPS="S390X_LINUX"
        VGCONF_PLATFORM_SEC_CAPS=""
        # To improve branch prediction hit rate we want to have
        # the generated code close to valgrind (host) code
        valt_load_address_pri_norml="0x800000000"
        valt_load_address_pri_inner="0x810000000"
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
        ;;
     mips32-linux)
        VGCONF_ARCH_PRI="mips32"
        VGCONF_ARCH_SEC=""
        VGCONF_PLATFORM_PRI_CAPS="MIPS32_LINUX"
        VGCONF_PLATFORM_SEC_CAPS=""
        valt_load_address_pri_norml="0x58000000"
        valt_load_address_pri_inner="0x38000000"
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
        ;;
     mips64-linux)
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        if test x$vg_cv_only64bit = xyes; then
            VGCONF_ARCH_PRI="mips64"
            VGCONF_PLATFORM_SEC_CAPS=""
            VGCONF_PLATFORM_PRI_CAPS="MIPS64_LINUX"
            VGCONF_PLATFORM_SEC_CAPS=""
            valt_load_address_pri_norml="0x58000000"
            valt_load_address_pri_inner="0x38000000"
        elif test x$vg_cv_only32bit = xyes; then
            VGCONF_ARCH_PRI="mips32"
            VGCONF_ARCH_SEC=""
            VGCONF_PLATFORM_PRI_CAPS="MIPS32_LINUX"
            VGCONF_PLATFORM_SEC_CAPS=""
            valt_load_address_pri_norml="0x58000000"
            valt_load_address_pri_inner="0x38000000"
        else
            VGCONF_ARCH_PRI="mips64"
            VGCONF_ARCH_SEC="mips32"
            VGCONF_PLATFORM_PRI_CAPS="MIPS64_LINUX"
            VGCONF_PLATFORM_SEC_CAPS="MIPS32_LINUX"
            valt_load_address_pri_norml="0x58000000"
            valt_load_address_pri_inner="0x38000000"
            valt_load_address_sec_norml="0x58000000"
            valt_load_address_sec_inner="0x38000000"
        fi
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
        ;;
     nanomips-linux)
        VGCONF_ARCH_PRI="nanomips"
        VGCONF_ARCH_SEC=""
        VGCONF_PLATFORM_PRI_CAPS="NANOMIPS_LINUX"
        VGCONF_PLATFORM_SEC_CAPS=""
        valt_load_address_pri_norml="0x58000000"
        valt_load_address_pri_inner="0x38000000"
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
        ;;
     x86-solaris)
        VGCONF_ARCH_PRI="x86"
        VGCONF_ARCH_SEC=""
        VGCONF_PLATFORM_PRI_CAPS="X86_SOLARIS"
        VGCONF_PLATFORM_SEC_CAPS=""
        valt_load_address_pri_norml="0x58000000"
        valt_load_address_pri_inner="0x38000000"
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
        ;;
     amd64-solaris)
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        if test x$vg_cv_only64bit = xyes; then
           VGCONF_ARCH_PRI="amd64"
           VGCONF_ARCH_SEC=""
           VGCONF_PLATFORM_PRI_CAPS="AMD64_SOLARIS"
           VGCONF_PLATFORM_SEC_CAPS=""
           valt_load_address_pri_norml="0x58000000"
           valt_load_address_pri_inner="0x38000000"
        elif test x$vg_cv_only32bit = xyes; then
           VGCONF_ARCH_PRI="x86"
           VGCONF_ARCH_SEC=""
           VGCONF_PLATFORM_PRI_CAPS="X86_SOLARIS"
           VGCONF_PLATFORM_SEC_CAPS=""
           valt_load_address_pri_norml="0x58000000"
           valt_load_address_pri_inner="0x38000000"
        else
           VGCONF_ARCH_PRI="amd64"
           VGCONF_ARCH_SEC="x86"
           VGCONF_PLATFORM_PRI_CAPS="AMD64_SOLARIS"
           VGCONF_PLATFORM_SEC_CAPS="X86_SOLARIS"
           valt_load_address_pri_norml="0x58000000"
           valt_load_address_pri_inner="0x38000000"
           valt_load_address_sec_norml="0x58000000"
           valt_load_address_sec_inner="0x38000000"
        fi
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "ok (${ARCH_MAX}-${VGCONF_OS})" >&6; }
        ;;
    *)
        VGCONF_ARCH_PRI="unknown"
        VGCONF_ARCH_SEC="unknown"
	VGCONF_PLATFORM_PRI_CAPS="UNKNOWN"
	VGCONF_PLATFORM_SEC_CAPS="UNKNOWN"
        valt_load_address_pri_norml="0xUNSET"
        valt_load_address_pri_inner="0xUNSET"
        valt_load_address_sec_norml="0xUNSET"
        valt_load_address_sec_inner="0xUNSET"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no (${ARCH_MAX}-${VGCONF_OS})" >&5
printf "%s\n" "no (${ARCH_MAX}-${VGCONF_OS})" >&6; }
        as_fn_error $? "Valgrind is platform specific. Sorry. Please consider doing a port." "$LINENO" 5
        ;;
esac

#----------------------------------------------------------------------------

# Set up VGCONF_ARCHS_INCLUDE_<arch>.  Either one or two of these become
# defined.
 if test x$VGCONF_PLATFORM_PRI_CAPS = xX86_LINUX \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xX86_LINUX \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xX86_FREEBSD \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xX86_FREEBSD \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xX86_DARWIN \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xX86_DARWIN \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xX86_SOLARIS \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xX86_SOLARIS ; then
  VGCONF_ARCHS_INCLUDE_X86_TRUE=
  VGCONF_ARCHS_INCLUDE_X86_FALSE='#'
else
  VGCONF_ARCHS_INCLUDE_X86_TRUE='#'
  VGCONF_ARCHS_INCLUDE_X86_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_LINUX \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_FREEBSD \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_DARWIN \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_SOLARIS ; then
  VGCONF_ARCHS_INCLUDE_AMD64_TRUE=
  VGCONF_ARCHS_INCLUDE_AMD64_FALSE='#'
else
  VGCONF_ARCHS_INCLUDE_AMD64_TRUE='#'
  VGCONF_ARCHS_INCLUDE_AMD64_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xPPC32_LINUX \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xPPC32_LINUX ; then
  VGCONF_ARCHS_INCLUDE_PPC32_TRUE=
  VGCONF_ARCHS_INCLUDE_PPC32_FALSE='#'
else
  VGCONF_ARCHS_INCLUDE_PPC32_TRUE='#'
  VGCONF_ARCHS_INCLUDE_PPC32_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xPPC64BE_LINUX \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xPPC64LE_LINUX ; then
  VGCONF_ARCHS_INCLUDE_PPC64_TRUE=
  VGCONF_ARCHS_INCLUDE_PPC64_FALSE='#'
else
  VGCONF_ARCHS_INCLUDE_PPC64_TRUE='#'
  VGCONF_ARCHS_INCLUDE_PPC64_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xARM_LINUX \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xARM_LINUX ; then
  VGCONF_ARCHS_INCLUDE_ARM_TRUE=
  VGCONF_ARCHS_INCLUDE_ARM_FALSE='#'
else
  VGCONF_ARCHS_INCLUDE_ARM_TRUE='#'
  VGCONF_ARCHS_INCLUDE_ARM_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xARM64_LINUX \
               -o x$VGCONF_PLATFORM_PRI_CAPS = xARM64_FREEBSD ; then
  VGCONF_ARCHS_INCLUDE_ARM64_TRUE=
  VGCONF_ARCHS_INCLUDE_ARM64_FALSE='#'
else
  VGCONF_ARCHS_INCLUDE_ARM64_TRUE='#'
  VGCONF_ARCHS_INCLUDE_ARM64_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xS390X_LINUX ; then
  VGCONF_ARCHS_INCLUDE_S390X_TRUE=
  VGCONF_ARCHS_INCLUDE_S390X_FALSE='#'
else
  VGCONF_ARCHS_INCLUDE_S390X_TRUE='#'
  VGCONF_ARCHS_INCLUDE_S390X_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xMIPS32_LINUX \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xMIPS32_LINUX ; then
  VGCONF_ARCHS_INCLUDE_MIPS32_TRUE=
  VGCONF_ARCHS_INCLUDE_MIPS32_FALSE='#'
else
  VGCONF_ARCHS_INCLUDE_MIPS32_TRUE='#'
  VGCONF_ARCHS_INCLUDE_MIPS32_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xMIPS64_LINUX ; then
  VGCONF_ARCHS_INCLUDE_MIPS64_TRUE=
  VGCONF_ARCHS_INCLUDE_MIPS64_FALSE='#'
else
  VGCONF_ARCHS_INCLUDE_MIPS64_TRUE='#'
  VGCONF_ARCHS_INCLUDE_MIPS64_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xNANOMIPS_LINUX ; then
  VGCONF_ARCHS_INCLUDE_NANOMIPS_TRUE=
  VGCONF_ARCHS_INCLUDE_NANOMIPS_FALSE='#'
else
  VGCONF_ARCHS_INCLUDE_NANOMIPS_TRUE='#'
  VGCONF_ARCHS_INCLUDE_NANOMIPS_FALSE=
fi


# Set up VGCONF_PLATFORMS_INCLUDE_<platform>.  Either one or two of these
# become defined.
 if test x$VGCONF_PLATFORM_PRI_CAPS = xX86_LINUX \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xX86_LINUX; then
  VGCONF_PLATFORMS_INCLUDE_X86_LINUX_TRUE=
  VGCONF_PLATFORMS_INCLUDE_X86_LINUX_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_X86_LINUX_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_X86_LINUX_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_LINUX; then
  VGCONF_PLATFORMS_INCLUDE_AMD64_LINUX_TRUE=
  VGCONF_PLATFORMS_INCLUDE_AMD64_LINUX_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_AMD64_LINUX_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_AMD64_LINUX_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xPPC32_LINUX \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xPPC32_LINUX; then
  VGCONF_PLATFORMS_INCLUDE_PPC32_LINUX_TRUE=
  VGCONF_PLATFORMS_INCLUDE_PPC32_LINUX_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_PPC32_LINUX_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_PPC32_LINUX_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xPPC64BE_LINUX; then
  VGCONF_PLATFORMS_INCLUDE_PPC64BE_LINUX_TRUE=
  VGCONF_PLATFORMS_INCLUDE_PPC64BE_LINUX_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_PPC64BE_LINUX_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_PPC64BE_LINUX_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xPPC64LE_LINUX; then
  VGCONF_PLATFORMS_INCLUDE_PPC64LE_LINUX_TRUE=
  VGCONF_PLATFORMS_INCLUDE_PPC64LE_LINUX_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_PPC64LE_LINUX_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_PPC64LE_LINUX_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xARM_LINUX \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xARM_LINUX; then
  VGCONF_PLATFORMS_INCLUDE_ARM_LINUX_TRUE=
  VGCONF_PLATFORMS_INCLUDE_ARM_LINUX_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_ARM_LINUX_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_ARM_LINUX_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xARM64_LINUX; then
  VGCONF_PLATFORMS_INCLUDE_ARM64_LINUX_TRUE=
  VGCONF_PLATFORMS_INCLUDE_ARM64_LINUX_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_ARM64_LINUX_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_ARM64_LINUX_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xS390X_LINUX \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xS390X_LINUX; then
  VGCONF_PLATFORMS_INCLUDE_S390X_LINUX_TRUE=
  VGCONF_PLATFORMS_INCLUDE_S390X_LINUX_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_S390X_LINUX_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_S390X_LINUX_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xMIPS32_LINUX \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xMIPS32_LINUX; then
  VGCONF_PLATFORMS_INCLUDE_MIPS32_LINUX_TRUE=
  VGCONF_PLATFORMS_INCLUDE_MIPS32_LINUX_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_MIPS32_LINUX_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_MIPS32_LINUX_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xMIPS64_LINUX; then
  VGCONF_PLATFORMS_INCLUDE_MIPS64_LINUX_TRUE=
  VGCONF_PLATFORMS_INCLUDE_MIPS64_LINUX_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_MIPS64_LINUX_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_MIPS64_LINUX_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xNANOMIPS_LINUX; then
  VGCONF_PLATFORMS_INCLUDE_NANOMIPS_LINUX_TRUE=
  VGCONF_PLATFORMS_INCLUDE_NANOMIPS_LINUX_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_NANOMIPS_LINUX_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_NANOMIPS_LINUX_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xX86_FREEBSD \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xX86_FREEBSD; then
  VGCONF_PLATFORMS_INCLUDE_X86_FREEBSD_TRUE=
  VGCONF_PLATFORMS_INCLUDE_X86_FREEBSD_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_X86_FREEBSD_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_X86_FREEBSD_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_FREEBSD; then
  VGCONF_PLATFORMS_INCLUDE_AMD64_FREEBSD_TRUE=
  VGCONF_PLATFORMS_INCLUDE_AMD64_FREEBSD_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_AMD64_FREEBSD_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_AMD64_FREEBSD_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xARM64_FREEBSD; then
  VGCONF_PLATFORMS_INCLUDE_ARM64_FREEBSD_TRUE=
  VGCONF_PLATFORMS_INCLUDE_ARM64_FREEBSD_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_ARM64_FREEBSD_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_ARM64_FREEBSD_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xX86_DARWIN \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xX86_DARWIN; then
  VGCONF_PLATFORMS_INCLUDE_X86_DARWIN_TRUE=
  VGCONF_PLATFORMS_INCLUDE_X86_DARWIN_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_X86_DARWIN_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_X86_DARWIN_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_DARWIN; then
  VGCONF_PLATFORMS_INCLUDE_AMD64_DARWIN_TRUE=
  VGCONF_PLATFORMS_INCLUDE_AMD64_DARWIN_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_AMD64_DARWIN_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_AMD64_DARWIN_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xX86_SOLARIS \
                 -o x$VGCONF_PLATFORM_SEC_CAPS = xX86_SOLARIS; then
  VGCONF_PLATFORMS_INCLUDE_X86_SOLARIS_TRUE=
  VGCONF_PLATFORMS_INCLUDE_X86_SOLARIS_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_X86_SOLARIS_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_X86_SOLARIS_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_SOLARIS; then
  VGCONF_PLATFORMS_INCLUDE_AMD64_SOLARIS_TRUE=
  VGCONF_PLATFORMS_INCLUDE_AMD64_SOLARIS_FALSE='#'
else
  VGCONF_PLATFORMS_INCLUDE_AMD64_SOLARIS_TRUE='#'
  VGCONF_PLATFORMS_INCLUDE_AMD64_SOLARIS_FALSE=
fi



# Similarly, set up VGCONF_OS_IS_<os>.  Exactly one of these becomes defined.
# Relies on the assumption that the primary and secondary targets are
# for the same OS, so therefore only necessary to test the primary.
 if test x$VGCONF_PLATFORM_PRI_CAPS = xX86_LINUX \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_LINUX \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xPPC32_LINUX \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xPPC64BE_LINUX \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xPPC64LE_LINUX \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xARM_LINUX \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xARM64_LINUX \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xS390X_LINUX \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xMIPS32_LINUX \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xMIPS64_LINUX \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xNANOMIPS_LINUX; then
  VGCONF_OS_IS_LINUX_TRUE=
  VGCONF_OS_IS_LINUX_FALSE='#'
else
  VGCONF_OS_IS_LINUX_TRUE='#'
  VGCONF_OS_IS_LINUX_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xX86_FREEBSD \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_FREEBSD \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xARM64_FREEBSD; then
  VGCONF_OS_IS_FREEBSD_TRUE=
  VGCONF_OS_IS_FREEBSD_FALSE='#'
else
  VGCONF_OS_IS_FREEBSD_TRUE='#'
  VGCONF_OS_IS_FREEBSD_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xX86_DARWIN \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_DARWIN; then
  VGCONF_OS_IS_DARWIN_TRUE=
  VGCONF_OS_IS_DARWIN_FALSE='#'
else
  VGCONF_OS_IS_DARWIN_TRUE='#'
  VGCONF_OS_IS_DARWIN_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xX86_SOLARIS \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_SOLARIS; then
  VGCONF_OS_IS_SOLARIS_TRUE=
  VGCONF_OS_IS_SOLARIS_FALSE='#'
else
  VGCONF_OS_IS_SOLARIS_TRUE='#'
  VGCONF_OS_IS_SOLARIS_FALSE=
fi

 if test x$VGCONF_PLATFORM_PRI_CAPS = xX86_FREEBSD \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_FREEBSD \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xARM64_FREEBSD \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xX86_DARWIN \
                 -o x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_DARWIN; then
  VGCONF_OS_IS_DARWIN_OR_FREEBSD_TRUE=
  VGCONF_OS_IS_DARWIN_OR_FREEBSD_FALSE='#'
else
  VGCONF_OS_IS_DARWIN_OR_FREEBSD_TRUE='#'
  VGCONF_OS_IS_DARWIN_OR_FREEBSD_FALSE=
fi



# Sometimes, in the Makefile.am files, it's useful to know whether or not
# there is a secondary target.
 if test x$VGCONF_PLATFORM_SEC_CAPS != x; then
  VGCONF_HAVE_PLATFORM_SEC_TRUE=
  VGCONF_HAVE_PLATFORM_SEC_FALSE='#'
else
  VGCONF_HAVE_PLATFORM_SEC_TRUE='#'
  VGCONF_HAVE_PLATFORM_SEC_FALSE=
fi




#----------------------------------------------------------------------------
# Inner Valgrind?
#----------------------------------------------------------------------------

# Check if this should be built as an inner Valgrind, to be run within
# another Valgrind.  Choose the load address accordingly.


{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for use as an inner Valgrind" >&5
printf %s "checking for use as an inner Valgrind... " >&6; }
if test ${vg_cv_inner+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  # Check whether --enable-inner was given.
if test ${enable_inner+y}
then :
  enableval=$enable_inner; vg_cv_inner=$enableval
else $as_nop
  vg_cv_inner=no
fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $vg_cv_inner" >&5
printf "%s\n" "$vg_cv_inner" >&6; }
if test "$vg_cv_inner" = yes; then

printf "%s\n" "#define ENABLE_INNER 1" >>confdefs.h

    VALT_LOAD_ADDRESS_PRI=$valt_load_address_pri_inner
    VALT_LOAD_ADDRESS_SEC=$valt_load_address_sec_inner
else
    VALT_LOAD_ADDRESS_PRI=$valt_load_address_pri_norml
    VALT_LOAD_ADDRESS_SEC=$valt_load_address_sec_norml
fi

#----------------------------------------------------------------------------
# Undefined behaviour sanitiser
#----------------------------------------------------------------------------
# Check whether we should build with the undefined beahviour sanitiser.

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for using the undefined behaviour sanitiser" >&5
printf %s "checking for using the undefined behaviour sanitiser... " >&6; }
if test ${vg_cv_ubsan+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  # Check whether --enable-ubsan was given.
if test ${enable_ubsan+y}
then :
  enableval=$enable_ubsan; vg_cv_ubsan=$enableval
else $as_nop
  vg_cv_ubsan=no
fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $vg_cv_ubsan" >&5
printf "%s\n" "$vg_cv_ubsan" >&6; }

#----------------------------------------------------------------------------
# Extra fine-tuning of installation directories
#----------------------------------------------------------------------------

# Check whether --with-tmpdir was given.
if test ${with_tmpdir+y}
then :
  withval=$with_tmpdir; tmpdir="$withval"
else $as_nop
  tmpdir="/tmp"
fi


printf "%s\n" "#define VG_TMPDIR \"$tmpdir\"" >>confdefs.h

VG_TMPDIR=$tmpdir


#----------------------------------------------------------------------------
# Detect xcode path
#----------------------------------------------------------------------------

if test -z "$VGCONF_OS_IS_DARWIN_TRUE"; then :
  # Extract the first word of "xcrun", so it can be a program name with args.
set dummy xcrun; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_XCRUN+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$XCRUN"; then
  ac_cv_prog_XCRUN="$XCRUN" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_XCRUN="yes"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  test -z "$ac_cv_prog_XCRUN" && ac_cv_prog_XCRUN="no"
fi
fi
XCRUN=$ac_cv_prog_XCRUN
if test -n "$XCRUN"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $XCRUN" >&5
printf "%s\n" "$XCRUN" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for xcode sdk include path" >&5
printf %s "checking for xcode sdk include path... " >&6; }

# Check whether --with-xcodedir was given.
if test ${with_xcodedir+y}
then :
  withval=$with_xcodedir; xcodedir="$withval"
else $as_nop

      if test "x$XCRUN" != "xno" -a ! -d /usr/include; then
         xcrundir=`xcrun --sdk macosx --show-sdk-path`
         if test -z "$xcrundir"; then
            xcodedir="/usr/include"
         else
            xcodedir="$xcrundir/usr/include"
         fi
      else
         xcodedir="/usr/include"
      fi

fi

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $xcodedir" >&5
printf "%s\n" "$xcodedir" >&6; }

printf "%s\n" "#define XCODE_DIR \"$xcodedir\"" >>confdefs.h

XCODE_DIR=$xcodedir

fi

#----------------------------------------------------------------------------
# Where to install gdb scripts, defaults to VG_LIBDIR (pkglibexecdir)
#----------------------------------------------------------------------------
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking where gdb scripts are installed" >&5
printf %s "checking where gdb scripts are installed... " >&6; }

# Check whether --with-gdbscripts-dir was given.
if test ${with_gdbscripts_dir+y}
then :
  withval=$with_gdbscripts_dir; gdbscriptsdir=${withval}
else $as_nop
  gdbscriptsdir=${libexecdir}/valgrind
fi

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gdbscriptsdir" >&5
printf "%s\n" "$gdbscriptsdir" >&6; }
if test "x$gdbscriptsdir" != "xno"; then
  VG_GDBSCRIPTS_DIR=$gdbscriptsdir

   if true; then
  GDBSCRIPTS_TRUE=
  GDBSCRIPTS_FALSE='#'
else
  GDBSCRIPTS_TRUE='#'
  GDBSCRIPTS_FALSE=
fi

else

   if false; then
  GDBSCRIPTS_TRUE=
  GDBSCRIPTS_FALSE='#'
else
  GDBSCRIPTS_TRUE='#'
  GDBSCRIPTS_FALSE=
fi

fi

#----------------------------------------------------------------------------
# Libc and suppressions
#----------------------------------------------------------------------------
# This variable will collect the suppression files to be used.


ac_header= ac_cache=
for ac_item in $ac_header_c_list
do
  if test $ac_cache; then
    ac_fn_c_check_header_compile "$LINENO" $ac_header ac_cv_header_$ac_cache "$ac_includes_default"
    if eval test \"x\$ac_cv_header_$ac_cache\" = xyes; then
      printf "%s\n" "#define $ac_item 1" >> confdefs.h
    fi
    ac_header= ac_cache=
  elif test $ac_header; then
    ac_cache=$ac_item
  else
    ac_header=$ac_item
  fi
done








if test $ac_cv_header_stdlib_h = yes && test $ac_cv_header_string_h = yes
then :

printf "%s\n" "#define STDC_HEADERS 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "features.h" "ac_cv_header_features_h" "$ac_includes_default"
if test "x$ac_cv_header_features_h" = xyes
then :

fi


if test x$ac_cv_header_features_h = xyes; then

printf "%s\n" "#define HAVE_HEADER_FEATURES_H 1" >>confdefs.h

  rm -f conftest.$ac_ext
  cat <<_ACEOF >conftest.$ac_ext
#include <features.h>
#if defined(__GNU_LIBRARY__) && defined(__GLIBC__) && defined(__GLIBC_MINOR__)
glibc version is: __GLIBC__ __GLIBC_MINOR__
#endif
_ACEOF
  GLIBC_VERSION="`$CPP -P conftest.$ac_ext | $SED -n 's/^glibc version is: //p' | $SED 's/ /./g'`"
fi

# not really a version check

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e" >&5
printf %s "checking for grep that handles long lines and -e... " >&6; }
if test ${ac_cv_path_GREP+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -z "$GREP"; then
  ac_path_GREP_found=false
  # Loop through the user's path and test for each of PROGNAME-LIST
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_prog in grep ggrep
   do
    for ac_exec_ext in '' $ac_executable_extensions; do
      ac_path_GREP="$as_dir$ac_prog$ac_exec_ext"
      as_fn_executable_p "$ac_path_GREP" || continue
# Check for GNU ac_path_GREP and select it if it is found.
  # Check for GNU $ac_path_GREP
case `"$ac_path_GREP" --version 2>&1` in
*GNU*)
  ac_cv_path_GREP="$ac_path_GREP" ac_path_GREP_found=:;;
*)
  ac_count=0
  printf %s 0123456789 >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    printf "%s\n" 'GREP' >> "conftest.nl"
    "$ac_path_GREP" -e 'GREP$' -e '-(cannot match)-' < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    as_fn_arith $ac_count + 1 && ac_count=$as_val
    if test $ac_count -gt ${ac_path_GREP_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_GREP="$ac_path_GREP"
      ac_path_GREP_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac

      $ac_path_GREP_found && break 3
    done
  done
  done
IFS=$as_save_IFS
  if test -z "$ac_cv_path_GREP"; then
    as_fn_error $? "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
  fi
else
  ac_cv_path_GREP=$GREP
fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP" >&5
printf "%s\n" "$ac_cv_path_GREP" >&6; }
 GREP="$ac_cv_path_GREP"


{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
printf %s "checking for egrep... " >&6; }
if test ${ac_cv_path_EGREP+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
   then ac_cv_path_EGREP="$GREP -E"
   else
     if test -z "$EGREP"; then
  ac_path_EGREP_found=false
  # Loop through the user's path and test for each of PROGNAME-LIST
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_prog in egrep
   do
    for ac_exec_ext in '' $ac_executable_extensions; do
      ac_path_EGREP="$as_dir$ac_prog$ac_exec_ext"
      as_fn_executable_p "$ac_path_EGREP" || continue
# Check for GNU ac_path_EGREP and select it if it is found.
  # Check for GNU $ac_path_EGREP
case `"$ac_path_EGREP" --version 2>&1` in
*GNU*)
  ac_cv_path_EGREP="$ac_path_EGREP" ac_path_EGREP_found=:;;
*)
  ac_count=0
  printf %s 0123456789 >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    printf "%s\n" 'EGREP' >> "conftest.nl"
    "$ac_path_EGREP" 'EGREP$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    as_fn_arith $ac_count + 1 && ac_count=$as_val
    if test $ac_count -gt ${ac_path_EGREP_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_EGREP="$ac_path_EGREP"
      ac_path_EGREP_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac

      $ac_path_EGREP_found && break 3
    done
  done
  done
IFS=$as_save_IFS
  if test -z "$ac_cv_path_EGREP"; then
    as_fn_error $? "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
  fi
else
  ac_cv_path_EGREP=$EGREP
fi

   fi
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP" >&5
printf "%s\n" "$ac_cv_path_EGREP" >&6; }
 EGREP="$ac_cv_path_EGREP"


cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/cdefs.h>
#if defined(__DARWIN_VERS_1050)
  DARWIN_LIBC
#endif

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "DARWIN_LIBC" >/dev/null 2>&1
then :
  GLIBC_VERSION="darwin"
fi
rm -rf conftest*


cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/cdefs.h>
#if defined(__FreeBSD__)
  FREEBSD_LIBC
#endif

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "FREEBSD_LIBC" >/dev/null 2>&1
then :
  GLIBC_VERSION="freebsd"
fi
rm -rf conftest*


# not really a version check
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#if defined(__ANDROID__)
  BIONIC_LIBC
#endif

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "BIONIC_LIBC" >/dev/null 2>&1
then :
  GLIBC_VERSION="bionic"
fi
rm -rf conftest*


# there is only one version of libc on Solaris
if test x$VGCONF_PLATFORM_PRI_CAPS = xX86_SOLARIS \
     -o x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_SOLARIS; then
    GLIBC_VERSION="solaris"
fi

# GLIBC_VERSION is empty if a musl libc is used, so use the toolchain tuple
# in this case.
if test x$GLIBC_VERSION = x; then
    if $CC -dumpmachine | grep -q musl; then
        GLIBC_VERSION=musl
    fi
fi

# If this is glibc then figure out the generic (in file) libc.so and
# libpthread.so file paths to use in suppressions. Before 2.34 libpthread
# was a separate library, afterwards it was merged into libc.so and
# the library is called libc.so.6 (before it was libc-2.[0-9]+.so).
# Use this fact to set GLIBC_LIBC_PATH and GLIBC_LIBPTHREAD_PATH.
case ${GLIBC_VERSION} in
2*)
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether pthread_create needs libpthread" >&5
printf %s "checking whether pthread_create needs libpthread... " >&6; }
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
char pthread_create ();
int
main (void)
{
return pthread_create ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
    GLIBC_LIBC_PATH="*/lib*/libc.so.6"
    GLIBC_LIBPTHREAD_PATH="$GLIBC_LIBC_PATH"

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
    GLIBC_LIBC_PATH="*/lib*/libc-2.*so*"
    GLIBC_LIBPTHREAD_PATH="*/lib*/libpthread-2.*so*"

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
  ;;
*)
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking not glibc..." >&5
printf %s "checking not glibc...... " >&6; }
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${GLIBC_VERSION}" >&5
printf "%s\n" "${GLIBC_VERSION}" >&6; }
  ;;
esac

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking the glibc version" >&5
printf %s "checking the glibc version... " >&6; }

case "${GLIBC_VERSION}" in
     2.2)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${GLIBC_VERSION} family" >&5
printf "%s\n" "${GLIBC_VERSION} family" >&6; }
        DEFAULT_SUPP="$srcdir/glibc-2.2.supp ${DEFAULT_SUPP}"
        DEFAULT_SUPP="$srcdir/glibc-2.2-LinuxThreads-helgrind.supp ${DEFAULT_SUPP}"
        DEFAULT_SUPP="glibc-2.X-drd.supp ${DEFAULT_SUPP}"
	;;
     2.[3-6])
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${GLIBC_VERSION} family" >&5
printf "%s\n" "${GLIBC_VERSION} family" >&6; }
        DEFAULT_SUPP="$srcdir/glibc-${GLIBC_VERSION}.supp ${DEFAULT_SUPP}"
        DEFAULT_SUPP="glibc-2.X-helgrind.supp ${DEFAULT_SUPP}"
        DEFAULT_SUPP="glibc-2.X-drd.supp ${DEFAULT_SUPP}"
	;;
     2.[7-9])
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${GLIBC_VERSION} family" >&5
printf "%s\n" "${GLIBC_VERSION} family" >&6; }
	DEFAULT_SUPP="glibc-2.X.supp ${DEFAULT_SUPP}"
	DEFAULT_SUPP="glibc-2.X-helgrind.supp ${DEFAULT_SUPP}"
	DEFAULT_SUPP="glibc-2.X-drd.supp ${DEFAULT_SUPP}"
	;;
     2.10|2.11)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${GLIBC_VERSION} family" >&5
printf "%s\n" "${GLIBC_VERSION} family" >&6; }

printf "%s\n" "#define GLIBC_MANDATORY_STRLEN_REDIRECT 1" >>confdefs.h

	DEFAULT_SUPP="glibc-2.X.supp ${DEFAULT_SUPP}"
        DEFAULT_SUPP="glibc-2.X-helgrind.supp ${DEFAULT_SUPP}"
        DEFAULT_SUPP="glibc-2.X-drd.supp ${DEFAULT_SUPP}"
	;;
     2.*)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${GLIBC_VERSION} family" >&5
printf "%s\n" "${GLIBC_VERSION} family" >&6; }

printf "%s\n" "#define GLIBC_MANDATORY_STRLEN_REDIRECT 1" >>confdefs.h


printf "%s\n" "#define GLIBC_MANDATORY_INDEX_AND_STRLEN_REDIRECT 1" >>confdefs.h

	DEFAULT_SUPP="glibc-2.X.supp ${DEFAULT_SUPP}"
        DEFAULT_SUPP="glibc-2.X-helgrind.supp ${DEFAULT_SUPP}"
        DEFAULT_SUPP="glibc-2.X-drd.supp ${DEFAULT_SUPP}"
	;;
     darwin)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Darwin" >&5
printf "%s\n" "Darwin" >&6; }

printf "%s\n" "#define DARWIN_LIBC 1" >>confdefs.h

	# DEFAULT_SUPP set by kernel version check above.
	;;
     freebsd)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: FreeBSD" >&5
printf "%s\n" "FreeBSD" >&6; }

printf "%s\n" "#define FREEBSD_LIBC 1" >>confdefs.h

	# DEFAULT_SUPP set by kernel version check above.
	;;
     bionic)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Bionic" >&5
printf "%s\n" "Bionic" >&6; }

printf "%s\n" "#define BIONIC_LIBC 1" >>confdefs.h

	DEFAULT_SUPP="$srcdir/bionic.supp ${DEFAULT_SUPP}"
	;;
     solaris)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Solaris" >&5
printf "%s\n" "Solaris" >&6; }
	# DEFAULT_SUPP set in host_os switch-case above.
	# No other suppression file is used.
	;;
     musl)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Musl" >&5
printf "%s\n" "Musl" >&6; }

printf "%s\n" "#define MUSL_LIBC 1" >>confdefs.h

	DEFAULT_SUPP="$srcdir/musl.supp ${DEFAULT_SUPP}"
	;;
     2.0|2.1|*)
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported version ${GLIBC_VERSION}" >&5
printf "%s\n" "unsupported version ${GLIBC_VERSION}" >&6; }
	as_fn_error $? "Valgrind requires glibc version 2.2 or later, uClibc," "$LINENO" 5
	as_fn_error $? "musl libc, Darwin libc, Bionic libc or Solaris libc" "$LINENO" 5
	;;
esac






if test "$VGCONF_OS" != "solaris"; then
    # Add default suppressions for the X client libraries.  Make no
    # attempt to detect whether such libraries are installed on the
    # build machine (or even if any X facilities are present); just
    # add the suppressions antidisirregardless.
    DEFAULT_SUPP="$srcdir/xfree-4.supp ${DEFAULT_SUPP}"
    DEFAULT_SUPP="$srcdir/xfree-3.supp ${DEFAULT_SUPP}"
fi


#----------------------------------------------------------------------------
# Platform variants?
#----------------------------------------------------------------------------

# Normally the PLAT = (ARCH, OS) characterisation of the platform is enough.
# But there are times where we need a bit more control.  The motivating
# and currently only case is Android: this is almost identical to
# {x86,arm,mips}-linux, but not quite.  So this introduces the concept of
# platform variant tags, which get passed in the compile as
# -DVGPV_<arch>_<os>_<variant> along with the main -DVGP_<arch>_<os> definition.
#
# In almost all cases, the <variant> bit is "vanilla".  But for Android
# it is "android" instead.
#
# Consequently (eg), plain arm-linux would build with
#
#   -DVGP_arm_linux -DVGPV_arm_linux_vanilla
#
# whilst an Android build would have
#
#   -DVGP_arm_linux -DVGPV_arm_linux_android
#
# Same for x86. The setup of the platform variant is pushed relatively far
# down this file in order that we can inspect any of the variables set above.

# In the normal case ..
VGCONF_PLATVARIANT="vanilla"

# Android ?
if test "$GLIBC_VERSION" = "bionic";
then
   VGCONF_PLATVARIANT="android"
fi




# FIXME: do we also want to define automake variables
# VGCONF_PLATVARIANT_IS_<WHATEVER>, where WHATEVER is (currently)
# VANILLA or ANDROID ?  This would be in the style of VGCONF_ARCHS_INCLUDE,
# VGCONF_PLATFORMS_INCLUDE and VGCONF_OS_IS above?  Could easily enough
# do that.  Problem is that we can't do and-ing in Makefile.am's, but
# that's what we'd need to do to use this, since what we'd want to write
# is something like
#
# VGCONF_PLATFORMS_INCLUDE_ARM_LINUX && VGCONF_PLATVARIANT_IS_ANDROID
#
# Hmm.  Can't think of a nice clean solution to this.

 if test x$VGCONF_PLATVARIANT = xvanilla; then
  VGCONF_PLATVARIANT_IS_VANILLA_TRUE=
  VGCONF_PLATVARIANT_IS_VANILLA_FALSE='#'
else
  VGCONF_PLATVARIANT_IS_VANILLA_TRUE='#'
  VGCONF_PLATVARIANT_IS_VANILLA_FALSE=
fi

 if test x$VGCONF_PLATVARIANT = xandroid; then
  VGCONF_PLATVARIANT_IS_ANDROID_TRUE=
  VGCONF_PLATVARIANT_IS_ANDROID_FALSE='#'
else
  VGCONF_PLATVARIANT_IS_ANDROID_TRUE='#'
  VGCONF_PLATVARIANT_IS_ANDROID_FALSE=
fi



#----------------------------------------------------------------------------
# Checking for various library functions and other definitions
#----------------------------------------------------------------------------

# Check for AT_FDCWD

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for AT_FDCWD" >&5
printf %s "checking for AT_FDCWD... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#define _GNU_SOURCE
#include <fcntl.h>
#include <unistd.h>

int
main (void)
{

  int a = AT_FDCWD;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_at_fdcwd=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_at_fdcwd=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_at_fdcwd = xyes; then
  HAVE_AT_FDCWD_TRUE=
  HAVE_AT_FDCWD_FALSE='#'
else
  HAVE_AT_FDCWD_TRUE='#'
  HAVE_AT_FDCWD_FALSE=
fi


# Check for stpncpy function definition in string.h
# This explicitly checks with _GNU_SOURCE defined since that is also
# used in the test case (some systems might define it without anyway
# since stpncpy is part of The Open Group Base Specifications Issue 7
# IEEE Std 1003.1-2008.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for stpncpy" >&5
printf %s "checking for stpncpy... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#define _GNU_SOURCE
#include <string.h>

int
main (void)
{

  char *d;
  char *s;
  size_t n = 0;
  char *r = stpncpy(d, s, n);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

ac_have_gnu_stpncpy=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_gnu_stpncpy=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

 if test x$ac_have_gnu_stpncpy = xyes; then
  HAVE_GNU_STPNCPY_TRUE=
  HAVE_GNU_STPNCPY_FALSE='#'
else
  HAVE_GNU_STPNCPY_TRUE='#'
  HAVE_GNU_STPNCPY_FALSE=
fi


# Check for PTRACE_GETREGS

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for PTRACE_GETREGS" >&5
printf %s "checking for PTRACE_GETREGS... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stdlib.h>
#include <stddef.h>
#include <sys/ptrace.h>
#include <sys/user.h>

int
main (void)
{

  void *p;
  long res = ptrace (PTRACE_GETREGS, 0, p, p);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_PTRACE_GETREGS 1" >>confdefs.h


else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext


# Check for CLOCK_MONOTONIC

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for CLOCK_MONOTONIC" >&5
printf %s "checking for CLOCK_MONOTONIC... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <time.h>

int
main (void)
{

  struct timespec t;
  clock_gettime(CLOCK_MONOTONIC, &t);
  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_CLOCK_MONOTONIC 1" >>confdefs.h


else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext


# Check for ELF32/64_CHDR

ac_fn_c_check_type "$LINENO" "Elf32_Chdr" "ac_cv_type_Elf32_Chdr" "#include <elf.h>
"
if test "x$ac_cv_type_Elf32_Chdr" = xyes
then :

printf "%s\n" "#define HAVE_ELF32_CHDR 1" >>confdefs.h


fi
ac_fn_c_check_type "$LINENO" "Elf64_Chdr" "ac_cv_type_Elf64_Chdr" "#include <elf.h>
"
if test "x$ac_cv_type_Elf64_Chdr" = xyes
then :

printf "%s\n" "#define HAVE_ELF64_CHDR 1" >>confdefs.h


fi



# Check for PTHREAD_RWLOCK_T

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for pthread_rwlock_t" >&5
printf %s "checking for pthread_rwlock_t... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#define _GNU_SOURCE
#include <pthread.h>

int
main (void)
{

  pthread_rwlock_t rwl;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_PTHREAD_RWLOCK_T 1" >>confdefs.h


else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

# Check for CLOCKID_T

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for clockid_t" >&5
printf %s "checking for clockid_t... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <time.h>

int
main (void)
{

  clockid_t c;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_CLOCKID_T 1" >>confdefs.h


else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

# Check for PTHREAD_MUTEX_ADAPTIVE_NP

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for PTHREAD_MUTEX_ADAPTIVE_NP" >&5
printf %s "checking for PTHREAD_MUTEX_ADAPTIVE_NP... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#define _GNU_SOURCE
#include <pthread.h>

int
main (void)
{

  return (PTHREAD_MUTEX_ADAPTIVE_NP);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_PTHREAD_MUTEX_ADAPTIVE_NP 1" >>confdefs.h


else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext


# Check for PTHREAD_MUTEX_ERRORCHECK_NP

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for PTHREAD_MUTEX_ERRORCHECK_NP" >&5
printf %s "checking for PTHREAD_MUTEX_ERRORCHECK_NP... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#define _GNU_SOURCE
#include <pthread.h>

int
main (void)
{

  return (PTHREAD_MUTEX_ERRORCHECK_NP);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_PTHREAD_MUTEX_ERRORCHECK_NP 1" >>confdefs.h


else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext


# Check for PTHREAD_MUTEX_RECURSIVE_NP

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for PTHREAD_MUTEX_RECURSIVE_NP" >&5
printf %s "checking for PTHREAD_MUTEX_RECURSIVE_NP... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#define _GNU_SOURCE
#include <pthread.h>

int
main (void)
{

  return (PTHREAD_MUTEX_RECURSIVE_NP);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_PTHREAD_MUTEX_RECURSIVE_NP 1" >>confdefs.h


else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext


# Check for PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP" >&5
printf %s "checking for PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#define _GNU_SOURCE
#include <pthread.h>

int
main (void)
{

  pthread_mutex_t m = PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP;
  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP 1" >>confdefs.h


else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext


# Check whether pthread_mutex_t has a member called __m_kind.

ac_fn_c_check_member "$LINENO" "pthread_mutex_t" "__m_kind" "ac_cv_member_pthread_mutex_t___m_kind" "#include <pthread.h>
"
if test "x$ac_cv_member_pthread_mutex_t___m_kind" = xyes
then :

printf "%s\n" "#define HAVE_PTHREAD_MUTEX_T__M_KIND 1" >>confdefs.h


fi



# Check whether pthread_mutex_t has a member called __data.__kind.

ac_fn_c_check_member "$LINENO" "pthread_mutex_t" "__data.__kind" "ac_cv_member_pthread_mutex_t___data___kind" "#include <pthread.h>
"
if test "x$ac_cv_member_pthread_mutex_t___data___kind" = xyes
then :

printf "%s\n" "#define HAVE_PTHREAD_MUTEX_T__DATA__KIND 1" >>confdefs.h


fi


# Convenience function.  Set flags based on the existing HWCAP entries.
# The AT_HWCAP entries are generated by glibc, and are based on
# functions supported by the hardware/system/libc.
# Subsequent support for whether the capability will actually be utilized
# will also be checked against the compiler capabilities.
# called as
#      AC_HWCAP_CONTAINS_FLAG[hwcap_string_to_match],[VARIABLE_TO_SET]


# gather hardware capabilities. (hardware/kernel/libc)

  AUXV_CHECK_FOR=altivec
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator" >&5
printf %s "checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator... " >&6; }
  if env LD_SHOW_AUXV=1 true | grep ^AT_HWCAP | grep -q -w ${AUXV_CHECK_FOR}
  then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
    HWCAP_HAS_ALTIVEC=yes

  else
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

  fi


  AUXV_CHECK_FOR=vsx
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator" >&5
printf %s "checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator... " >&6; }
  if env LD_SHOW_AUXV=1 true | grep ^AT_HWCAP | grep -q -w ${AUXV_CHECK_FOR}
  then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
    HWCAP_HAS_VSX=yes

  else
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

  fi


  AUXV_CHECK_FOR=dfp
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator" >&5
printf %s "checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator... " >&6; }
  if env LD_SHOW_AUXV=1 true | grep ^AT_HWCAP | grep -q -w ${AUXV_CHECK_FOR}
  then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
    HWCAP_HAS_DFP=yes

  else
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

  fi


  AUXV_CHECK_FOR=arch_2_05
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator" >&5
printf %s "checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator... " >&6; }
  if env LD_SHOW_AUXV=1 true | grep ^AT_HWCAP | grep -q -w ${AUXV_CHECK_FOR}
  then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
    HWCAP_HAS_ISA_2_05=yes

  else
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

  fi


  AUXV_CHECK_FOR=arch_2_06
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator" >&5
printf %s "checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator... " >&6; }
  if env LD_SHOW_AUXV=1 true | grep ^AT_HWCAP | grep -q -w ${AUXV_CHECK_FOR}
  then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
    HWCAP_HAS_ISA_2_06=yes

  else
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

  fi


  AUXV_CHECK_FOR=arch_2_07
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator" >&5
printf %s "checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator... " >&6; }
  if env LD_SHOW_AUXV=1 true | grep ^AT_HWCAP | grep -q -w ${AUXV_CHECK_FOR}
  then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
    HWCAP_HAS_ISA_2_07=yes

  else
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

  fi


  AUXV_CHECK_FOR=arch_3_00
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator" >&5
printf %s "checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator... " >&6; }
  if env LD_SHOW_AUXV=1 true | grep ^AT_HWCAP | grep -q -w ${AUXV_CHECK_FOR}
  then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
    HWCAP_HAS_ISA_3_00=yes

  else
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

  fi


  AUXV_CHECK_FOR=arch_3_1
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator" >&5
printf %s "checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator... " >&6; }
  if env LD_SHOW_AUXV=1 true | grep ^AT_HWCAP | grep -q -w ${AUXV_CHECK_FOR}
  then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
    HWCAP_HAS_ISA_3_1=yes

  else
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

  fi


  AUXV_CHECK_FOR=htm
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator" >&5
printf %s "checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator... " >&6; }
  if env LD_SHOW_AUXV=1 true | grep ^AT_HWCAP | grep -q -w ${AUXV_CHECK_FOR}
  then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
    HWCAP_HAS_HTM=yes

  else
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

  fi


  AUXV_CHECK_FOR=mma
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator" >&5
printf %s "checking if AT_HWCAP contains the $AUXV_CHECK_FOR indicator... " >&6; }
  if env LD_SHOW_AUXV=1 true | grep ^AT_HWCAP | grep -q -w ${AUXV_CHECK_FOR}
  then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
    HWCAP_HAS_MMA=yes

  else
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

  fi


# ISA Levels
 if test x$HWCAP_HAS_ISA_2_05 = xyes; then
  HAS_ISA_2_05_TRUE=
  HAS_ISA_2_05_FALSE='#'
else
  HAS_ISA_2_05_TRUE='#'
  HAS_ISA_2_05_FALSE=
fi

 if test x$HWCAP_HAS_ISA_2_06 = xyes; then
  HAS_ISA_2_06_TRUE=
  HAS_ISA_2_06_FALSE='#'
else
  HAS_ISA_2_06_TRUE='#'
  HAS_ISA_2_06_FALSE=
fi

# compiler support for isa 2.07 level instructions
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that assembler knows ISA 2.07 instructions " >&5
printf %s "checking that assembler knows ISA 2.07 instructions ... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{

  __asm__ __volatile__("mtvsrd 1,2 ");

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_asm_have_isa_2_07=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_asm_have_isa_2_07=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$ac_asm_have_isa_2_07 = xyes \
                               -a x$HWCAP_HAS_ISA_2_07 = xyes; then
  HAS_ISA_2_07_TRUE=
  HAS_ISA_2_07_FALSE='#'
else
  HAS_ISA_2_07_TRUE='#'
  HAS_ISA_2_07_FALSE=
fi


# altivec (vsx) support.
# does this compiler support -maltivec and does it have the include file
# <altivec.h> ?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Altivec support in the compiler " >&5
printf %s "checking for Altivec support in the compiler ... " >&6; }
safe_CFLAGS=$CFLAGS
CFLAGS="-maltivec -Werror"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <altivec.h>

int
main (void)
{

  vector unsigned int v;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_altivec=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_altivec=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS
 if test x$ac_have_altivec = xyes \
                                 -a x$HWCAP_HAS_ALTIVEC = xyes; then
  HAS_ALTIVEC_TRUE=
  HAS_ALTIVEC_FALSE='#'
else
  HAS_ALTIVEC_TRUE='#'
  HAS_ALTIVEC_FALSE=
fi


# Check that both: the compiler supports -mvsx and that the assembler
# understands VSX instructions.  If either of those doesn't work,
# conclude that we can't do VSX.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for VSX compiler flag support" >&5
printf %s "checking for VSX compiler flag support... " >&6; }
safe_CFLAGS=$CFLAGS
CFLAGS="-mvsx -Werror"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{


  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_compiler_supports_vsx_flag=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_compiler_supports_vsx_flag=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for VSX support in the assembler " >&5
printf %s "checking for VSX support in the assembler ... " >&6; }
safe_CFLAGS=$CFLAGS
CFLAGS="-mvsx -Werror"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <altivec.h>

int
main (void)
{

  vector unsigned int v;
  __asm__ __volatile__("xsmaddadp 32, 32, 33" ::: "memory","cc");

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_compiler_supports_vsx=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_compiler_supports_vsx=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS
 if test x$ac_compiler_supports_vsx_flag = xyes \
                             -a x$ac_compiler_supports_vsx = xyes \
                             -a x$HWCAP_HAS_VSX = xyes ; then
  HAS_VSX_TRUE=
  HAS_VSX_FALSE='#'
else
  HAS_VSX_TRUE='#'
  HAS_VSX_FALSE=
fi


# DFP (Decimal Float)
# The initial DFP support was added in Power 6.  The dcffix instruction
# support was added in Power 7.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that assembler knows DFP" >&5
printf %s "checking that assembler knows DFP... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{

  #ifdef __s390__
  __asm__ __volatile__("adtr 1, 2, 3")
  #else
__asm__ __volatile__(".machine power7;\n" \
  "dadd 1, 2, 3;\n" \
  "dcffix 1, 2");
  #endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_asm_have_dfp=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_asm_have_dfp=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that compiler knows -mhard-dfp switch" >&5
printf %s "checking that compiler knows -mhard-dfp switch... " >&6; }
safe_CFLAGS=$CFLAGS
CFLAGS="-mhard-dfp -Werror"

# The dcffix instruction is Power 7
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{

  #ifdef __s390__
  __asm__ __volatile__("adtr 1, 2, 3")
  #else
  __asm__ __volatile__(".machine power7;\n" \
  "dadd 1, 2, 3;\n" \
  "dcffix 1, 2");
  #endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_compiler_have_dfp=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_compiler_have_dfp=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS
 if test x$ac_asm_have_dfp = xyes \
                          -a x$ac_compiler_have_dfp = xyes \
                          -a x$HWCAP_HAS_DFP = xyes ; then
  HAS_DFP_TRUE=
  HAS_DFP_FALSE='#'
else
  HAS_DFP_TRUE='#'
  HAS_DFP_FALSE=
fi


{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that compiler knows DFP datatypes" >&5
printf %s "checking that compiler knows DFP datatypes... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{

  _Decimal64 x = 0.0DD;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_compiler_have_dfp_type=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_compiler_have_dfp_type=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$ac_compiler_have_dfp_type = xyes \
                                  -a x$HWCAP_HAS_DFP = xyes ; then
  BUILD_DFP_TESTS_TRUE=
  BUILD_DFP_TESTS_FALSE='#'
else
  BUILD_DFP_TESTS_TRUE='#'
  BUILD_DFP_TESTS_FALSE=
fi



# HTM (Hardware Transactional Memory)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if compiler accepts the -mhtm flag" >&5
printf %s "checking if compiler accepts the -mhtm flag... " >&6; }
safe_CFLAGS=$CFLAGS
CFLAGS="-mhtm -Werror"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
ac_compiler_supports_htm=yes

else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
ac_compiler_supports_htm=no

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if compiler can find the htm builtins" >&5
printf %s "checking if compiler can find the htm builtins... " >&6; }
safe_CFLAGS=$CFLAGS
CFLAGS="-mhtm -Werror"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{

   if (__builtin_tbegin (0))
      __builtin_tend (0);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
ac_compiler_sees_htm_builtins=yes

else $as_nop

 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
ac_compiler_sees_htm_builtins=no

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS

 if test x$ac_compiler_supports_htm = xyes \
                               -a x$ac_compiler_sees_htm_builtins = xyes \
                               -a x$HWCAP_HAS_HTM = xyes ; then
  SUPPORTS_HTM_TRUE=
  SUPPORTS_HTM_FALSE='#'
else
  SUPPORTS_HTM_TRUE='#'
  SUPPORTS_HTM_FALSE=
fi


# isa 3.0 checking. (actually 3.0 or newer)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that assembler knows ISA 3.00 " >&5
printf %s "checking that assembler knows ISA 3.00 ... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{

__asm__ __volatile__ (".machine power9;\n" \
	"cnttzw   1,3; \n" );

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

# guest_ppc_helpers.c needs the HAS_ISA_3_OO to enable copy, paste,
# cpabort support
safe_CFLAGS=$CFLAGS
CFLAGS="-DHAS_ISA_3_00"
ac_asm_have_isa_3_00=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_asm_have_isa_3_00=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS

# xscvhpdp checking
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that assembler knows xscvhpdp " >&5
printf %s "checking that assembler knows xscvhpdp ... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{

__asm__ __volatile__ (".machine power9;\n" \
	"xscvhpdp 1,2;\n" );

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_asm_have_xscvhpdp=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_asm_have_xscvhpdp=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

# darn instruction checking
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that assembler knows darn instruction " >&5
printf %s "checking that assembler knows darn instruction ... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{

  __asm__ __volatile__(".machine power9; darn 1,0 ");

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_asm_have_darn_inst=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_asm_have_darn_inst=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

# isa 3.01 checking
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that assembler knows ISA 3.1 " >&5
printf %s "checking that assembler knows ISA 3.1 ... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{

__asm__ __volatile__ (".machine power10;\n" \
	"brh 1,2;\n ");

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_asm_have_isa_3_1=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_asm_have_isa_3_1=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext


 if test x$ac_asm_have_isa_3_00 = xyes \
                             -a x$HWCAP_HAS_ISA_3_00 = xyes; then
  HAS_ISA_3_00_TRUE=
  HAS_ISA_3_00_FALSE='#'
else
  HAS_ISA_3_00_TRUE='#'
  HAS_ISA_3_00_FALSE=
fi


 if test x$ac_asm_have_xscvhpdp = xyes; then
  HAS_XSCVHPDP_TRUE=
  HAS_XSCVHPDP_FALSE='#'
else
  HAS_XSCVHPDP_TRUE='#'
  HAS_XSCVHPDP_FALSE=
fi

 if test x$ac_asm_have_darn_inst = xyes; then
  HAS_DARN_TRUE=
  HAS_DARN_FALSE='#'
else
  HAS_DARN_TRUE='#'
  HAS_DARN_FALSE=
fi


 if test x$ac_asm_have_isa_3_1 = xyes \
                             -a x$HWCAP_HAS_ISA_3_1 = xyes; then
  HAS_ISA_3_1_TRUE=
  HAS_ISA_3_1_FALSE='#'
else
  HAS_ISA_3_1_TRUE='#'
  HAS_ISA_3_1_FALSE=
fi


# Check for pthread_create@GLIBC2.0
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for pthread_create@GLIBC2.0()" >&5
printf %s "checking for pthread_create@GLIBC2.0()... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-lpthread -Werror"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

extern int pthread_create_glibc_2_0(void*, const void*,
                                    void *(*)(void*), void*);
__asm__(".symver pthread_create_glibc_2_0, pthread_create@GLIBC_2.0");

int
main (void)
{

#ifdef __powerpc__
/*
 * Apparently on PowerPC linking this program succeeds and generates an
 * executable with the undefined symbol pthread_create@GLIBC_2.0.
 */
#error This test does not work properly on PowerPC.
#else
  pthread_create_glibc_2_0(0, 0, 0, 0);
#endif
  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

ac_have_pthread_create_glibc_2_0=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_PTHREAD_CREATE_GLIBC_2_0 1" >>confdefs.h


else $as_nop

ac_have_pthread_create_glibc_2_0=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
CFLAGS=$safe_CFLAGS

 if test x$ac_have_pthread_create_glibc_2_0 = xyes; then
  HAVE_PTHREAD_CREATE_GLIBC_2_0_TRUE=
  HAVE_PTHREAD_CREATE_GLIBC_2_0_FALSE='#'
else
  HAVE_PTHREAD_CREATE_GLIBC_2_0_TRUE='#'
  HAVE_PTHREAD_CREATE_GLIBC_2_0_FALSE=
fi



# Check for dlinfo RTLD_DI_TLS_MODID
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dlinfo RTLD_DI_TLS_MODID" >&5
printf %s "checking for dlinfo RTLD_DI_TLS_MODID... " >&6; }

safe_LIBS="$LIBS"
LIBS="-ldl"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#ifndef _GNU_SOURCE
#define _GNU_SOURCE
#endif
#include <link.h>
#include <dlfcn.h>

int
main (void)
{

  size_t sizes[10000];
  size_t modid_offset;
  (void) dlinfo ((void*)sizes, RTLD_DI_TLS_MODID, &modid_offset);
  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

ac_have_dlinfo_rtld_di_tls_modid=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_DLINFO_RTLD_DI_TLS_MODID 1" >>confdefs.h


else $as_nop

ac_have_dlinfo_rtld_di_tls_modid=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$safe_LIBS

 if test x$ac_have_dlinfo_rtld_di_tls_modid = xyes; then
  HAVE_DLINFO_RTLD_DI_TLS_MODID_TRUE=
  HAVE_DLINFO_RTLD_DI_TLS_MODID_FALSE='#'
else
  HAVE_DLINFO_RTLD_DI_TLS_MODID_TRUE='#'
  HAVE_DLINFO_RTLD_DI_TLS_MODID_FALSE=
fi



# Check for eventfd_t, eventfd() and eventfd_read()
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for eventfd()" >&5
printf %s "checking for eventfd()... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/eventfd.h>

int
main (void)
{

  eventfd_t ev;
  int fd;

  fd = eventfd(5, 0);
  eventfd_read(fd, &ev);
  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_EVENTFD 1" >>confdefs.h


printf "%s\n" "#define HAVE_EVENTFD_READ 1" >>confdefs.h


else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

# Check whether compiler can process #include <thread> without errors
# clang 3.3 cannot process <thread> from e.g.
# gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that C++ compiler can compile C++17 code" >&5
printf %s "checking that C++ compiler can compile C++17 code... " >&6; }
ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

safe_CXXFLAGS=$CXXFLAGS
CXXFLAGS=-std=c++17


cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int x;

_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :

ac_have_cxx_17=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_cxx_17=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CXXFLAGS=$safe_CXXFLAGS
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


 if test x$ac_have_cxx_17 = xyes; then
  HAVE_CXX17_TRUE=
  HAVE_CXX17_FALSE='#'
else
  HAVE_CXX17_TRUE='#'
  HAVE_CXX17_FALSE=
fi


{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that C++ compiler can include <thread> header file" >&5
printf %s "checking that C++ compiler can include <thread> header file... " >&6; }
ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

safe_CXXFLAGS=$CXXFLAGS
CXXFLAGS=-std=c++0x

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <thread>

_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :

ac_cxx_can_include_thread_header=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_cxx_can_include_thread_header=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CXXFLAGS=$safe_CXXFLAGS
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


 if test x$ac_cxx_can_include_thread_header = xyes; then
  CXX_CAN_INCLUDE_THREAD_HEADER_TRUE=
  CXX_CAN_INCLUDE_THREAD_HEADER_FALSE='#'
else
  CXX_CAN_INCLUDE_THREAD_HEADER_TRUE='#'
  CXX_CAN_INCLUDE_THREAD_HEADER_FALSE=
fi


# Check whether compiler can process #include <condition_variable> without errors

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that C++ compiler can include <condition_variable> header file" >&5
printf %s "checking that C++ compiler can include <condition_variable> header file... " >&6; }
ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

safe_CXXFLAGS=$CXXFLAGS
CXXFLAGS=-std=c++0x

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <condition_variable>

_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :

ac_cxx_can_include_condition_variable_header=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_cxx_can_include_condition_variable_header=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CXXFLAGS=$safe_CXXFLAGS
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


 if test x$ac_cxx_can_include_condition_variable_header = xyes; then
  CXX_CAN_INCLUDE_CONDITION_VARIABLE_HEADER_TRUE=
  CXX_CAN_INCLUDE_CONDITION_VARIABLE_HEADER_FALSE='#'
else
  CXX_CAN_INCLUDE_CONDITION_VARIABLE_HEADER_TRUE='#'
  CXX_CAN_INCLUDE_CONDITION_VARIABLE_HEADER_FALSE=
fi


# check for std::shared_timed_mutex, this is a C++ 14 feature

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that C++ compiler can use std::shared_timed_mutex" >&5
printf %s "checking that C++ compiler can use std::shared_timed_mutex... " >&6; }
ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

safe_CXXFLAGS=$CXXFLAGS
CXXFLAGS="-std=c++1y -pthread"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <shared_mutex>
std::shared_timed_mutex test_mutex;

_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :

ac_cxx_can_use_shared_timed_mutex=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_cxx_can_use_shared_timed_mutex=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CXXFLAGS=$safe_CXXFLAGS
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


 if test x$ac_cxx_can_use_shared_timed_mutex = xyes; then
  CXX_CAN_USE_SHARED_TIMED_MUTEX_TRUE=
  CXX_CAN_USE_SHARED_TIMED_MUTEX_FALSE='#'
else
  CXX_CAN_USE_SHARED_TIMED_MUTEX_TRUE='#'
  CXX_CAN_USE_SHARED_TIMED_MUTEX_FALSE=
fi


# check for std::shared_mutex, this is a C++ 11 feature

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that C++ compiler can use std::timed_mutex" >&5
printf %s "checking that C++ compiler can use std::timed_mutex... " >&6; }
ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

safe_CXXFLAGS=$CXXFLAGS
CXXFLAGS="-std=c++0x -pthread"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <mutex>
std::timed_mutex test_mutex;

_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :

ac_cxx_can_use_timed_mutex=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_cxx_can_use_timed_mutex=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CXXFLAGS=$safe_CXXFLAGS
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


 if test x$ac_cxx_can_use_timed_mutex = xyes; then
  CXX_CAN_USE_TIMED_MUTEX_TRUE=
  CXX_CAN_USE_TIMED_MUTEX_FALSE='#'
else
  CXX_CAN_USE_TIMED_MUTEX_TRUE='#'
  CXX_CAN_USE_TIMED_MUTEX_FALSE=
fi


# On aarch64 before glibc 2.20 we would get the kernel user_pt_regs instead
# of the user_regs_struct from sys/user.h. They are structurally the same
# but we get either one or the other.

ac_fn_c_check_type "$LINENO" "struct user_regs_struct" "ac_cv_type_struct_user_regs_struct" "#include <sys/ptrace.h>
               #include <sys/time.h>
               #include <sys/user.h>
"
if test "x$ac_cv_type_struct_user_regs_struct" = xyes
then :
  sys_user_has_user_regs=yes
else $as_nop
  sys_user_has_user_regs=no
fi

if test "$sys_user_has_user_regs" = "yes"; then

printf "%s\n" "#define HAVE_SYS_USER_REGS 1" >>confdefs.h

fi

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for __NR_membarrier" >&5
printf %s "checking for __NR_membarrier... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <linux/unistd.h>

int
main (void)
{

return __NR_membarrier

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_nr_membarrier=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_nr_membarrier=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_nr_membarrier = xyes; then
  HAVE_NR_MEMBARRIER_TRUE=
  HAVE_NR_MEMBARRIER_FALSE='#'
else
  HAVE_NR_MEMBARRIER_TRUE='#'
  HAVE_NR_MEMBARRIER_FALSE=
fi


#----------------------------------------------------------------------------
# Checking for supported compiler flags.
#----------------------------------------------------------------------------

case "${host_cpu}" in
    mips*)
        ARCH=$(echo "$CFLAGS" | grep -E -e '-march=[^ ]+' -e '\B-mips[^ +]')
        if test -z "$ARCH"; then
          # does this compiler support -march=mips32 (mips32 default) ?
          { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -march=mips32 -mabi=32" >&5
printf %s "checking if gcc accepts -march=mips32 -mabi=32... " >&6; }

          safe_CFLAGS=$CFLAGS
          CFLAGS="$CFLAGS -mips32 -mabi=32 -Werror"

          cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

            return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

          FLAG_M32="-mips32 -mabi=32"
          { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

          FLAG_M32=""
          { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
          CFLAGS=$safe_CFLAGS




          # does this compiler support -march=mips64r2 (mips64r2 default) ?
          { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -march=mips64r2 -mabi=64" >&5
printf %s "checking if gcc accepts -march=mips64r2 -mabi=64... " >&6; }

          safe_CFLAGS=$CFLAGS
          CFLAGS="$CFLAGS -march=mips64r2 -mabi=64 -Werror"

          cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

            return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

          FLAG_M64="-march=mips64r2 -mabi=64"
          { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

          FLAG_M64=""
          { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
          CFLAGS=$safe_CFLAGS


        fi
        ;;
    nanomips*)
        ;;
    *)
        # does this compiler support -m32 ?
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -m32" >&5
printf %s "checking if gcc accepts -m32... " >&6; }

        safe_CFLAGS=$CFLAGS
        CFLAGS="${FLAG_32ON64} -m32 -Werror"

        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

          return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

        FLAG_M32="${FLAG_32ON64} -m32"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

        FLAG_M32=""
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        CFLAGS=$safe_CFLAGS




        # does this compiler support -m64 ?
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -m64" >&5
printf %s "checking if gcc accepts -m64... " >&6; }

        safe_CFLAGS=$CFLAGS
        CFLAGS="-m64 -Werror"

        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

          return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

        FLAG_M64="-m64"
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

        FLAG_M64=""
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        CFLAGS=$safe_CFLAGS


        ;;
esac


ARCH=$(echo "$CFLAGS" | grep -E -e '-march=[^ ]+' -e '\B-mips[^ +]')
if test -z "$ARCH"; then
  # does this compiler support -march=octeon (Cavium OCTEON I Specific) ?
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -march=octeon" >&5
printf %s "checking if gcc accepts -march=octeon... " >&6; }

  safe_CFLAGS=$CFLAGS
  CFLAGS="$CFLAGS $FLAG_M64 -march=octeon -Werror"

  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

    return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_OCTEON="-march=octeon"
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

  FLAG_OCTEON=""
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS




  # does this compiler support -march=octeon2 (Cavium OCTEON II Specific) ?
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -march=octeon2" >&5
printf %s "checking if gcc accepts -march=octeon2... " >&6; }

  safe_CFLAGS=$CFLAGS
  CFLAGS="$CFLAGS $FLAG_M64 -march=octeon2 -Werror"

  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

    return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_OCTEON2="-march=octeon2"
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

  FLAG_OCTEON2=""
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


fi


# does this compiler support -mmsa (MIPS MSA ASE) ?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -mmsa" >&5
printf %s "checking if gcc accepts -mmsa... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="$CFLAGS -mmsa -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

    return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

FLAG_MSA="-mmsa"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

FLAG_MSA=""
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS



# Are we compiling for the MIPS64 n32 ABI?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc is producing mips n32 binaries" >&5
printf %s "checking if gcc is producing mips n32 binaries... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#if !defined(_MIPS_SIM) || (defined(_MIPS_SIM) && (_MIPS_SIM != _ABIN32))
#error NO
#endif

_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

VGCONF_ABI=N32
FLAG_M64="-march=mips64r2 -mabi=n32"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

# Are we compiling for the MIPS64 n64 ABI?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc is producing mips n64 binaries" >&5
printf %s "checking if gcc is producing mips n64 binaries... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#if !defined(_MIPS_SIM) || (defined(_MIPS_SIM) && (_MIPS_SIM != _ABI64))
#error NO
#endif

_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

VGCONF_ABI=64
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

# We enter the code block below in the following case:
# Target architecture is set to mips64, the desired abi
# was not specified and the compiler's default abi setting
# is neither n32 nor n64.
# Probe for and set the abi to either n64 or n32, in that order,
# which is required for a mips64 build of valgrind.
if test "$ARCH_MAX" = "mips64" -a "x$VGCONF_ABI" = "x"; then
  safe_CFLAGS=$CFLAGS
  CFLAGS="$CFLAGS -mabi=64 -Werror"
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc is n64 capable" >&5
printf %s "checking if gcc is n64 capable... " >&6; }
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

      return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

  VGCONF_ABI=64
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
  CFLAGS=$safe_CFLAGS

  if test "x$VGCONF_ABI" = "x"; then
    safe_CFLAGS=$CFLAGS
    CFLAGS="$CFLAGS -mabi=n32 -Werror"
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc is n32 capable" >&5
printf %s "checking if gcc is n32 capable... " >&6; }
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

        return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

    VGCONF_ABI=N32
    FLAG_M64="-march=mips64r2 -mabi=n32"
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
    CFLAGS=$safe_CFLAGS
  fi
fi

 if test x$VGCONF_ABI != x; then
  VGCONF_HAVE_ABI_TRUE=
  VGCONF_HAVE_ABI_FALSE='#'
else
  VGCONF_HAVE_ABI_TRUE='#'
  VGCONF_HAVE_ABI_FALSE=
fi




# does this compiler support -mmmx ?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -mmmx" >&5
printf %s "checking if gcc accepts -mmmx... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-mmmx -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

FLAG_MMMX="-mmmx"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

FLAG_MMMX=""
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS




# does this compiler support -msse ?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -msse" >&5
printf %s "checking if gcc accepts -msse... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-msse -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

FLAG_MSSE="-msse"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

FLAG_MSSE=""
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS




# does this compiler support -mpreferred-stack-boundary=2 when
# generating code for a 32-bit target?  Note that we only care about
# this when generating code for (32-bit) x86, so if the compiler
# doesn't recognise -m32 it's no big deal.  We'll just get code for
# the Memcheck and other helper functions, that is a bit slower than
# it could be, on x86; and no difference at all on any other platform.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -mpreferred-stack-boundary=2 -m32" >&5
printf %s "checking if gcc accepts -mpreferred-stack-boundary=2 -m32... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-mpreferred-stack-boundary=2 -m32 -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

PREFERRED_STACK_BOUNDARY_2="-mpreferred-stack-boundary=2"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

PREFERRED_STACK_BOUNDARY_2=""
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS




# does this compiler support -mlong-double-128 ?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -mlong-double-128" >&5
printf %s "checking if gcc accepts -mlong-double-128... " >&6; }
safe_CFLAGS=$CFLAGS
CFLAGS="-mlong-double-128 -Werror"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_compiler_supports_mlong_double_128=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_compiler_supports_mlong_double_128=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS
 if test x$ac_compiler_supports_mlong_double_128 = xyes; then
  HAS_MLONG_DOUBLE_128_TRUE=
  HAS_MLONG_DOUBLE_128_FALSE='#'
else
  HAS_MLONG_DOUBLE_128_TRUE='#'
  HAS_MLONG_DOUBLE_128_FALSE=
fi

FLAG_MLONG_DOUBLE_128="-mlong-double-128"


# does this toolchain support lto ?
# Not checked for if --enable-lto=no was given, or if LTO_AR or LTO_RANLIG
# are not defined
# If not enable-lto=* arg is provided, default to no, as  lto builds are
# a lot slower, and so not appropriate for Valgrind developments.
# --enable-lto=yes should be used by distro packagers.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for using the link time optimisation" >&5
printf %s "checking for using the link time optimisation... " >&6; }
if test ${vg_cv_lto+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  # Check whether --enable-lto was given.
if test ${enable_lto+y}
then :
  enableval=$enable_lto; vg_cv_lto=$enableval
else $as_nop
  vg_cv_lto=no
fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $vg_cv_lto" >&5
printf "%s\n" "$vg_cv_lto" >&6; }

if test "x${vg_cv_lto}" != "xno" -a "x${LTO_AR}" != "x" -a "x${LTO_RANLIB}" != "x"; then
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if toolchain accepts lto" >&5
printf %s "checking if toolchain accepts lto... " >&6; }
safe_CFLAGS=$CFLAGS
TEST_LTO_CFLAGS="-flto -flto-partition=one -fuse-linker-plugin"
# Note : using 'one' partition is giving a slightly smaller/faster memcheck
# and ld/lto-trans1 still needs a reasonable memory (about 0.5GB) when linking.
CFLAGS="$TEST_LTO_CFLAGS -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  extern void somefun(void);
  somefun();
  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

LTO_CFLAGS=$TEST_LTO_CFLAGS
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

LTO_CFLAGS=""
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS
fi



# if we could not compile with lto args, or lto was disabled,
# then set LTO_AR/LTO_RANLIB to the non lto values
# define in config.h ENABLE_LTO (not needed by the code currently, but
# this guarantees we recompile everything if we re-configure and rebuild
# in a build dir previously build with another value of --enable-lto
if test "x${LTO_CFLAGS}" = "x"; then
   LTO_AR=${AR}
   LTO_RANLIB=${RANLIB}
   vg_cv_lto=no
else
   vg_cv_lto=yes

printf "%s\n" "#define ENABLE_LTO 1" >>confdefs.h

fi

# Convenience function to check whether GCC supports a particular
# warning option. Takes two arguments,
# first the warning flag name to check (without -W), then the
# substitution name to set with -Wno-warning-flag if the flag exists,
# or the empty string if the compiler doesn't accept the flag. Note
# that checking is done against the warning flag itself, but the
# substitution is then done to cancel the warning flag.


# A variation of the above for arguments that
# take a value


# Convenience function. Like AC_GCC_WARNING_SUBST_NO, except it substitutes
# -W$1  (instead of -Wno-$1).



  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wmemset-transposed-args" >&5
printf %s "checking if gcc accepts -Wmemset-transposed-args... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wmemset-transposed-args -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_MEMSET_TRANSPOSED_ARGS=-Wno-memset-transposed-args

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wnonnull" >&5
printf %s "checking if gcc accepts -Wnonnull... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wnonnull -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_NONNULL=-Wno-nonnull

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Woverflow" >&5
printf %s "checking if gcc accepts -Woverflow... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Woverflow -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_OVERFLOW=-Wno-overflow

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wpointer-sign" >&5
printf %s "checking if gcc accepts -Wpointer-sign... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wpointer-sign -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_POINTER_SIGN=-Wno-pointer-sign

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wuninitialized" >&5
printf %s "checking if gcc accepts -Wuninitialized... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wuninitialized -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_UNINITIALIZED=-Wno-uninitialized

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wmaybe-uninitialized" >&5
printf %s "checking if gcc accepts -Wmaybe-uninitialized... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wmaybe-uninitialized -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_MAYBE_UNINITIALIZED=-Wno-maybe-uninitialized

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wunused-function" >&5
printf %s "checking if gcc accepts -Wunused-function... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wunused-function -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_UNUSED_FUNCTION=-Wno-unused-function

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wstatic-local-in-inline" >&5
printf %s "checking if gcc accepts -Wstatic-local-in-inline... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wstatic-local-in-inline -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_STATIC_LOCAL_IN_INLINE=-Wno-static-local-in-inline

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wmismatched-new-delete" >&5
printf %s "checking if gcc accepts -Wmismatched-new-delete... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wmismatched-new-delete -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_MISMATCHED_NEW_DELETE=-Wno-mismatched-new-delete

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Winfinite-recursion" >&5
printf %s "checking if gcc accepts -Winfinite-recursion... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Winfinite-recursion -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_INFINITE_RECURSION=-Wno-infinite-recursion

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wexpansion-to-defined" >&5
printf %s "checking if gcc accepts -Wexpansion-to-defined... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wexpansion-to-defined -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_EXPANSION_TO_DEFINED=-Wno-expansion-to-defined

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wunused-variable" >&5
printf %s "checking if gcc accepts -Wunused-variable... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wunused-variable -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_UNUSED_VARIABLE=-Wno-unused-variable

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wunused-but-set-variable" >&5
printf %s "checking if gcc accepts -Wunused-but-set-variable... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wunused-but-set-variable -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_UNUSED_BUT_SET_VARIABLE=-Wno-unused-but-set-variable

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wnon-power-of-two-alignment" >&5
printf %s "checking if gcc accepts -Wnon-power-of-two-alignment... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wnon-power-of-two-alignment -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_NON_POWER_OF_TWO_ALIGNMENT=-Wno-non-power-of-two-alignment

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wsign-compare" >&5
printf %s "checking if gcc accepts -Wsign-compare... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wsign-compare -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_SIGN_COMPARE=-Wno-sign-compare

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wstringop-overflow" >&5
printf %s "checking if gcc accepts -Wstringop-overflow... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wstringop-overflow -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_STRINGOP_OVERFLOW=-Wno-stringop-overflow

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wstringop-overread" >&5
printf %s "checking if gcc accepts -Wstringop-overread... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wstringop-overread -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_STRINGOP_OVERREAD=-Wno-stringop-overread

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wstringop-truncation" >&5
printf %s "checking if gcc accepts -Wstringop-truncation... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wstringop-truncation -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_STRINGOP_TRUNCATION=-Wno-stringop-truncation

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wformat-overflow" >&5
printf %s "checking if gcc accepts -Wformat-overflow... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wformat-overflow -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_FORMAT_OVERFLOW=-Wno-format-overflow

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wuse-after-free" >&5
printf %s "checking if gcc accepts -Wuse-after-free... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wuse-after-free -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_USE_AFTER_FREE=-Wno-use-after-free

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wfree-nonheap-object" >&5
printf %s "checking if gcc accepts -Wfree-nonheap-object... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wfree-nonheap-object -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_FREE_NONHEAP_OBJECT=-Wno-free-nonheap-object

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wfortify-source" >&5
printf %s "checking if gcc accepts -Wfortify-source... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wfortify-source -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_FORTIFY_SOURCE=-Wno-fortify-source

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wbuiltin-memcpy-chk-size" >&5
printf %s "checking if gcc accepts -Wbuiltin-memcpy-chk-size... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wbuiltin-memcpy-chk-size -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_BUILTIN_MEMCPY_CHK_SIZE=-Wno-builtin-memcpy-chk-size

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wincompatible-pointer-types-discards-qualifiers" >&5
printf %s "checking if gcc accepts -Wincompatible-pointer-types-discards-qualifiers... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wincompatible-pointer-types-discards-qualifiers -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_INCOMPATIBLE_POINTER_TYPES_DISCARDS_QUALIFIERS=-Wno-incompatible-pointer-types-discards-qualifiers

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wsuspicious-bzero" >&5
printf %s "checking if gcc accepts -Wsuspicious-bzero... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wsuspicious-bzero -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_SUSPICIOUS_BZERO=-Wno-suspicious-bzero

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wattributes" >&5
printf %s "checking if gcc accepts -Wattributes... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wattributes -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_ATTRIBUTES=-Wno-attributes

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS



  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Walloc-size-larger-than=1677216" >&5
printf %s "checking if gcc accepts -Walloc-size-larger-than=1677216... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Walloc-size-larger-than=1677216 -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_NO_ALLOC_SIZE_LARGER_THAN=-Wno-alloc-size-larger-than

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS



  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wwrite-strings" >&5
printf %s "checking if gcc accepts -Wwrite-strings... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wwrite-strings -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_WRITE_STRINGS=-Wwrite-strings

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wempty-body" >&5
printf %s "checking if gcc accepts -Wempty-body... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wempty-body -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_EMPTY_BODY=-Wempty-body

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wformat" >&5
printf %s "checking if gcc accepts -Wformat... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wformat -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_FORMAT=-Wformat

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wformat-signedness" >&5
printf %s "checking if gcc accepts -Wformat-signedness... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wformat-signedness -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_FORMAT_SIGNEDNESS=-Wformat-signedness

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wcast-qual" >&5
printf %s "checking if gcc accepts -Wcast-qual... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wcast-qual -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_CAST_QUAL=-Wcast-qual

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wold-style-declaration" >&5
printf %s "checking if gcc accepts -Wold-style-declaration... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wold-style-declaration -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_OLD_STYLE_DECLARATION=-Wold-style-declaration

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wignored-qualifiers" >&5
printf %s "checking if gcc accepts -Wignored-qualifiers... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wignored-qualifiers -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_IGNORED_QUALIFIERS=-Wignored-qualifiers

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wmissing-parameter-type" >&5
printf %s "checking if gcc accepts -Wmissing-parameter-type... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wmissing-parameter-type -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_MISSING_PARAMETER_TYPE=-Wmissing-parameter-type

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wlogical-op" >&5
printf %s "checking if gcc accepts -Wlogical-op... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wlogical-op -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_LOGICAL_OP=-Wlogical-op

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wenum-conversion" >&5
printf %s "checking if gcc accepts -Wenum-conversion... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wenum-conversion -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_ENUM_CONVERSION=-Wenum-conversion

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wimplicit-fallthrough=2" >&5
printf %s "checking if gcc accepts -Wimplicit-fallthrough=2... " >&6; }
  safe_CFLAGS=$CFLAGS
  CFLAGS="-Wimplicit-fallthrough=2 -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_IMPLICIT_FALLTHROUGH=-Wimplicit-fallthrough=2

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
  CFLAGS=$safe_CFLAGS


# Does this compiler support -Wformat-security ?
# Special handling is needed, because certain GCC versions require -Wformat
# being present if -Wformat-security is given. Otherwise a warning is issued.
# However, AC_GCC_WARNING_SUBST will stick in -Werror (see r15323 for rationale).
# And with that the warning will be turned into an error with the result
# that -Wformat-security is believed to be unsupported when in fact it is.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wformat-security" >&5
printf %s "checking if gcc accepts -Wformat-security... " >&6; }
safe_CFLAGS=$CFLAGS
CFLAGS="-Wformat -Wformat-security -Werror"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

FLAG_W_FORMAT_SECURITY=-Wformat-security

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
else $as_nop


{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS

# does this compiler support -Wextra or the older -W ?

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -Wextra or -W" >&5
printf %s "checking if gcc accepts -Wextra or -W... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-Wextra -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

FLAG_W_EXTRA=-Wextra

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: -Wextra" >&5
printf "%s\n" "-Wextra" >&6; }

else $as_nop

  CFLAGS="-W -Werror"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

    return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  FLAG_W_EXTRA=-W

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: -W" >&5
printf "%s\n" "-W" >&6; }

else $as_nop


  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: not supported" >&5
printf "%s\n" "not supported" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS

# On ARM we do not want to pass -Wcast-align as that produces loads
# of warnings. GCC is just being conservative. See here:
# https://gcc.gnu.org/bugzilla/show_bug.cgi?id=65459#c4
if test "X$VGCONF_ARCH_PRI" = "Xarm"; then
  FLAG_W_CAST_ALIGN=""

else
  FLAG_W_CAST_ALIGN=-Wcast-align

fi

# does this compiler support -faligned-new ?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if g++ accepts -faligned-new" >&5
printf %s "checking if g++ accepts -faligned-new... " >&6; }

safe_CXXFLAGS=$CXXFLAGS
CXXFLAGS="-faligned-new -Werror"

ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :

FLAG_FALIGNED_NEW="-faligned-new"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

FLAG_FALIGNED_NEW=""
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CXXFLAGS=$safe_CXXFLAGS
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu




# does this compiler support -fsized-deallocation ?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if g++ accepts -fsized-deallocation" >&5
printf %s "checking if g++ accepts -fsized-deallocation... " >&6; }

safe_CXXFLAGS=$CXXFLAGS
CXXFLAGS="-fsized-deallocation -Werror"

ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :

FLAG_FSIZED_DEALLOCATION="-fsized-deallocation"
ac_have_sized_deallocation=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

FLAG_FSIZED_DEALLOCATION=""
ac_have_sized_deallocation=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CXXFLAGS=$safe_CXXFLAGS
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu



 if test x$ac_have_sized_deallocation = xyes; then
  HAVE_FSIZED_DEALLOCATION_TRUE=
  HAVE_FSIZED_DEALLOCATION_FALSE='#'
else
  HAVE_FSIZED_DEALLOCATION_TRUE='#'
  HAVE_FSIZED_DEALLOCATION_FALSE=
fi


# does this compiler support C++17 aligned new/delete?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if g++ supports aligned new and delete" >&5
printf %s "checking if g++ supports aligned new and delete... " >&6; }

safe_CXXFLAGS=$CXXFLAGS
CXXFLAGS="-std=c++17"

ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <cstdlib>
#include <new>

int
main (void)
{

  operator delete(nullptr, std::align_val_t(64U));

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :

ac_have_aligned_cxx_alloc=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_aligned_cxx_alloc=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CXXFLAGS=$safe_CXXFLAGS
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


 if test x$ac_have_aligned_cxx_alloc = xyes; then
  HAVE_ALIGNED_CXX_ALLOC_TRUE=
  HAVE_ALIGNED_CXX_ALLOC_FALSE='#'
else
  HAVE_ALIGNED_CXX_ALLOC_TRUE='#'
  HAVE_ALIGNED_CXX_ALLOC_FALSE=
fi


# does this compiler support -fno-stack-protector ?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -fno-stack-protector" >&5
printf %s "checking if gcc accepts -fno-stack-protector... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-fno-stack-protector -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

no_stack_protector=yes
FLAG_FNO_STACK_PROTECTOR="-fno-stack-protector"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

no_stack_protector=no
FLAG_FNO_STACK_PROTECTOR=""
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS



# does this compiler support -finline-functions ?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -finline-functions" >&5
printf %s "checking if gcc accepts -finline-functions... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-finline-functions -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

inline_functions=yes
FLAG_FINLINE_FUNCTIONS="-finline-functions"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

inline_functions=no
FLAG_FINLINE_FUNCTIONS=""
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS



# Does GCC support disabling Identical Code Folding?
# We want to disabled Identical Code Folding for the
# tools preload shared objects to get better backraces.
# For GCC 5.1+ -fipa-icf is enabled by default at -O2.
# "The optimization reduces code size and may disturb
#  unwind stacks by replacing a function by equivalent
#  one with a different name."
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -fno-ipa-icf" >&5
printf %s "checking if gcc accepts -fno-ipa-icf... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-fno-ipa-icf -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

no_ipa_icf=yes
FLAG_FNO_IPA_ICF="-fno-ipa-icf"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

no_ipa_icf=no
FLAG_FNO_IPA_ICF=""
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS




# Does this compiler support -fsanitize=undefined. This is true for
# GCC 4.9 and newer. However, the undefined behaviour sanitiser in GCC 5.1
# also checks for alignment violations on memory accesses which the valgrind
# code base is sprinkled (if not littered) with. As those alignment issues
# don't pose a problem we want to suppress warnings about them.
# In GCC 5.1 this can be done by passing -fno-sanitize=alignment. Earlier
# GCCs do not support that.
#
# Only checked for if --enable-ubsan was given.
if test "x${vg_cv_ubsan}" = "xyes"; then
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -fsanitize=undefined -fno-sanitize=alignment" >&5
printf %s "checking if gcc accepts -fsanitize=undefined -fno-sanitize=alignment... " >&6; }
safe_CFLAGS=$CFLAGS
CFLAGS="-fsanitize=undefined -fno-sanitize=alignment -Werror"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

FLAG_FSANITIZE="-fsanitize=undefined -fno-sanitize=alignment"
LIB_UBSAN="-static-libubsan"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

CFLAGS="-fsanitize=undefined -Werror"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

FLAG_FSANITIZE="-fsanitize=undefined"
LIB_UBSAN="-static-libubsan"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

FLAG_FSANITIZE=""
LIB_UBSAN=""
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS


fi
# does this compiler support --param inline-unit-growth=... ?

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts --param inline-unit-growth" >&5
printf %s "checking if gcc accepts --param inline-unit-growth... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="--param inline-unit-growth=900 -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

FLAG_UNLIMITED_INLINE_UNIT_GROWTH="--param inline-unit-growth=900"

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

FLAG_UNLIMITED_INLINE_UNIT_GROWTH=""

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS


# does this compiler support -gdwarf-4 -fdebug-types-section ?

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -gdwarf-4 -fdebug-types-section" >&5
printf %s "checking if gcc accepts -gdwarf-4 -fdebug-types-section... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-gdwarf-4 -fdebug-types-section -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_dwarf4=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_dwarf4=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$ac_have_dwarf4 = xyes; then
  DWARF4_TRUE=
  DWARF4_FALSE='#'
else
  DWARF4_TRUE='#'
  DWARF4_FALSE=
fi

CFLAGS=$safe_CFLAGS


# does this compiler support -g -gz=zlib ?

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -g -gz=zlib" >&5
printf %s "checking if gcc accepts -g -gz=zlib... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-g -gz=zlib"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

ac_have_gz_zlib=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_gz_zlib=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
 if test x$ac_have_gz_zlib = xyes; then
  GZ_ZLIB_TRUE=
  GZ_ZLIB_FALSE='#'
else
  GZ_ZLIB_TRUE='#'
  GZ_ZLIB_FALSE=
fi

CFLAGS=$safe_CFLAGS


# does this compiler support -g -gz=zlib-gnu ?

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -g -gz=zlib-gnu" >&5
printf %s "checking if gcc accepts -g -gz=zlib-gnu... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-g -gz=zlib-gnu"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

ac_have_gz_zlib_gnu=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_gz_zlib_gnu=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
 if test x$ac_have_gz_zlib_gnu = xyes; then
  GZ_ZLIB_GNU_TRUE=
  GZ_ZLIB_GNU_FALSE='#'
else
  GZ_ZLIB_GNU_TRUE='#'
  GZ_ZLIB_GNU_FALSE=
fi

CFLAGS=$safe_CFLAGS


# does this compiler support nested functions ?

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts nested functions" >&5
printf %s "checking if gcc accepts nested functions... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  int foo() { return 1; }
  return foo();

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_nested_functions=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_nested_functions=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$ac_have_nested_functions = xyes; then
  HAVE_NESTED_FUNCTIONS_TRUE=
  HAVE_NESTED_FUNCTIONS_FALSE='#'
else
  HAVE_NESTED_FUNCTIONS_TRUE='#'
  HAVE_NESTED_FUNCTIONS_FALSE=
fi



# does this compiler support the 'p' constraint in ASM statements ?

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts the 'p' constraint in asm statements" >&5
printf %s "checking if gcc accepts the 'p' constraint in asm statements... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

   char *p;
   __asm__ __volatile__ ("movdqa (%0),%%xmm6\n" : "=p" (p));

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_asm_constraint_p=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_asm_constraint_p=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$ac_have_asm_constraint_p = xyes; then
  HAVE_ASM_CONSTRAINT_P_TRUE=
  HAVE_ASM_CONSTRAINT_P_FALSE='#'
else
  HAVE_ASM_CONSTRAINT_P_TRUE='#'
  HAVE_ASM_CONSTRAINT_P_FALSE=
fi



# Does this compiler and linker support -pie?
# Some compilers actually do not support -pie and report its usage
# as an error. We need to check if it is safe to use it first.

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -pie" >&5
printf %s "checking if gcc accepts -pie... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-pie"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

FLAG_PIE="-pie"

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

FLAG_PIE=""

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
CFLAGS=$safe_CFLAGS

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -ansi" >&5
printf %s "checking if gcc accepts -ansi... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-ansi"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

   return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_ansi=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_ansi=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$ac_have_ansi = xyes; then
  HAVE_ANSI_TRUE=
  HAVE_ANSI_FALSE='#'
else
  HAVE_ANSI_TRUE='#'
  HAVE_ANSI_FALSE=
fi


CFLAGS=$safe_CFLAGS


# Does this compiler support -no-pie?
# On Ubuntu 16.10+, gcc produces position independent executables (PIE) by
# default. However this gets in the way with some tests, we use -no-pie
# for these.

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc accepts -no-pie" >&5
printf %s "checking if gcc accepts -no-pie... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-no-pie -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

FLAG_NO_PIE="-no-pie"

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

FLAG_NO_PIE=""

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS


# We want to use use the -Ttext-segment option to the linker.
# GNU (bfd) ld supports this directly. Newer GNU gold linkers
# support it as an alias of -Ttext. Sadly GNU (bfd) ld's -Ttext
# semantics are NOT what we want (GNU gold -Ttext is fine).
#
# For GNU (bfd) ld -Ttext-segment chooses the base at which ELF headers
# will reside. -Ttext aligns just the .text section start (but not any
# other section).
#
# LLVM ld.lld 10.0 changed the semantics of its -Ttext. See "Breaking changes"
# in https://releases.llvm.org/10.0.0/tools/lld/docs/ReleaseNotes.html
# The --image-base option (since version 6.0?) provides the semantics needed.
# -Ttext-segment generates an error, but -Ttext now more closely
# follows the GNU (bfd) ld's -Ttext.
#
# So test first for --image-base support, and if that fails then
# for -Ttext-segment which is supported by all bfd ld versions
# and use that if it exists. If it doesn't exist it must be an older
# version of gold and we can fall back to using -Ttext which has the
# right semantics.

safe_CFLAGS=$CFLAGS
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if the linker accepts -Wl,--image-base" >&5
printf %s "checking if the linker accepts -Wl,--image-base... " >&6; }

CFLAGS="-static -nodefaultlibs -nostartfiles -Wl,--image-base=$valt_load_address_pri_norml -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
int _start () { return 0; }
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

  linker_using_t_text="no"
  FLAG_T_TEXT="--image-base"

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if the linker accepts -Wl,-Ttext-segment" >&5
printf %s "checking if the linker accepts -Wl,-Ttext-segment... " >&6; }

  CFLAGS="-static -nodefaultlibs -nostartfiles -Wl,-Ttext-segment=$valt_load_address_pri_norml -Werror"

  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
int _start () { return 0; }
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

    linker_using_t_text="no"
    FLAG_T_TEXT="-Ttext-segment"

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

    linker_using_t_text="yes"
    FLAG_T_TEXT="-Ttext"

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

CFLAGS=$safe_CFLAGS

# If the linker only supports -Ttext (not -Ttext-segment or --image-base) then we will
# have to strip any build-id ELF NOTEs from the statically linked tools.
# Otherwise the build-id NOTE might end up at the default load address.
# (Pedantically if the linker is gold then -Ttext is fine, but newer
# gold versions also support -Ttext-segment. So just assume that unless
# we can use -Ttext-segment we need to strip the build-id NOTEs.
if test "x${linker_using_t_text}" = "xyes"; then
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: ld -Ttext used, need to strip build-id NOTEs." >&5
printf "%s\n" "$as_me: ld -Ttext used, need to strip build-id NOTEs." >&6;}
# does the linker support -Wl,--build-id=none ?  Note, it's
# important that we test indirectly via whichever C compiler
# is selected, rather than testing /usr/bin/ld or whatever
# directly.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if the linker accepts -Wl,--build-id=none" >&5
printf %s "checking if the linker accepts -Wl,--build-id=none... " >&6; }
safe_CFLAGS=$CFLAGS
CFLAGS="-Wl,--build-id=none -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

  FLAG_NO_BUILD_ID="-Wl,--build-id=none"

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

  FLAG_NO_BUILD_ID=""

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
else
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: ld --image-base or -Ttext-segment used, no need to strip build-id NOTEs." >&5
printf "%s\n" "$as_me: ld --image-base or -Ttext-segment used, no need to strip build-id NOTEs." >&6;}
FLAG_NO_BUILD_ID=""

fi
CFLAGS=$safe_CFLAGS

# On s390x, if the linker supports -Wl,--s390-pgste, then we build the
# tools with that flag.  This enables running programs that need it, such
# as qemu-kvm.
if test x$VGCONF_PLATFORM_PRI_CAPS = xS390X_LINUX; then
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if the linker accepts -Wl,--s390-pgste" >&5
printf %s "checking if the linker accepts -Wl,--s390-pgste... " >&6; }
safe_CFLAGS=$CFLAGS
CFLAGS="-Wl,--s390-pgste"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

  FLAG_S390_PGSTE="-Wl,--s390-pgste"

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

  FLAG_S390_PGSTE=""

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
CFLAGS=$safe_CFLAGS
fi

# does the ppc assembler support "mtocrf" et al?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if ppc32/64 as supports mtocrf/mfocrf" >&5
printf %s "checking if ppc32/64 as supports mtocrf/mfocrf... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

__asm__ __volatile__("mtocrf 4,0");
__asm__ __volatile__("mfocrf 0,4");

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_ppc_mftocrf=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_ppc_mftocrf=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
if test x$ac_have_as_ppc_mftocrf = xyes ; then

printf "%s\n" "#define HAVE_AS_PPC_MFTOCRF 1" >>confdefs.h

fi


# does the ppc assembler support "lfdp" and other phased out floating point insns?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if ppc32/64 asm supports phased out floating point instructions" >&5
printf %s "checking if ppc32/64 asm supports phased out floating point instructions... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do { typedef struct {
      double hi;
      double lo;
     } dbl_pair_t;
     dbl_pair_t dbl_pair[3];
     __asm__ volatile ("lfdp 10, %0"::"m" (dbl_pair[0]));
   } while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_ppc_fpPO=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_ppc_fpPO=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
if test x$ac_have_as_ppc_fpPO = xyes ; then

printf "%s\n" "#define HAVE_AS_PPC_FPPO 1" >>confdefs.h

fi


# does the amd64 assembler understand "fxsave64" and "fxrstor64"?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if amd64 assembler supports fxsave64/fxrstor64" >&5
printf %s "checking if amd64 assembler supports fxsave64/fxrstor64... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

void* p;
asm __volatile__("fxsave64 (%0)" : : "r" (p) : "memory" );
asm __volatile__("fxrstor64 (%0)" : : "r" (p) : "memory" );

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_amd64_fxsave64=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_amd64_fxsave64=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
if test x$ac_have_as_amd64_fxsave64 = xyes ; then

printf "%s\n" "#define HAVE_AS_AMD64_FXSAVE64 1" >>confdefs.h

fi

# does the x86/amd64 assembler understand SSE3 instructions?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_SSE3_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler speaks SSE3" >&5
printf %s "checking if x86/amd64 assembler speaks SSE3... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do { long long int x;
     __asm__ __volatile__("fisttpq (%0)" : :"r"(&x) ); }
  while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_sse3=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_sse3=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_sse3 = xyes; then
  BUILD_SSE3_TESTS_TRUE=
  BUILD_SSE3_TESTS_FALSE='#'
else
  BUILD_SSE3_TESTS_TRUE='#'
  BUILD_SSE3_TESTS_FALSE=
fi



# Ditto for SSSE3 instructions (note extra S)
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_SSSE3_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler speaks SSSE3" >&5
printf %s "checking if x86/amd64 assembler speaks SSSE3... " >&6; }

save_CFLAGS="$CFLAGS"
CFLAGS="$CFLAGS -msse -Werror"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do { long long int x;
   __asm__ __volatile__(
      "pabsb (%0),%%xmm7" : : "r"(&x) : "xmm7" ); }
  while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_ssse3=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_ssse3=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS="$save_CFLAGS"

 if test x$ac_have_as_ssse3 = xyes; then
  BUILD_SSSE3_TESTS_TRUE=
  BUILD_SSSE3_TESTS_FALSE='#'
else
  BUILD_SSSE3_TESTS_TRUE='#'
  BUILD_SSSE3_TESTS_FALSE=
fi



# does the x86/amd64 assembler understand the PCLMULQDQ instruction?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_PCLMULQDQ_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler supports 'pclmulqdq'" >&5
printf %s "checking if x86/amd64 assembler supports 'pclmulqdq'... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do {
   __asm__ __volatile__(
      "pclmulqdq \$17,%%xmm6,%%xmm7" : : : "xmm6", "xmm7" ); }
  while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_pclmulqdq=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_pclmulqdq=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_pclmulqdq = xyes; then
  BUILD_PCLMULQDQ_TESTS_TRUE=
  BUILD_PCLMULQDQ_TESTS_FALSE='#'
else
  BUILD_PCLMULQDQ_TESTS_TRUE='#'
  BUILD_PCLMULQDQ_TESTS_FALSE=
fi



# does the x86/amd64 assembler understand the VPCLMULQDQ instruction?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_VPCLMULQDQ_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler supports 'vpclmulqdq'" >&5
printf %s "checking if x86/amd64 assembler supports 'vpclmulqdq'... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do {
      /*
       * Carry-less multiplication of xmm1 with xmm2 and store the result in
       * xmm3. The immediate is used to determine which quadwords of xmm1 and
       * xmm2 should be used.
       */
   __asm__ __volatile__(
      "vpclmulqdq \$0,%%xmm1,%%xmm2,%%xmm3" : : : );
  } while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_vpclmulqdq=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_vpclmulqdq=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_vpclmulqdq = xyes; then
  BUILD_VPCLMULQDQ_TESTS_TRUE=
  BUILD_VPCLMULQDQ_TESTS_FALSE='#'
else
  BUILD_VPCLMULQDQ_TESTS_TRUE='#'
  BUILD_VPCLMULQDQ_TESTS_FALSE=
fi



# does the x86/amd64 assembler understand FMA4 instructions?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_AFM4_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler supports FMA4 'vfmaddpd'" >&5
printf %s "checking if x86/amd64 assembler supports FMA4 'vfmaddpd'... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do {
   __asm__ __volatile__(
      "vfmaddpd %%xmm7,%%xmm8,%%xmm6,%%xmm9" : : : );
  } while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_vfmaddpd=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_vfmaddpd=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_vfmaddpd = xyes; then
  BUILD_FMA4_TESTS_TRUE=
  BUILD_FMA4_TESTS_FALSE='#'
else
  BUILD_FMA4_TESTS_TRUE='#'
  BUILD_FMA4_TESTS_FALSE=
fi



# does the x86/amd64 assembler understand the LZCNT instruction?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_LZCNT_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler supports 'lzcnt'" >&5
printf %s "checking if x86/amd64 assembler supports 'lzcnt'... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do {
      __asm__ __volatile__("lzcnt %%rax,%%rax" : : : "rax");
  } while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  ac_have_as_lzcnt=yes
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

  ac_have_as_lzcnt=no
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_lzcnt = xyes; then
  BUILD_LZCNT_TESTS_TRUE=
  BUILD_LZCNT_TESTS_FALSE='#'
else
  BUILD_LZCNT_TESTS_TRUE='#'
  BUILD_LZCNT_TESTS_FALSE=
fi



# does the x86/amd64 assembler understand the LOOPNEL instruction?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_LOOPNEL_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler supports 'loopnel'" >&5
printf %s "checking if x86/amd64 assembler supports 'loopnel'... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do {
      __asm__ __volatile__("1:  loopnel 1b\n");
  } while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  ac_have_as_loopnel=yes
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

  ac_have_as_loopnel=no
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_loopnel = xyes; then
  BUILD_LOOPNEL_TESTS_TRUE=
  BUILD_LOOPNEL_TESTS_FALSE='#'
else
  BUILD_LOOPNEL_TESTS_TRUE='#'
  BUILD_LOOPNEL_TESTS_FALSE=
fi



# does the x86/amd64 assembler understand ADDR32 ?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_ADDR32_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler supports 'addr32'" >&5
printf %s "checking if x86/amd64 assembler supports 'addr32'... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do {
      asm volatile ("addr32 rep movsb");
  } while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

  ac_have_as_addr32=yes
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

  ac_have_as_addr32=no
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_addr32 = xyes; then
  BUILD_ADDR32_TESTS_TRUE=
  BUILD_ADDR32_TESTS_FALSE='#'
else
  BUILD_ADDR32_TESTS_TRUE='#'
  BUILD_ADDR32_TESTS_FALSE=
fi



# does the x86/amd64 assembler understand SSE 4.2 instructions?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_SSE42_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler speaks SSE4.2" >&5
printf %s "checking if x86/amd64 assembler speaks SSE4.2... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do { long long int x;
   __asm__ __volatile__(
      "crc32q %%r15,%%r15" : : : "r15" );
   __asm__ __volatile__(
      "pblendvb (%%rcx), %%xmm11" : : : "memory", "xmm11");
   __asm__ __volatile__(
      "aesdec %%xmm2, %%xmm1" : : : "xmm2", "xmm1"); }
  while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_sse42=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_sse42=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_sse42 = xyes; then
  BUILD_SSE42_TESTS_TRUE=
  BUILD_SSE42_TESTS_FALSE='#'
else
  BUILD_SSE42_TESTS_TRUE='#'
  BUILD_SSE42_TESTS_FALSE=
fi



# does the x86/amd64 assembler understand AVX instructions?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_AVX_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler speaks AVX" >&5
printf %s "checking if x86/amd64 assembler speaks AVX... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do { long long int x;
   __asm__ __volatile__(
      "vmovupd (%%rsp), %%ymm7" : : : "xmm7" );
   __asm__ __volatile__(
      "vaddpd %%ymm6,%%ymm7,%%ymm8" : : : "xmm6","xmm7","xmm8"); }
  while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_avx=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_avx=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_avx = xyes; then
  BUILD_AVX_TESTS_TRUE=
  BUILD_AVX_TESTS_FALSE='#'
else
  BUILD_AVX_TESTS_TRUE='#'
  BUILD_AVX_TESTS_FALSE=
fi



# does the x86/amd64 assembler understand AVX2 instructions?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_AVX2_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler speaks AVX2" >&5
printf %s "checking if x86/amd64 assembler speaks AVX2... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do { long long int x;
   __asm__ __volatile__(
      "vpsravd (%%rsp), %%ymm8, %%ymm7" : : : "xmm7", "xmm8" );
   __asm__ __volatile__(
      "vpaddb %%ymm6,%%ymm7,%%ymm8" : : : "xmm6","xmm7","xmm8"); }
  while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_avx2=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_avx2=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_avx2 = xyes; then
  BUILD_AVX2_TESTS_TRUE=
  BUILD_AVX2_TESTS_FALSE='#'
else
  BUILD_AVX2_TESTS_TRUE='#'
  BUILD_AVX2_TESTS_FALSE=
fi



# does the x86/amd64 assembler understand TSX instructions and
# the XACQUIRE/XRELEASE prefixes?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_TSX_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler speaks TSX" >&5
printf %s "checking if x86/amd64 assembler speaks TSX... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do {
   __asm__ __volatile__(
      "       xbegin Lfoo  \n\t"
      "Lfoo:  xend         \n\t"
      "       xacquire lock incq 0(%rsp)     \n\t"
      "       xrelease lock incq 0(%rsp)     \n"
   );
  } while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_tsx=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_tsx=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_tsx = xyes; then
  BUILD_TSX_TESTS_TRUE=
  BUILD_TSX_TESTS_FALSE='#'
else
  BUILD_TSX_TESTS_TRUE='#'
  BUILD_TSX_TESTS_FALSE=
fi



# does the x86/amd64 assembler understand BMI1 and BMI2 instructions?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_BMI_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler speaks BMI1 and BMI2" >&5
printf %s "checking if x86/amd64 assembler speaks BMI1 and BMI2... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do { unsigned int h, l;
   __asm__ __volatile__( "mulx %rax,%rcx,%r8" );
   __asm__ __volatile__(
      "andn %2, %1, %0" : "=r" (h) : "r" (0x1234567), "r" (0x7654321) );
   __asm__ __volatile__(
      "movl %2, %%edx; mulx %3, %1, %0" : "=r" (h), "=r" (l) : "g" (0x1234567), "rm" (0x7654321) : "edx" ); }
  while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_bmi=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_bmi=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_bmi = xyes; then
  BUILD_BMI_TESTS_TRUE=
  BUILD_BMI_TESTS_FALSE='#'
else
  BUILD_BMI_TESTS_TRUE='#'
  BUILD_BMI_TESTS_FALSE=
fi



# does the x86/amd64 assembler understand FMA instructions?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_FMA_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler speaks FMA" >&5
printf %s "checking if x86/amd64 assembler speaks FMA... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do { unsigned int h, l;
   __asm__ __volatile__(
      "vfmadd132ps (%%rsp), %%ymm8, %%ymm7" : : : "xmm7", "xmm8" );
   __asm__ __volatile__(
      "vfnmsub231sd (%%rsp), %%xmm8, %%xmm7" : : : "xmm7", "xmm8" );
   __asm__ __volatile__(
      "vfmsubadd213pd (%%rsp), %%xmm8, %%xmm7" : : : "xmm7", "xmm8" ); }
  while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_fma=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_fma=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_fma = xyes; then
  BUILD_FMA_TESTS_TRUE=
  BUILD_FMA_TESTS_FALSE='#'
else
  BUILD_FMA_TESTS_TRUE='#'
  BUILD_FMA_TESTS_FALSE=
fi



# does the amd64 assembler understand MPX instructions?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_MPX_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if amd64 assembler knows the MPX instructions" >&5
printf %s "checking if amd64 assembler knows the MPX instructions... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do {
    asm ("bndmov %bnd0,(%rsp)");
    asm ("bndldx 3(%rbx,%rdx), %bnd2");
    asm ("bnd call foo\n"
         "bnd jmp  end\n"
         "foo: bnd ret\n"
         "end: nop");
  } while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_mpx=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_mpx=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_mpx = xyes; then
  BUILD_MPX_TESTS_TRUE=
  BUILD_MPX_TESTS_FALSE='#'
else
  BUILD_MPX_TESTS_TRUE='#'
  BUILD_MPX_TESTS_FALSE=
fi



# does the amd64 assembler understand ADX instructions?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_ADX_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if amd64 assembler knows the ADX instructions" >&5
printf %s "checking if amd64 assembler knows the ADX instructions... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do {
    asm ("adcxq %r14,%r8");
  } while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_adx=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_adx=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_adx = xyes; then
  BUILD_ADX_TESTS_TRUE=
  BUILD_ADX_TESTS_FALSE='#'
else
  BUILD_ADX_TESTS_TRUE='#'
  BUILD_ADX_TESTS_FALSE=
fi



# does the amd64 assembler understand the RDRAND instruction?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_RDRAND_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if amd64 assembler knows the RDRAND instruction" >&5
printf %s "checking if amd64 assembler knows the RDRAND instruction... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do {
    asm ("rdrand %r14");
    asm ("rdrand %r14d");
    asm ("rdrand %r14w");
  } while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_rdrand=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_rdrand=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_rdrand = xyes; then
  BUILD_RDRAND_TESTS_TRUE=
  BUILD_RDRAND_TESTS_FALSE='#'
else
  BUILD_RDRAND_TESTS_TRUE='#'
  BUILD_RDRAND_TESTS_FALSE=
fi


# does the amd64 assembler understand the RDSEED instruction?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_RDSEED_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if amd64 assembler knows the RDSEED instruction" >&5
printf %s "checking if amd64 assembler knows the RDSEED instruction... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do {
    asm ("rdseed %r14");
    asm ("rdseed %r14d");
    asm ("rdseed %r14w");
  } while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_rdseed=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_rdseed=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_rdseed = xyes; then
  BUILD_RDSEED_TESTS_TRUE=
  BUILD_RDSEED_TESTS_FALSE='#'
else
  BUILD_RDSEED_TESTS_TRUE='#'
  BUILD_RDSEED_TESTS_FALSE=
fi


# does the amd64 assembler understand the F16C instructions (VCVTPH2PS and
# VCVTPS2PH) ?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_F16C_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if amd64 assembler knows the F16C instructions" >&5
printf %s "checking if amd64 assembler knows the F16C instructions... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do {
    asm ("vcvtph2ps %xmm5, %ymm10");
    // If we put the dollar sign and zero together, the shell processing
    // this configure.ac script substitutes the command name in.  Sigh.
    asm ("vcvtps2ph $" "0, %ymm10, %xmm5");
  } while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_f16c=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_f16c=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_f16c = xyes; then
  BUILD_F16C_TESTS_TRUE=
  BUILD_F16C_TESTS_FALSE='#'
else
  BUILD_F16C_TESTS_TRUE='#'
  BUILD_F16C_TESTS_FALSE=
fi



# does the x86/amd64 assembler understand MOVBE?
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_MOVBE_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler knows the MOVBE insn" >&5
printf %s "checking if x86/amd64 assembler knows the MOVBE insn... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  do { long long int x;
   __asm__ __volatile__(
      "movbe (%%rsp), %%r15" : : : "memory", "r15" ); }
  while (0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_as_movbe=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_as_movbe=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_have_as_movbe = xyes; then
  BUILD_MOVBE_TESTS_TRUE=
  BUILD_MOVBE_TESTS_FALSE='#'
else
  BUILD_MOVBE_TESTS_TRUE='#'
  BUILD_MOVBE_TESTS_FALSE=
fi



# Does the C compiler support the "ifunc" attribute
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_IFUNC_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc supports the ifunc attribute" >&5
printf %s "checking if gcc supports the ifunc attribute... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

static void mytest(void) {}

static void (*resolve_test(void))(void)
{
    return (void (*)(void))&mytest;
}

void test(void) __attribute__((ifunc("resolve_test")));

int main()
{
    test();
    return 0;
}

_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

ac_have_ifunc_attr=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_ifunc_attr=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

 if test x$ac_have_ifunc_attr = xyes; then
  BUILD_IFUNC_TESTS_TRUE=
  BUILD_IFUNC_TESTS_FALSE='#'
else
  BUILD_IFUNC_TESTS_TRUE='#'
  BUILD_IFUNC_TESTS_FALSE=
fi


# Does the C compiler support the armv8 crc feature flag
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_ARMV8_CRC_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc supports the armv8 crc feature flag" >&5
printf %s "checking if gcc supports the armv8 crc feature flag... " >&6; }

save_CFLAGS="$CFLAGS"
CFLAGS="$CFLAGS -march=armv8-a+crc -Werror"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int main()
{
    return 0;
}

_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_armv8_crc_feature=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_armv8_crc_feature=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS="$save_CFLAGS"

 if test x$ac_have_armv8_crc_feature = xyes; then
  BUILD_ARMV8_CRC_TESTS_TRUE=
  BUILD_ARMV8_CRC_TESTS_FALSE='#'
else
  BUILD_ARMV8_CRC_TESTS_TRUE='#'
  BUILD_ARMV8_CRC_TESTS_FALSE=
fi



# Does the C compiler support the armv81 flag and the assembler v8.1 instructions
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_ARMV81_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc supports the armv81 feature flag and assembler supports v8.1 instructions" >&5
printf %s "checking if gcc supports the armv81 feature flag and assembler supports v8.1 instructions... " >&6; }

save_CFLAGS="$CFLAGS"
CFLAGS="$CFLAGS -march=armv8.1-a -Werror"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int main()
{
    __asm__ __volatile__("ldadd x0, x1, [x2]" ::: "memory");
    return 0;
}

_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_armv81_feature=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_armv81_feature=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS="$save_CFLAGS"

 if test x$ac_have_armv81_feature = xyes; then
  BUILD_ARMV81_TESTS_TRUE=
  BUILD_ARMV81_TESTS_FALSE='#'
else
  BUILD_ARMV81_TESTS_TRUE='#'
  BUILD_ARMV81_TESTS_FALSE=
fi



# Does the C compiler support the armv82 flag and the assembler v8.2 instructions
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_ARMV82_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc supports the armv82 feature flag and assembler supports v8.2 instructions" >&5
printf %s "checking if gcc supports the armv82 feature flag and assembler supports v8.2 instructions... " >&6; }

save_CFLAGS="$CFLAGS"
CFLAGS="$CFLAGS -march=armv8.2-a+fp16 -Werror"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int main()
{
    __asm__ __volatile__("faddp h0, v1.2h");
    return 0;
}

_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_armv82_feature=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_armv82_feature=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS="$save_CFLAGS"

 if test x$ac_have_armv82_feature = xyes; then
  BUILD_ARMV82_TESTS_TRUE=
  BUILD_ARMV82_TESTS_FALSE='#'
else
  BUILD_ARMV82_TESTS_TRUE='#'
  BUILD_ARMV82_TESTS_FALSE=
fi



# Does the C compiler support the armv82-a+dotprod flag and assembler dotprod instructions
# Note, this doesn't generate a C-level symbol.  It generates a
# automake-level symbol (BUILD_ARMV82_DOTPROD_TESTS), used in test Makefile.am's
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc supports the armv82-a+dotprod feature flag and assembler supports dotprod instructions" >&5
printf %s "checking if gcc supports the armv82-a+dotprod feature flag and assembler supports dotprod instructions... " >&6; }

save_CFLAGS="$CFLAGS"
CFLAGS="$CFLAGS -march=armv8.2-a+dotprod -Werror"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int main()
{
    __asm__ __volatile__("sdot v1.4s, v2.16b, v3.16b");
    return 0;
}

_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_armv82_dotprod_feature=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_armv82_dotprod_feature=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS="$save_CFLAGS"

 if test x$ac_have_armv82_dotprod_feature = xyes; then
  BUILD_ARMV82_DOTPROD_TESTS_TRUE=
  BUILD_ARMV82_DOTPROD_TESTS_FALSE='#'
else
  BUILD_ARMV82_DOTPROD_TESTS_TRUE='#'
  BUILD_ARMV82_DOTPROD_TESTS_FALSE=
fi



# XXX JRS 2010 Oct 13: what is this for?  For sure, we don't need this
# when building the tool executables.  I think we should get rid of it.
#
# Check for TLS support in the compiler and linker
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
static __thread int foo;
int
main (void)
{
return foo;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  vg_cv_linktime_tls=yes
else $as_nop
  vg_cv_linktime_tls=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
# Native compilation: check whether running a program using TLS succeeds.
# Linking only is not sufficient -- e.g. on Red Hat 7.3 linking TLS programs
# succeeds but running programs using TLS fails.
# Cross-compiling: check whether linking a program using TLS succeeds.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for TLS support" >&5
printf %s "checking for TLS support... " >&6; }
if test ${vg_cv_tls+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  # Check whether --enable-tls was given.
if test ${enable_tls+y}
then :
  enableval=$enable_tls; vg_cv_tls=$enableval
else $as_nop
  if test "$cross_compiling" = yes
then :
  vg_cv_tls=$vg_cv_linktime_tls
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
static __thread int foo;
int
main (void)
{
return foo;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"
then :
  vg_cv_tls=yes
else $as_nop
  vg_cv_tls=no
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $vg_cv_tls" >&5
printf "%s\n" "$vg_cv_tls" >&6; }

if test "$vg_cv_tls" = yes -a $is_clang != applellvm; then

printf "%s\n" "#define HAVE_TLS 1" >>confdefs.h

fi


#----------------------------------------------------------------------------
# Solaris-specific checks.
#----------------------------------------------------------------------------

if test "$VGCONF_OS" = "solaris" ; then
ac_fn_c_check_header_compile "$LINENO" "sys/lgrp_user_impl.h" "ac_cv_header_sys_lgrp_user_impl_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_lgrp_user_impl_h" = xyes
then :
  printf "%s\n" "#define HAVE_SYS_LGRP_USER_IMPL_H 1" >>confdefs.h

fi


# Solaris-specific check determining if the Sun Studio Assembler is used to
# build Valgrind.  The test checks if the x86/amd64 assembler understands the
# cmovl.l instruction, if yes then it's Sun Assembler.
#
# C-level symbol: none
# Automake-level symbol: SOLARIS_SUN_STUDIO_AS
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if x86/amd64 assembler speaks cmovl.l (Solaris-specific)" >&5
printf %s "checking if x86/amd64 assembler speaks cmovl.l (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{

  __asm__ __volatile__("cmovl.l %edx, %eax");

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_have_sun_studio_as=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

solaris_have_sun_studio_as=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_have_sun_studio_as = xyes; then
  SOLARIS_SUN_STUDIO_AS_TRUE=
  SOLARIS_SUN_STUDIO_AS_FALSE='#'
else
  SOLARIS_SUN_STUDIO_AS_TRUE='#'
  SOLARIS_SUN_STUDIO_AS_FALSE=
fi


# Solaris-specific check determining if symbols __xpg4 and __xpg6
# are present in linked shared libraries when gcc is invoked with -std=gnu99.
# See solaris/vgpreload-solaris.mapfile for details.
# gcc on older Solaris instructs linker to include these symbols,
# gcc on illumos and newer Solaris does not.
#
# C-level symbol: none
# Automake-level symbol: SOLARIS_XPG_SYMBOLS_PRESENT
#
save_CFLAGS="$CFLAGS"
CFLAGS="$CFLAGS -std=gnu99"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if xpg symbols are present with -std=gnu99 (Solaris-specific)" >&5
printf %s "checking if xpg symbols are present with -std=gnu99 (Solaris-specific)... " >&6; }
temp_dir=$( /usr/bin/mktemp -d )
cat <<_ACEOF >${temp_dir}/mylib.c
#include <stdio.h>
int myfunc(void) { printf("LaPutyka\n"); }
_ACEOF
${CC} ${CFLAGS} -fpic -shared -o ${temp_dir}/mylib.so ${temp_dir}/mylib.c
xpg_present=$( /usr/bin/nm ${temp_dir}/mylib.so | ${EGREP} '(__xpg4|__xpg6)' )
if test "x${xpg_present}" = "x" ; then
    solaris_xpg_symbols_present=no
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
else
    solaris_xpg_symbols_present=yes
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
fi
rm -rf ${temp_dir}
 if test x$solaris_xpg_symbols_present = xyes; then
  SOLARIS_XPG_SYMBOLS_PRESENT_TRUE=
  SOLARIS_XPG_SYMBOLS_PRESENT_FALSE='#'
else
  SOLARIS_XPG_SYMBOLS_PRESENT_TRUE='#'
  SOLARIS_XPG_SYMBOLS_PRESENT_FALSE=
fi

CFLAGS="$save_CFLAGS"


# Solaris-specific check determining if gcc enables largefile support by
# default for 32-bit executables. If it does, then set SOLARIS_UNDEF_LARGESOURCE
# variable with gcc flags which disable it.
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc enables largefile support for 32-bit apps (Solaris-specific)" >&5
printf %s "checking if gcc enables largefile support for 32-bit apps (Solaris-specific)... " >&6; }
save_CFLAGS="$CFLAGS"
CFLAGS="$CFLAGS -m32"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  return _LARGEFILE_SOURCE;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

SOLARIS_UNDEF_LARGESOURCE="-U_LARGEFILE_SOURCE -U_LARGEFILE64_SOURCE -U_FILE_OFFSET_BITS"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

SOLARIS_UNDEF_LARGESOURCE=""
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS=$safe_CFLAGS



# Solaris-specific check determining if /proc/self/cmdline
# or /proc/<pid>/cmdline is supported.
#
# C-level symbol: SOLARIS_PROC_CMDLINE
# Automake-level symbol: SOLARIS_PROC_CMDLINE
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for /proc/self/cmdline" >&5
printf %s "checking for /proc/self/cmdline... " >&6; }
if test ${ac_cv_file__proc_self_cmdline+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  test "$cross_compiling" = yes &&
  as_fn_error $? "cannot check for file existence when cross compiling" "$LINENO" 5
if test -r "/proc/self/cmdline"; then
  ac_cv_file__proc_self_cmdline=yes
else
  ac_cv_file__proc_self_cmdline=no
fi
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_file__proc_self_cmdline" >&5
printf "%s\n" "$ac_cv_file__proc_self_cmdline" >&6; }
if test "x$ac_cv_file__proc_self_cmdline" = xyes
then :

solaris_proc_cmdline=yes

printf "%s\n" "#define SOLARIS_PROC_CMDLINE 1" >>confdefs.h


else $as_nop

solaris_proc_cmdline=no

fi

 if test x$solaris_proc_cmdline = xyes; then
  SOLARIS_PROC_CMDLINE_TRUE=
  SOLARIS_PROC_CMDLINE_FALSE='#'
else
  SOLARIS_PROC_CMDLINE_TRUE='#'
  SOLARIS_PROC_CMDLINE_FALSE=
fi



# Solaris-specific check determining default platform for the Valgrind launcher.
# Used in case the launcher cannot select platform by looking at the client
# image (for example because the executable is a shell script).
#
# C-level symbol: SOLARIS_LAUNCHER_DEFAULT_PLATFORM
# Automake-level symbol: none
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for default platform of Valgrind launcher (Solaris-specific)" >&5
printf %s "checking for default platform of Valgrind launcher (Solaris-specific)... " >&6; }
# Get the ELF class of /bin/sh first.
if ! test -f /bin/sh; then
  as_fn_error $? "Shell interpreter \`/bin/sh' not found." "$LINENO" 5
fi
elf_class=$( /usr/bin/file /bin/sh | sed -n 's/.*ELF \(..\)-bit.*/\1/p' )
case "$elf_class" in
  64)
    default_arch="$VGCONF_ARCH_PRI";
    ;;
  32)
    if test "x$VGCONF_ARCH_SEC" != "x"; then
      default_arch="$VGCONF_ARCH_SEC"
    else
      default_arch="$VGCONF_ARCH_PRI";
    fi
    ;;
  *)
    as_fn_error $? "Cannot determine ELF class of \`/bin/sh'." "$LINENO" 5
    ;;
esac
default_platform="$default_arch-$VGCONF_OS"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $default_platform" >&5
printf "%s\n" "$default_platform" >&6; }

printf "%s\n" "#define SOLARIS_LAUNCHER_DEFAULT_PLATFORM \"$default_platform\"" >>confdefs.h



# Solaris-specific check determining if the old syscalls are available.
#
# C-level symbol: SOLARIS_OLD_SYSCALLS
# Automake-level symbol: SOLARIS_OLD_SYSCALLS
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the old Solaris syscalls (Solaris-specific)" >&5
printf %s "checking for the old Solaris syscalls (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/syscall.h>

int
main (void)
{

  return !SYS_open;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_old_syscalls=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_OLD_SYSCALLS 1" >>confdefs.h


else $as_nop

solaris_old_syscalls=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_old_syscalls = xyes; then
  SOLARIS_OLD_SYSCALLS_TRUE=
  SOLARIS_OLD_SYSCALLS_FALSE='#'
else
  SOLARIS_OLD_SYSCALLS_TRUE='#'
  SOLARIS_OLD_SYSCALLS_FALSE=
fi



# Solaris-specific check determining if the new accept() syscall is available.
#
# Old syscall:
# int accept(int sock, struct sockaddr *name, socklen_t *namelenp,
#            int version);
#
# New syscall (available on illumos):
# int accept(int sock, struct sockaddr *name, socklen_t *namelenp,
#            int version, int flags);
#
# If the old syscall is present then the following syscall will fail with
# ENOTSOCK (because file descriptor 0 is not a socket), if the new syscall is
# available then it will fail with EINVAL (because the flags parameter is
# invalid).
#
# C-level symbol: SOLARIS_NEW_ACCEPT_SYSCALL
# Automake-level symbol: none
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the new \`accept' syscall (Solaris-specific)" >&5
printf %s "checking for the new \`accept' syscall (Solaris-specific)... " >&6; }
if test "$cross_compiling" = yes
then :
  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot run test program while cross compiling
See \`config.log' for more details" "$LINENO" 5; }
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/syscall.h>
#include <errno.h>

int
main (void)
{

  errno = 0;
  syscall(SYS_accept, 0, 0, 0, 0, -1);
  return !(errno == EINVAL);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_NEW_ACCEPT_SYSCALL 1" >>confdefs.h


else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi



# Solaris-specific check determining if the new illumos pipe() syscall is
# available.
#
# Old syscall:
# longlong_t pipe();
#
# New syscall (available on illumos):
# int pipe(intptr_t arg, int flags);
#
# If the old syscall is present then the following call will succeed, if the
# new syscall is available then it will fail with EFAULT (because address 0
# cannot be accessed).
#
# C-level symbol: SOLARIS_NEW_PIPE_SYSCALL
# Automake-level symbol: none
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the new \`pipe' syscall (Solaris-specific)" >&5
printf %s "checking for the new \`pipe' syscall (Solaris-specific)... " >&6; }
if test "$cross_compiling" = yes
then :
  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot run test program while cross compiling
See \`config.log' for more details" "$LINENO" 5; }
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/syscall.h>
#include <errno.h>

int
main (void)
{

  errno = 0;
  syscall(SYS_pipe, 0, 0);
  return !(errno == EFAULT);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_NEW_PIPE_SYSCALL 1" >>confdefs.h


else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi



# Solaris-specific check determining if the new lwp_sigqueue() syscall is
# available.
#
# Old syscall:
# int lwp_kill(id_t lwpid, int sig);
#
# New syscall (available on Solaris 11):
# int lwp_sigqueue(id_t lwpid, int sig, void *value,
#                  int si_code, timespec_t *timeout);
#
# C-level symbol: SOLARIS_LWP_SIGQUEUE_SYSCALL
# Automake-level symbol: SOLARIS_LWP_SIGQUEUE_SYSCALL
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the new \`lwp_sigqueue' syscall (Solaris-specific)" >&5
printf %s "checking for the new \`lwp_sigqueue' syscall (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/syscall.h>

int
main (void)
{

  return !SYS_lwp_sigqueue;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_lwp_sigqueue_syscall=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_LWP_SIGQUEUE_SYSCALL 1" >>confdefs.h


else $as_nop

solaris_lwp_sigqueue_syscall=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_lwp_sigqueue_syscall = xyes; then
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TRUE=
  SOLARIS_LWP_SIGQUEUE_SYSCALL_FALSE='#'
else
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TRUE='#'
  SOLARIS_LWP_SIGQUEUE_SYSCALL_FALSE=
fi



# Solaris-specific check determining if the lwp_sigqueue() syscall
# takes both pid and thread id arguments or just thread id.
#
# Old syscall (available up to Solaris 11.3):
# int lwp_sigqueue(id_t lwpid, int sig, void *value,
#                  int si_code, timespec_t *timeout);
#
# New syscall (available since Solaris 11.4):
# int lwp_sigqueue(pid_t pid, id_t lwpid, int sig, void *value,
#                  int si_code, timespec_t *timeout);
#
# If the old syscall is present then the following syscall will fail with
# EINVAL (because signal is out of range); if the new syscall is available
# then it will fail with ESRCH (because it would not find such thread in the
# current process).
#
# C-level symbol: SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID
# Automake-level symbol: SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID
#

if test -z "$SOLARIS_LWP_SIGQUEUE_SYSCALL_TRUE"; then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if the \`lwp_sigqueue' syscall accepts pid (Solaris-specific)" >&5
printf %s "checking if the \`lwp_sigqueue' syscall accepts pid (Solaris-specific)... " >&6; }
if test "$cross_compiling" = yes
then :
  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot run test program while cross compiling
See \`config.log' for more details" "$LINENO" 5; }
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/syscall.h>
#include <errno.h>

int
main (void)
{

  errno = 0;
  syscall(SYS_lwp_sigqueue, 0, 101, 0, 0, 0, 0);
  return !(errno == ESRCH);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"
then :

solaris_lwp_sigqueue_syscall_takes_pid=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID 1" >>confdefs.h


else $as_nop

solaris_lwp_sigqueue_syscall_takes_pid=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

 if test x$solaris_lwp_sigqueue_syscall_takes_pid = xyes; then
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_TRUE=
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_FALSE='#'
else
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_TRUE='#'
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_FALSE=
fi


else
   if test x = y; then
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_TRUE=
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_FALSE='#'
else
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_TRUE='#'
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_FALSE=
fi


fi


# Solaris-specific check determining if the new lwp_name() syscall is
# available.
#
# New syscall (available on Solaris 11):
# int lwp_name(int opcode, id_t lwpid, char *name, size_t len);
#
# C-level symbol: SOLARIS_LWP_NAME_SYSCALL
# Automake-level symbol: SOLARIS_LWP_NAME_SYSCALL
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the new \`lwp_name' syscall (Solaris-specific)" >&5
printf %s "checking for the new \`lwp_name' syscall (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/syscall.h>

int
main (void)
{

  return !SYS_lwp_name;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_lwp_name_syscall=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_LWP_NAME_SYSCALL 1" >>confdefs.h


else $as_nop

solaris_lwp_name_syscall=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_lwp_name_syscall = xyes; then
  SOLARIS_LWP_NAME_SYSCALL_TRUE=
  SOLARIS_LWP_NAME_SYSCALL_FALSE='#'
else
  SOLARIS_LWP_NAME_SYSCALL_TRUE='#'
  SOLARIS_LWP_NAME_SYSCALL_FALSE=
fi



# Solaris-specific check determining if the new getrandom() syscall is
# available.
#
# New syscall (available on Solaris 11):
# int getrandom(void *buf, size_t buflen, uint_t flags);
#
# C-level symbol: SOLARIS_GETRANDOM_SYSCALL
# Automake-level symbol: SOLARIS_GETRANDOM_SYSCALL
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the new \`getrandom' syscall (Solaris-specific)" >&5
printf %s "checking for the new \`getrandom' syscall (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/syscall.h>

int
main (void)
{

  return !SYS_getrandom;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_getrandom_syscall=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_GETRANDOM_SYSCALL 1" >>confdefs.h


else $as_nop

solaris_getrandom_syscall=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_getrandom_syscall = xyes; then
  SOLARIS_GETRANDOM_SYSCALL_TRUE=
  SOLARIS_GETRANDOM_SYSCALL_FALSE='#'
else
  SOLARIS_GETRANDOM_SYSCALL_TRUE='#'
  SOLARIS_GETRANDOM_SYSCALL_FALSE=
fi



# Solaris-specific check determining if the new zone() syscall subcodes
# ZONE_LIST_DEFUNCT and ZONE_GETATTR_DEFUNCT are available.  These subcodes
# were added in Solaris 11 but are missing on illumos.
#
# C-level symbol: SOLARIS_ZONE_DEFUNCT
# Automake-level symbol: SOLARIS_ZONE_DEFUNCT
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for ZONE_LIST_DEFUNCT and ZONE_GETATTR_DEFUNCT (Solaris-specific)" >&5
printf %s "checking for ZONE_LIST_DEFUNCT and ZONE_GETATTR_DEFUNCT (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/zone.h>

int
main (void)
{

  return !(ZONE_LIST_DEFUNCT && ZONE_GETATTR_DEFUNCT);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_zone_defunct=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_ZONE_DEFUNCT 1" >>confdefs.h


else $as_nop

solaris_zone_defunct=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_zone_defunct = xyes; then
  SOLARIS_ZONE_DEFUNCT_TRUE=
  SOLARIS_ZONE_DEFUNCT_FALSE='#'
else
  SOLARIS_ZONE_DEFUNCT_TRUE='#'
  SOLARIS_ZONE_DEFUNCT_FALSE=
fi



# Solaris-specific check determining if commands A_GETSTAT and A_SETSTAT
# for auditon(2) subcode of the auditsys() syscall are available.
# These commands are available in Solaris 11 and illumos but were removed
# in Solaris 11.4.
#
# C-level symbol: SOLARIS_AUDITON_STAT
# Automake-level symbol: SOLARIS_AUDITON_STAT
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for A_GETSTAT and A_SETSTAT auditon(2) commands (Solaris-specific)" >&5
printf %s "checking for A_GETSTAT and A_SETSTAT auditon(2) commands (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <bsm/audit.h>

int
main (void)
{

  return !(A_GETSTAT && A_SETSTAT);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_auditon_stat=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_AUDITON_STAT 1" >>confdefs.h


else $as_nop

solaris_auditon_stat=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_auditon_stat = xyes; then
  SOLARIS_AUDITON_STAT_TRUE=
  SOLARIS_AUDITON_STAT_FALSE='#'
else
  SOLARIS_AUDITON_STAT_TRUE='#'
  SOLARIS_AUDITON_STAT_FALSE=
fi



# Solaris-specific check determining if the new shmsys() syscall subcodes
# IPC_XSTAT64, SHMADV, SHM_ADV_GET, SHM_ADV_SET and SHMGET_OSM are available.
# These subcodes were added in Solaris 11 but are missing on illumos.
#
# C-level symbol: SOLARIS_SHM_NEW
# Automake-level symbol: SOLARIS_SHM_NEW
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for SHMADV, SHM_ADV_GET, SHM_ADV_SET and SHMGET_OSM (Solaris-specific)" >&5
printf %s "checking for SHMADV, SHM_ADV_GET, SHM_ADV_SET and SHMGET_OSM (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/ipc_impl.h>
#include <sys/shm.h>
#include <sys/shm_impl.h>

int
main (void)
{

  return !(IPC_XSTAT64 && SHMADV && SHM_ADV_GET && SHM_ADV_SET && SHMGET_OSM);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_shm_new=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_SHM_NEW 1" >>confdefs.h


else $as_nop

solaris_shm_new=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_shm_new = xyes; then
  SOLARIS_SHM_NEW_TRUE=
  SOLARIS_SHM_NEW_FALSE='#'
else
  SOLARIS_SHM_NEW_TRUE='#'
  SOLARIS_SHM_NEW_FALSE=
fi



# Solaris-specific check determining if prxregset_t is available.  Illumos
# currently does not define it on the x86 platform.
#
# C-level symbol: SOLARIS_PRXREGSET_T
# Automake-level symbol: SOLARIS_PRXREGSET_T
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the \`prxregset_t' type (Solaris-specific)" >&5
printf %s "checking for the \`prxregset_t' type (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/procfs_isa.h>

int
main (void)
{

  return !sizeof(prxregset_t);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_prxregset_t=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_PRXREGSET_T 1" >>confdefs.h


else $as_nop

solaris_prxregset_t=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_prxregset_t = xyes; then
  SOLARIS_PRXREGSET_T_TRUE=
  SOLARIS_PRXREGSET_T_FALSE='#'
else
  SOLARIS_PRXREGSET_T_TRUE='#'
  SOLARIS_PRXREGSET_T_FALSE=
fi



# Solaris-specific check determining if the new frealpathat() syscall is
# available.
#
# New syscall (available on Solaris 11.1):
# int frealpathat(int fd, char *path, char *buf, size_t buflen);
#
# C-level symbol: SOLARIS_FREALPATHAT_SYSCALL
# Automake-level symbol: SOLARIS_FREALPATHAT_SYSCALL
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the new \`frealpathat' syscall (Solaris-specific)" >&5
printf %s "checking for the new \`frealpathat' syscall (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/syscall.h>

int
main (void)
{

  return !SYS_frealpathat;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_frealpathat_syscall=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_FREALPATHAT_SYSCALL 1" >>confdefs.h


else $as_nop

solaris_frealpathat_syscall=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_frealpathat_syscall = xyes; then
  SOLARIS_FREALPATHAT_SYSCALL_TRUE=
  SOLARIS_FREALPATHAT_SYSCALL_FALSE='#'
else
  SOLARIS_FREALPATHAT_SYSCALL_TRUE='#'
  SOLARIS_FREALPATHAT_SYSCALL_FALSE=
fi



# Solaris-specific check determining if the new uuidsys() syscall is
# available.
#
# New syscall (available on newer Solaris):
# int uuidsys(struct uuid *uuid);
#
# C-level symbol: SOLARIS_UUIDSYS_SYSCALL
# Automake-level symbol: SOLARIS_UUIDSYS_SYSCALL
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the new \`uuidsys' syscall (Solaris-specific)" >&5
printf %s "checking for the new \`uuidsys' syscall (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/syscall.h>

int
main (void)
{

  return !SYS_uuidsys;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_uuidsys_syscall=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_UUIDSYS_SYSCALL 1" >>confdefs.h


else $as_nop

solaris_uuidsys_syscall=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_uuidsys_syscall = xyes; then
  SOLARIS_UUIDSYS_SYSCALL_TRUE=
  SOLARIS_UUIDSYS_SYSCALL_FALSE='#'
else
  SOLARIS_UUIDSYS_SYSCALL_TRUE='#'
  SOLARIS_UUIDSYS_SYSCALL_FALSE=
fi



# Solaris-specific check determining if the new labelsys() syscall subcode
# TNDB_GET_TNIP is available.  This subcode was added in Solaris 11 but is
# missing on illumos.
#
# C-level symbol: SOLARIS_TNDB_GET_TNIP
# Automake-level symbol: SOLARIS_TNDB_GET_TNIP
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for TNDB_GET_TNIP (Solaris-specific)" >&5
printf %s "checking for TNDB_GET_TNIP (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/tsol/tndb.h>

int
main (void)
{

  return !TNDB_GET_TNIP;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_tndb_get_tnip=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_TNDB_GET_TNIP 1" >>confdefs.h


else $as_nop

solaris_tndb_get_tnip=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_tndb_get_tnip = xyes; then
  SOLARIS_TNDB_GET_TNIP_TRUE=
  SOLARIS_TNDB_GET_TNIP_FALSE='#'
else
  SOLARIS_TNDB_GET_TNIP_TRUE='#'
  SOLARIS_TNDB_GET_TNIP_FALSE=
fi



# Solaris-specific check determining if the new labelsys() syscall opcodes
# TSOL_GETCLEARANCE and TSOL_SETCLEARANCE are available. These opcodes were
# added in Solaris 11 but are missing on illumos.
#
# C-level symbol: SOLARIS_TSOL_CLEARANCE
# Automake-level symbol: SOLARIS_TSOL_CLEARANCE
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for TSOL_GETCLEARANCE and TSOL_SETCLEARANCE (Solaris-specific)" >&5
printf %s "checking for TSOL_GETCLEARANCE and TSOL_SETCLEARANCE (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/tsol/tsyscall.h>

int
main (void)
{

  return !(TSOL_GETCLEARANCE && TSOL_SETCLEARANCE);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_tsol_clearance=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_TSOL_CLEARANCE 1" >>confdefs.h


else $as_nop

solaris_tsol_clearance=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_tsol_clearance = xyes; then
  SOLARIS_TSOL_CLEARANCE_TRUE=
  SOLARIS_TSOL_CLEARANCE_FALSE='#'
else
  SOLARIS_TSOL_CLEARANCE_TRUE='#'
  SOLARIS_TSOL_CLEARANCE_FALSE=
fi



# Solaris-specific check determining if the new pset() syscall subcode
# PSET_GET_NAME is available. This subcode was added in Solaris 11.4 but
# is missing on illumos and Solaris 11.3.
#
# C-level symbol: SOLARIS_PSET_GET_NAME
# Automake-level symbol: SOLARIS_PSET_GET_NAME
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for PSET_GET_NAME (Solaris-specific)" >&5
printf %s "checking for PSET_GET_NAME (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/pset.h>

int
main (void)
{

  return !(PSET_GET_NAME);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_pset_get_name=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_PSET_GET_NAME 1" >>confdefs.h


else $as_nop

solaris_pset_get_name=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_pset_get_name = xyes; then
  SOLARIS_PSET_GET_NAME_TRUE=
  SOLARIS_PSET_GET_NAME_FALSE='#'
else
  SOLARIS_PSET_GET_NAME_TRUE='#'
  SOLARIS_PSET_GET_NAME_FALSE=
fi



# Solaris-specific check determining if the utimesys() syscall is
# available (on illumos and older Solaris).
#
# C-level symbol: SOLARIS_UTIMESYS_SYSCALL
# Automake-level symbol: SOLARIS_UTIMESYS_SYSCALL
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the \`utimesys' syscall (Solaris-specific)" >&5
printf %s "checking for the \`utimesys' syscall (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/syscall.h>

int
main (void)
{

  return !SYS_utimesys;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_utimesys_syscall=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_UTIMESYS_SYSCALL 1" >>confdefs.h


else $as_nop

solaris_utimesys_syscall=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_utimesys_syscall = xyes; then
  SOLARIS_UTIMESYS_SYSCALL_TRUE=
  SOLARIS_UTIMESYS_SYSCALL_FALSE='#'
else
  SOLARIS_UTIMESYS_SYSCALL_TRUE='#'
  SOLARIS_UTIMESYS_SYSCALL_FALSE=
fi



# Solaris-specific check determining if the utimensat() syscall is
# available (on newer Solaris).
#
# C-level symbol: SOLARIS_UTIMENSAT_SYSCALL
# Automake-level symbol: SOLARIS_UTIMENSAT_SYSCALL
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the \`utimensat' syscall (Solaris-specific)" >&5
printf %s "checking for the \`utimensat' syscall (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/syscall.h>

int
main (void)
{

  return !SYS_utimensat;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_utimensat_syscall=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_UTIMENSAT_SYSCALL 1" >>confdefs.h


else $as_nop

solaris_utimensat_syscall=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_utimensat_syscall = xyes; then
  SOLARIS_UTIMENSAT_SYSCALL_TRUE=
  SOLARIS_UTIMENSAT_SYSCALL_FALSE='#'
else
  SOLARIS_UTIMENSAT_SYSCALL_TRUE='#'
  SOLARIS_UTIMENSAT_SYSCALL_FALSE=
fi



# Solaris-specific check determining if the spawn() syscall is available
# (on newer Solaris).
#
# C-level symbol: SOLARIS_SPAWN_SYSCALL
# Automake-level symbol: SOLARIS_SPAWN_SYSCALL
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the \`spawn' syscall (Solaris-specific)" >&5
printf %s "checking for the \`spawn' syscall (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/syscall.h>

int
main (void)
{

  return !SYS_spawn;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_spawn_syscall=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_SPAWN_SYSCALL 1" >>confdefs.h


else $as_nop

solaris_spawn_syscall=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_spawn_syscall = xyes; then
  SOLARIS_SPAWN_SYSCALL_TRUE=
  SOLARIS_SPAWN_SYSCALL_FALSE='#'
else
  SOLARIS_SPAWN_SYSCALL_TRUE='#'
  SOLARIS_SPAWN_SYSCALL_FALSE=
fi



# Solaris-specific check determining if commands MODNVL_CTRLMAP through
# MODDEVINFO_CACHE_TS for modctl() syscall are available (on newer Solaris).
#
# C-level symbol: SOLARIS_MODCTL_MODNVL
# Automake-level symbol: SOLARIS_MODCTL_MODNVL
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for MODNVL_CTRLMAP through MODDEVINFO_CACHE_TS modctl(2) commands (Solaris-specific)" >&5
printf %s "checking for MODNVL_CTRLMAP through MODDEVINFO_CACHE_TS modctl(2) commands (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/modctl.h>

int
main (void)
{

  return !(MODNVL_CTRLMAP && MODDEVINFO_CACHE_TS);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_modctl_modnvl=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_MODCTL_MODNVL 1" >>confdefs.h


else $as_nop

solaris_modctl_modnvl=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_modctl_modnvl = xyes; then
  SOLARIS_MODCTL_MODNVL_TRUE=
  SOLARIS_MODCTL_MODNVL_FALSE='#'
else
  SOLARIS_MODCTL_MODNVL_TRUE='#'
  SOLARIS_MODCTL_MODNVL_FALSE=
fi



# Solaris-specific check determining whether nscd (name switch cache daemon)
# attaches its door at /system/volatile/name_service_door (Solaris)
# or at /var/run/name_service_door (illumos).
#
# Note that /var/run is a symlink to /system/volatile on Solaris
# but not vice versa on illumos.
#
# C-level symbol: SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE
# Automake-level symbol: SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for nscd door location (Solaris-specific)" >&5
printf %s "checking for nscd door location (Solaris-specific)... " >&6; }
if test -e /system/volatile/name_service_door; then
    solaris_nscd_door_system_volatile=yes
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: /system/volatile/name_service_door" >&5
printf "%s\n" "/system/volatile/name_service_door" >&6; }

printf "%s\n" "#define SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE 1" >>confdefs.h

else
    solaris_nscd_door_system_volatile=no
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: /var/run/name_service_door" >&5
printf "%s\n" "/var/run/name_service_door" >&6; }
fi
 if test x$solaris_nscd_door_system_volatile = xyes; then
  SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE_TRUE=
  SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE_FALSE='#'
else
  SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE_TRUE='#'
  SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE_FALSE=
fi



# Solaris-specific check determining if the new gethrt() fasttrap is available.
#
# New fasttrap (available on Solaris 11):
# hrt_t *gethrt(void);
#
# C-level symbol: SOLARIS_GETHRT_FASTTRAP
# Automake-level symbol: SOLARIS_GETHRT_FASTTRAP
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the new \`gethrt' fasttrap (Solaris-specific)" >&5
printf %s "checking for the new \`gethrt' fasttrap (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/trap.h>

int
main (void)
{

  return !T_GETHRT;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_gethrt_fasttrap=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_GETHRT_FASTTRAP 1" >>confdefs.h


else $as_nop

solaris_gethrt_fasttrap=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_gethrt_fasttrap = xyes; then
  SOLARIS_GETHRT_FASTTRAP_TRUE=
  SOLARIS_GETHRT_FASTTRAP_FALSE='#'
else
  SOLARIS_GETHRT_FASTTRAP_TRUE='#'
  SOLARIS_GETHRT_FASTTRAP_FALSE=
fi



# Solaris-specific check determining if the new get_zone_offset() fasttrap
# is available.
#
# New fasttrap (available on Solaris 11):
# zonehrtoffset_t *get_zone_offset(void);
#
# C-level symbol: SOLARIS_GETZONEOFFSET_FASTTRAP
# Automake-level symbol: SOLARIS_GETZONEOFFSET_FASTTRAP
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the new \`get_zone_offset' fasttrap (Solaris-specific)" >&5
printf %s "checking for the new \`get_zone_offset' fasttrap (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/trap.h>

int
main (void)
{

  return !T_GETZONEOFFSET;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_getzoneoffset_fasttrap=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_GETZONEOFFSET_FASTTRAP 1" >>confdefs.h


else $as_nop

solaris_getzoneoffset_fasttrap=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_getzoneoffset_fasttrap = xyes; then
  SOLARIS_GETZONEOFFSET_FASTTRAP_TRUE=
  SOLARIS_GETZONEOFFSET_FASTTRAP_FALSE='#'
else
  SOLARIS_GETZONEOFFSET_FASTTRAP_TRUE='#'
  SOLARIS_GETZONEOFFSET_FASTTRAP_FALSE=
fi



# Solaris-specific check determining if the execve() syscall
# takes fourth argument (flags) or not.
#
# Old syscall (available on illumos):
# int execve(const char *fname, const char **argv, const char **envp);
#
# New syscall (available on Solaris):
# int execve(uintptr_t file, const char **argv, const char **envp, int flags);
#
# If the new syscall is present then it will fail with EINVAL (because flags
# are invalid); if the old syscall is available then it will fail with ENOENT
# (because the file could not be found).
#
# C-level symbol: SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS
# Automake-level symbol: SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if the \`execve' syscall accepts flags (Solaris-specific)" >&5
printf %s "checking if the \`execve' syscall accepts flags (Solaris-specific)... " >&6; }
if test "$cross_compiling" = yes
then :
  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot run test program while cross compiling
See \`config.log' for more details" "$LINENO" 5; }
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/syscall.h>
#include <errno.h>

int
main (void)
{

  errno = 0;
  syscall(SYS_execve, "/no/existing/path", 0, 0, 0xdeadbeef, 0, 0);
  return !(errno == EINVAL);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"
then :

solaris_execve_syscall_takes_flags=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS 1" >>confdefs.h


else $as_nop

solaris_execve_syscall_takes_flags=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

 if test x$solaris_execve_syscall_takes_flags = xyes; then
  SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS_TRUE=
  SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS_FALSE='#'
else
  SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS_TRUE='#'
  SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS_FALSE=
fi



# Solaris-specific check determining version of the repository cache protocol.
# Every Solaris version uses a different one, ranging from 21 to current 25.
# The check is very ugly, though.
#
# C-level symbol: SOLARIS_REPCACHE_PROTOCOL_VERSION vv
# Automake-level symbol: none
#
# Extract the first word of "dis", so it can be a program name with args.
set dummy dis; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_path_DIS_PATH+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  case $DIS_PATH in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_DIS_PATH="$DIS_PATH" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_path_DIS_PATH="$as_dir$ac_word$ac_exec_ext"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  test -z "$ac_cv_path_DIS_PATH" && ac_cv_path_DIS_PATH="false"
  ;;
esac
fi
DIS_PATH=$ac_cv_path_DIS_PATH
if test -n "$DIS_PATH"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $DIS_PATH" >&5
printf "%s\n" "$DIS_PATH" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


if test "x$DIS_PATH" = "xfalse"; then
  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "Object code disassembler (\`dis') not found.
See \`config.log' for more details" "$LINENO" 5; }
fi
# The illumos source is (or was) here
# https://github.com/illumos/illumos-gate/blob/master/usr/src/lib/libscf/common/lowlevel.c#L1148
# specifically the line
#
# request.rdr_version = REPOSITORY_DOOR_VERSION;
#
# rdr_version is a 32bit unsigned int
# The macro REPOSITORY_DOOR_VERSION contains the ascii letters "Rep" in the top 3
# bytes and the door version in the lowest byte. Hence we look for Rep which is 526570
# in hex and then extrace the following byte.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for scf_handle_bind in -lscf" >&5
printf %s "checking for scf_handle_bind in -lscf... " >&6; }
if test ${ac_cv_lib_scf_scf_handle_bind+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lscf  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
char scf_handle_bind ();
int
main (void)
{
return scf_handle_bind ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  ac_cv_lib_scf_scf_handle_bind=yes
else $as_nop
  ac_cv_lib_scf_scf_handle_bind=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_scf_scf_handle_bind" >&5
printf "%s\n" "$ac_cv_lib_scf_scf_handle_bind" >&6; }
if test "x$ac_cv_lib_scf_scf_handle_bind" = xyes
then :
  printf "%s\n" "#define HAVE_LIBSCF 1" >>confdefs.h

  LIBS="-lscf $LIBS"

else $as_nop

  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Function \`scf_handle_bind' was not found in \`libscf'." >&5
printf "%s\n" "$as_me: WARNING: Function \`scf_handle_bind' was not found in \`libscf'." >&2;}
  as_fn_error $? "Cannot determine version of the repository cache protocol." "$LINENO" 5

fi


{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for version of the repository cache protocol (Solaris-specific)" >&5
printf %s "checking for version of the repository cache protocol (Solaris-specific)... " >&6; }
if test "X$VGCONF_ARCH_PRI" = "Xamd64"; then
  libscf=/usr/lib/64/libscf.so.1
else
  libscf=/usr/lib/libscf.so.1
fi
if ! $DIS_PATH -F scf_handle_bind $libscf  | grep -q -E '0x(4d01)?526570'; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Function \`scf_handle_bind' does not contain repository cache protocol version." >&5
printf "%s\n" "$as_me: WARNING: Function \`scf_handle_bind' does not contain repository cache protocol version." >&2;}
  as_fn_error $? "Cannot determine version of the repository cache protocol." "$LINENO" 5
fi
hex=$( $DIS_PATH -F scf_handle_bind $libscf  | grep 526570 | sed 's/.*526570//;s/,.*//' )
if test -z "$hex"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Version of the repository cache protocol is empty?!" >&5
printf "%s\n" "$as_me: WARNING: Version of the repository cache protocol is empty?!" >&2;}
  as_fn_error $? "Cannot determine version of the repository cache protocol." "$LINENO" 5
fi
version=$( printf "%d\n" 0x$hex )
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $version" >&5
printf "%s\n" "$version" >&6; }

printf "%s\n" "#define SOLARIS_REPCACHE_PROTOCOL_VERSION $version" >>confdefs.h



# Solaris-specific check determining if "sysstat" segment reservation type
# is available.
#
# New "sysstat" segment reservation (available on Solaris 11.4):
# - program header type:    PT_SUNW_SYSSTAT
# - auxiliary vector entry: AT_SUN_SYSSTAT_ADDR
#
# C-level symbol: SOLARIS_RESERVE_SYSSTAT_ADDR
# Automake-level symbol: SOLARIS_RESERVE_SYSSTAT_ADDR
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the new \`sysstat' segment reservation (Solaris-specific)" >&5
printf %s "checking for the new \`sysstat' segment reservation (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/auxv.h>

int
main (void)
{

  return !AT_SUN_SYSSTAT_ADDR;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_reserve_sysstat_addr=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_RESERVE_SYSSTAT_ADDR 1" >>confdefs.h


else $as_nop

solaris_reserve_sysstat_addr=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_reserve_sysstat_addr = xyes; then
  SOLARIS_RESERVE_SYSSTAT_ADDR_TRUE=
  SOLARIS_RESERVE_SYSSTAT_ADDR_FALSE='#'
else
  SOLARIS_RESERVE_SYSSTAT_ADDR_TRUE='#'
  SOLARIS_RESERVE_SYSSTAT_ADDR_FALSE=
fi



# Solaris-specific check determining if "sysstat_zone" segment reservation type
# is available.
#
# New "sysstat_zone" segment reservation (available on Solaris 11.4):
# - program header type:    PT_SUNW_SYSSTAT_ZONE
# - auxiliary vector entry: AT_SUN_SYSSTAT_ZONE_ADDR
#
# C-level symbol: SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR
# Automake-level symbol: SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the new \`sysstat_zone' segment reservation (Solaris-specific)" >&5
printf %s "checking for the new \`sysstat_zone' segment reservation (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/auxv.h>

int
main (void)
{

  return !AT_SUN_SYSSTAT_ZONE_ADDR;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_reserve_sysstat_zone_addr=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR 1" >>confdefs.h


else $as_nop

solaris_reserve_sysstat_zone_addr=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_reserve_sysstat_zone_addr = xyes; then
  SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR_TRUE=
  SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR_FALSE='#'
else
  SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR_TRUE='#'
  SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR_FALSE=
fi



# Solaris-specific check determining if the system_stats() syscall is available
# (on newer Solaris).
#
# C-level symbol: SOLARIS_SYSTEM_STATS_SYSCALL
# Automake-level symbol: SOLARIS_SYSTEM_STATS_SYSCALL
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for the \`system_stats' syscall (Solaris-specific)" >&5
printf %s "checking for the \`system_stats' syscall (Solaris-specific)... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/syscall.h>

int
main (void)
{

  return !SYS_system_stats;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

solaris_system_stats_syscall=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_SYSTEM_STATS_SYSCALL 1" >>confdefs.h


else $as_nop

solaris_system_stats_syscall=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 if test x$solaris_system_stats_syscall = xyes; then
  SOLARIS_SYSTEM_STATS_SYSCALL_TRUE=
  SOLARIS_SYSTEM_STATS_SYSCALL_FALSE='#'
else
  SOLARIS_SYSTEM_STATS_SYSCALL_TRUE='#'
  SOLARIS_SYSTEM_STATS_SYSCALL_FALSE=
fi



# Solaris-specific check determining if fpregset_t defines struct _fpchip_state
# (on newer illumos) or struct fpchip_state (Solaris, older illumos).
#
# C-level symbol: SOLARIS_FPCHIP_STATE_TAKES_UNDERSCORE
# Automake-level symbol: none
#
ac_fn_c_check_type "$LINENO" "struct _fpchip_state" "ac_cv_type_struct__fpchip_state" "#include <sys/regset.h>
"
if test "x$ac_cv_type_struct__fpchip_state" = xyes
then :
  solaris_fpchip_state_takes_underscore=yes
else $as_nop
  solaris_fpchip_state_takes_underscore=no
fi

if test "$solaris_fpchip_state_takes_underscore" = "yes"; then

printf "%s\n" "#define SOLARIS_FPCHIP_STATE_TAKES_UNDERSCORE 1" >>confdefs.h

fi


# Solaris-specific check determining if schedctl page shared between kernel
# and userspace program is executable (illumos, older Solaris) or not (newer
# Solaris).
#
# C-level symbol: SOLARIS_SCHEDCTL_PAGE_EXEC
# Automake-level symbol: none
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if schedctl page is executable (Solaris-specific)" >&5
printf %s "checking if schedctl page is executable (Solaris-specific)... " >&6; }
if test "$cross_compiling" = yes
then :
  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot run test program while cross compiling
See \`config.log' for more details" "$LINENO" 5; }
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <assert.h>
#include <fcntl.h>
#include <procfs.h>
#include <schedctl.h>
#include <stdio.h>
#include <unistd.h>

int
main (void)
{

    schedctl_t *scp = schedctl_init();
    if (scp == NULL)
        return 1;

    int fd = open("/proc/self/map", O_RDONLY);
    assert(fd >= 0);

    prmap_t map;
    ssize_t rd;
    while ((rd = read(fd, &map, sizeof(map))) == sizeof(map)) {
        if (map.pr_vaddr == ((uintptr_t) scp & PAGEMASK)) {
            fprintf(stderr, "%#lx [%zu] %s\n", map.pr_vaddr, map.pr_size,
                    (map.pr_mflags & MA_EXEC) ? "x" : "no-x");
            return (map.pr_mflags & MA_EXEC);
        }
    }

    return 1;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"
then :

solaris_schedctl_page_exec=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

else $as_nop

solaris_schedctl_page_exec=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_SCHEDCTL_PAGE_EXEC 1" >>confdefs.h


fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi



# Solaris-specific check determining if PT_SUNWDTRACE program header provides
# scratch space for DTrace fasttrap provider (illumos, older Solaris) or just
# an initial thread pointer for libc (newer Solaris).
#
# C-level symbol: SOLARIS_PT_SUNDWTRACE_THRP
# Automake-level symbol: none
#
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if PT_SUNWDTRACE serves for initial thread pointer (Solaris-specific)" >&5
printf %s "checking if PT_SUNWDTRACE serves for initial thread pointer (Solaris-specific)... " >&6; }
if test "$cross_compiling" = yes
then :
  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot run test program while cross compiling
See \`config.log' for more details" "$LINENO" 5; }
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/fasttrap_isa.h>

int
main (void)
{

    return !FT_SCRATCHSIZE;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"
then :

solaris_pt_sunwdtrace_thrp=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define SOLARIS_PT_SUNDWTRACE_THRP 1" >>confdefs.h


else $as_nop

solaris_pt_sunwdtrace_thrp=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi


else
 if false; then
  SOLARIS_SUN_STUDIO_AS_TRUE=
  SOLARIS_SUN_STUDIO_AS_FALSE='#'
else
  SOLARIS_SUN_STUDIO_AS_TRUE='#'
  SOLARIS_SUN_STUDIO_AS_FALSE=
fi

 if false; then
  SOLARIS_XPG_SYMBOLS_PRESENT_TRUE=
  SOLARIS_XPG_SYMBOLS_PRESENT_FALSE='#'
else
  SOLARIS_XPG_SYMBOLS_PRESENT_TRUE='#'
  SOLARIS_XPG_SYMBOLS_PRESENT_FALSE=
fi

 if false; then
  SOLARIS_PROC_CMDLINE_TRUE=
  SOLARIS_PROC_CMDLINE_FALSE='#'
else
  SOLARIS_PROC_CMDLINE_TRUE='#'
  SOLARIS_PROC_CMDLINE_FALSE=
fi

 if false; then
  SOLARIS_OLD_SYSCALLS_TRUE=
  SOLARIS_OLD_SYSCALLS_FALSE='#'
else
  SOLARIS_OLD_SYSCALLS_TRUE='#'
  SOLARIS_OLD_SYSCALLS_FALSE=
fi

 if false; then
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TRUE=
  SOLARIS_LWP_SIGQUEUE_SYSCALL_FALSE='#'
else
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TRUE='#'
  SOLARIS_LWP_SIGQUEUE_SYSCALL_FALSE=
fi

 if false; then
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_TRUE=
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_FALSE='#'
else
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_TRUE='#'
  SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_FALSE=
fi

 if false; then
  SOLARIS_LWP_NAME_SYSCALL_TRUE=
  SOLARIS_LWP_NAME_SYSCALL_FALSE='#'
else
  SOLARIS_LWP_NAME_SYSCALL_TRUE='#'
  SOLARIS_LWP_NAME_SYSCALL_FALSE=
fi

 if false; then
  SOLARIS_GETRANDOM_SYSCALL_TRUE=
  SOLARIS_GETRANDOM_SYSCALL_FALSE='#'
else
  SOLARIS_GETRANDOM_SYSCALL_TRUE='#'
  SOLARIS_GETRANDOM_SYSCALL_FALSE=
fi

 if false; then
  SOLARIS_ZONE_DEFUNCT_TRUE=
  SOLARIS_ZONE_DEFUNCT_FALSE='#'
else
  SOLARIS_ZONE_DEFUNCT_TRUE='#'
  SOLARIS_ZONE_DEFUNCT_FALSE=
fi

 if false; then
  SOLARIS_AUDITON_STAT_TRUE=
  SOLARIS_AUDITON_STAT_FALSE='#'
else
  SOLARIS_AUDITON_STAT_TRUE='#'
  SOLARIS_AUDITON_STAT_FALSE=
fi

 if false; then
  SOLARIS_SHM_NEW_TRUE=
  SOLARIS_SHM_NEW_FALSE='#'
else
  SOLARIS_SHM_NEW_TRUE='#'
  SOLARIS_SHM_NEW_FALSE=
fi

 if false; then
  SOLARIS_PRXREGSET_T_TRUE=
  SOLARIS_PRXREGSET_T_FALSE='#'
else
  SOLARIS_PRXREGSET_T_TRUE='#'
  SOLARIS_PRXREGSET_T_FALSE=
fi

 if false; then
  SOLARIS_FREALPATHAT_SYSCALL_TRUE=
  SOLARIS_FREALPATHAT_SYSCALL_FALSE='#'
else
  SOLARIS_FREALPATHAT_SYSCALL_TRUE='#'
  SOLARIS_FREALPATHAT_SYSCALL_FALSE=
fi

 if false; then
  SOLARIS_UUIDSYS_SYSCALL_TRUE=
  SOLARIS_UUIDSYS_SYSCALL_FALSE='#'
else
  SOLARIS_UUIDSYS_SYSCALL_TRUE='#'
  SOLARIS_UUIDSYS_SYSCALL_FALSE=
fi

 if false; then
  SOLARIS_TNDB_GET_TNIP_TRUE=
  SOLARIS_TNDB_GET_TNIP_FALSE='#'
else
  SOLARIS_TNDB_GET_TNIP_TRUE='#'
  SOLARIS_TNDB_GET_TNIP_FALSE=
fi

 if false; then
  SOLARIS_TSOL_CLEARANCE_TRUE=
  SOLARIS_TSOL_CLEARANCE_FALSE='#'
else
  SOLARIS_TSOL_CLEARANCE_TRUE='#'
  SOLARIS_TSOL_CLEARANCE_FALSE=
fi

 if false; then
  SOLARIS_PSET_GET_NAME_TRUE=
  SOLARIS_PSET_GET_NAME_FALSE='#'
else
  SOLARIS_PSET_GET_NAME_TRUE='#'
  SOLARIS_PSET_GET_NAME_FALSE=
fi

 if false; then
  SOLARIS_UTIMESYS_SYSCALL_TRUE=
  SOLARIS_UTIMESYS_SYSCALL_FALSE='#'
else
  SOLARIS_UTIMESYS_SYSCALL_TRUE='#'
  SOLARIS_UTIMESYS_SYSCALL_FALSE=
fi

 if false; then
  SOLARIS_UTIMENSAT_SYSCALL_TRUE=
  SOLARIS_UTIMENSAT_SYSCALL_FALSE='#'
else
  SOLARIS_UTIMENSAT_SYSCALL_TRUE='#'
  SOLARIS_UTIMENSAT_SYSCALL_FALSE=
fi

 if false; then
  SOLARIS_SPAWN_SYSCALL_TRUE=
  SOLARIS_SPAWN_SYSCALL_FALSE='#'
else
  SOLARIS_SPAWN_SYSCALL_TRUE='#'
  SOLARIS_SPAWN_SYSCALL_FALSE=
fi

 if false; then
  SOLARIS_MODCTL_MODNVL_TRUE=
  SOLARIS_MODCTL_MODNVL_FALSE='#'
else
  SOLARIS_MODCTL_MODNVL_TRUE='#'
  SOLARIS_MODCTL_MODNVL_FALSE=
fi

 if false; then
  SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE_TRUE=
  SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE_FALSE='#'
else
  SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE_TRUE='#'
  SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE_FALSE=
fi

 if false; then
  SOLARIS_GETHRT_FASTTRAP_TRUE=
  SOLARIS_GETHRT_FASTTRAP_FALSE='#'
else
  SOLARIS_GETHRT_FASTTRAP_TRUE='#'
  SOLARIS_GETHRT_FASTTRAP_FALSE=
fi

 if false; then
  SOLARIS_GETZONEOFFSET_FASTTRAP_TRUE=
  SOLARIS_GETZONEOFFSET_FASTTRAP_FALSE='#'
else
  SOLARIS_GETZONEOFFSET_FASTTRAP_TRUE='#'
  SOLARIS_GETZONEOFFSET_FASTTRAP_FALSE=
fi

 if false; then
  SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS_TRUE=
  SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS_FALSE='#'
else
  SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS_TRUE='#'
  SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS_FALSE=
fi

 if false; then
  SOLARIS_RESERVE_SYSSTAT_ADDR_TRUE=
  SOLARIS_RESERVE_SYSSTAT_ADDR_FALSE='#'
else
  SOLARIS_RESERVE_SYSSTAT_ADDR_TRUE='#'
  SOLARIS_RESERVE_SYSSTAT_ADDR_FALSE=
fi

 if false; then
  SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR_TRUE=
  SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR_FALSE='#'
else
  SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR_TRUE='#'
  SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR_FALSE=
fi

 if false; then
  SOLARIS_SYSTEM_STATS_SYSCALL_TRUE=
  SOLARIS_SYSTEM_STATS_SYSCALL_FALSE='#'
else
  SOLARIS_SYSTEM_STATS_SYSCALL_TRUE='#'
  SOLARIS_SYSTEM_STATS_SYSCALL_FALSE=
fi

fi # test "$VGCONF_OS" = "solaris"

#----------------------------------------------------------------------------
# FreeBSD-specific checks.
#----------------------------------------------------------------------------

# Rather than having a large number of feature test as above with Solaris
# these tests are per-version. This may not be entirely reliable for
# FreeBSD development branches (XX.Y-CURRENT) or pre-release branches
# (XX.Y-STABLE) but it should work for XX-Y-RELEASE

if test "$VGCONF_OS" = "freebsd" ; then

 if test $freebsd_vers -ge $freebsd_13_0; then
  FREEBSD_VERS_13_PLUS_TRUE=
  FREEBSD_VERS_13_PLUS_FALSE='#'
else
  FREEBSD_VERS_13_PLUS_TRUE='#'
  FREEBSD_VERS_13_PLUS_FALSE=
fi

 if test $freebsd_vers -ge $freebsd_15; then
  FREEBSD_VERS_15_PLUS_TRUE=
  FREEBSD_VERS_15_PLUS_FALSE='#'
else
  FREEBSD_VERS_15_PLUS_TRUE='#'
  FREEBSD_VERS_15_PLUS_FALSE=
fi


else

 if false; then
  FREEBSD_VERS_13_PLUS_TRUE=
  FREEBSD_VERS_13_PLUS_FALSE='#'
else
  FREEBSD_VERS_13_PLUS_TRUE='#'
  FREEBSD_VERS_13_PLUS_FALSE=
fi

 if false; then
  FREEBSD_VERS_15_PLUS_TRUE=
  FREEBSD_VERS_15_PLUS_FALSE='#'
else
  FREEBSD_VERS_15_PLUS_TRUE='#'
  FREEBSD_VERS_15_PLUS_FALSE=
fi


fi # test "$VGCONF_OS" = "freebsd"


#----------------------------------------------------------------------------
# Checks for C header files.
#----------------------------------------------------------------------------

ac_fn_c_check_header_compile "$LINENO" "asm/unistd.h" "ac_cv_header_asm_unistd_h" "$ac_includes_default"
if test "x$ac_cv_header_asm_unistd_h" = xyes
then :
  printf "%s\n" "#define HAVE_ASM_UNISTD_H 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "endian.h" "ac_cv_header_endian_h" "$ac_includes_default"
if test "x$ac_cv_header_endian_h" = xyes
then :
  printf "%s\n" "#define HAVE_ENDIAN_H 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "mqueue.h" "ac_cv_header_mqueue_h" "$ac_includes_default"
if test "x$ac_cv_header_mqueue_h" = xyes
then :
  printf "%s\n" "#define HAVE_MQUEUE_H 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "sys/endian.h" "ac_cv_header_sys_endian_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_endian_h" = xyes
then :
  printf "%s\n" "#define HAVE_SYS_ENDIAN_H 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "sys/epoll.h" "ac_cv_header_sys_epoll_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_epoll_h" = xyes
then :
  printf "%s\n" "#define HAVE_SYS_EPOLL_H 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "sys/eventfd.h" "ac_cv_header_sys_eventfd_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_eventfd_h" = xyes
then :
  printf "%s\n" "#define HAVE_SYS_EVENTFD_H 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "sys/klog.h" "ac_cv_header_sys_klog_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_klog_h" = xyes
then :
  printf "%s\n" "#define HAVE_SYS_KLOG_H 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "sys/poll.h" "ac_cv_header_sys_poll_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_poll_h" = xyes
then :
  printf "%s\n" "#define HAVE_SYS_POLL_H 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "sys/prctl.h" "ac_cv_header_sys_prctl_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_prctl_h" = xyes
then :
  printf "%s\n" "#define HAVE_SYS_PRCTL_H 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "sys/signal.h" "ac_cv_header_sys_signal_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_signal_h" = xyes
then :
  printf "%s\n" "#define HAVE_SYS_SIGNAL_H 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "sys/signalfd.h" "ac_cv_header_sys_signalfd_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_signalfd_h" = xyes
then :
  printf "%s\n" "#define HAVE_SYS_SIGNALFD_H 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "sys/syscall.h" "ac_cv_header_sys_syscall_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_syscall_h" = xyes
then :
  printf "%s\n" "#define HAVE_SYS_SYSCALL_H 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "sys/sysnvl.h" "ac_cv_header_sys_sysnvl_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_sysnvl_h" = xyes
then :
  printf "%s\n" "#define HAVE_SYS_SYSNVL_H 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "sys/time.h" "ac_cv_header_sys_time_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_time_h" = xyes
then :
  printf "%s\n" "#define HAVE_SYS_TIME_H 1" >>confdefs.h

fi
ac_fn_c_check_header_compile "$LINENO" "sys/types.h" "ac_cv_header_sys_types_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_types_h" = xyes
then :
  printf "%s\n" "#define HAVE_SYS_TYPES_H 1" >>confdefs.h

fi


# Verify whether the <linux/futex.h> header is usable.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if <linux/futex.h> is usable" >&5
printf %s "checking if <linux/futex.h> is usable... " >&6; }

save_CFLAGS="$CFLAGS"
CFLAGS="$CFLAGS -D__user="
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <linux/futex.h>

int
main (void)
{

  return FUTEX_WAIT;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_have_usable_linux_futex_h=yes

printf "%s\n" "#define HAVE_USABLE_LINUX_FUTEX_H 1" >>confdefs.h

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_usable_linux_futex_h=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
CFLAGS="$save_CFLAGS"


#----------------------------------------------------------------------------
# Checks for typedefs, structures, and compiler characteristics.
#----------------------------------------------------------------------------
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for uid_t in sys/types.h" >&5
printf %s "checking for uid_t in sys/types.h... " >&6; }
if test ${ac_cv_type_uid_t+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "uid_t" >/dev/null 2>&1
then :
  ac_cv_type_uid_t=yes
else $as_nop
  ac_cv_type_uid_t=no
fi
rm -rf conftest*

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_type_uid_t" >&5
printf "%s\n" "$ac_cv_type_uid_t" >&6; }
if test $ac_cv_type_uid_t = no; then

printf "%s\n" "#define uid_t int" >>confdefs.h


printf "%s\n" "#define gid_t int" >>confdefs.h

fi

ac_fn_c_check_type "$LINENO" "off_t" "ac_cv_type_off_t" "$ac_includes_default"
if test "x$ac_cv_type_off_t" = xyes
then :

else $as_nop

printf "%s\n" "#define off_t long int" >>confdefs.h

fi

ac_fn_c_check_type "$LINENO" "size_t" "ac_cv_type_size_t" "$ac_includes_default"
if test "x$ac_cv_type_size_t" = xyes
then :

else $as_nop

printf "%s\n" "#define size_t unsigned int" >>confdefs.h

fi




ac_fn_c_check_type "$LINENO" "struct statx" "ac_cv_type_struct_statx" "
  #define _GNU_SOURCE
  #include <sys/stat.h>

"
if test "x$ac_cv_type_struct_statx" = xyes
then :


printf "%s\n" "#define HAVE_STRUCT_STATX_IN_SYS_STAT_H 1" >>confdefs.h


fi



#----------------------------------------------------------------------------
# Checks for library functions.
#----------------------------------------------------------------------------
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for working memcmp" >&5
printf %s "checking for working memcmp... " >&6; }
if test ${ac_cv_func_memcmp_working+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test "$cross_compiling" = yes
then :
  ac_cv_func_memcmp_working=no
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_includes_default
int
main (void)
{

  /* Some versions of memcmp are not 8-bit clean.  */
  char c0 = '\100', c1 = '\200', c2 = '\201';
  if (memcmp(&c0, &c2, 1) >= 0 || memcmp(&c1, &c2, 1) >= 0)
    return 1;

  /* The Next x86 OpenStep bug shows up only when comparing 16 bytes
     or more and with at least one buffer not starting on a 4-byte boundary.
     William Lewis provided this test program.   */
  {
    char foo[21];
    char bar[21];
    int i;
    for (i = 0; i < 4; i++)
      {
	char *a = foo + i;
	char *b = bar + i;
	strcpy (a, "--------01111111");
	strcpy (b, "--------10000000");
	if (memcmp (a, b, 16) >= 0)
	  return 1;
      }
    return 0;
  }

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"
then :
  ac_cv_func_memcmp_working=yes
else $as_nop
  ac_cv_func_memcmp_working=no
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_memcmp_working" >&5
printf "%s\n" "$ac_cv_func_memcmp_working" >&6; }
test $ac_cv_func_memcmp_working = no && case " $LIBOBJS " in
  *" memcmp.$ac_objext "* ) ;;
  *) LIBOBJS="$LIBOBJS memcmp.$ac_objext"
 ;;
esac



ac_func=
for ac_item in $ac_func_c_list
do
  if test $ac_func; then
    ac_fn_c_check_func "$LINENO" $ac_func ac_cv_func_$ac_func
    if eval test \"x\$ac_cv_func_$ac_func\" = xyes; then
      echo "#define $ac_item 1" >> confdefs.h
    fi
    ac_func=
  else
    ac_func=$ac_item
  fi
done


{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for working mmap" >&5
printf %s "checking for working mmap... " >&6; }
if test ${ac_cv_func_mmap_fixed_mapped+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test "$cross_compiling" = yes
then :
  case "$host_os" in # ((
			  # Guess yes on platforms where we know the result.
		  linux*) ac_cv_func_mmap_fixed_mapped=yes ;;
			  # If we don't know, assume the worst.
		  *)      ac_cv_func_mmap_fixed_mapped=no ;;
		esac
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_includes_default
/* malloc might have been renamed as rpl_malloc. */
#undef malloc

/* Thanks to Mike Haertel and Jim Avera for this test.
   Here is a matrix of mmap possibilities:
	mmap private not fixed
	mmap private fixed at somewhere currently unmapped
	mmap private fixed at somewhere already mapped
	mmap shared not fixed
	mmap shared fixed at somewhere currently unmapped
	mmap shared fixed at somewhere already mapped
   For private mappings, we should verify that changes cannot be read()
   back from the file, nor mmap's back from the file at a different
   address.  (There have been systems where private was not correctly
   implemented like the infamous i386 svr4.0, and systems where the
   VM page cache was not coherent with the file system buffer cache
   like early versions of FreeBSD and possibly contemporary NetBSD.)
   For shared mappings, we should conversely verify that changes get
   propagated back to all the places they're supposed to be.

   Grep wants private fixed already mapped.
   The main things grep needs to know about mmap are:
   * does it exist and is it safe to write into the mmap'd area
   * how to use it (BSD variants)  */

#include <fcntl.h>
#include <sys/mman.h>

/* This mess was copied from the GNU getpagesize.h.  */
#ifndef HAVE_GETPAGESIZE
# ifdef _SC_PAGESIZE
#  define getpagesize() sysconf(_SC_PAGESIZE)
# else /* no _SC_PAGESIZE */
#  ifdef HAVE_SYS_PARAM_H
#   include <sys/param.h>
#   ifdef EXEC_PAGESIZE
#    define getpagesize() EXEC_PAGESIZE
#   else /* no EXEC_PAGESIZE */
#    ifdef NBPG
#     define getpagesize() NBPG * CLSIZE
#     ifndef CLSIZE
#      define CLSIZE 1
#     endif /* no CLSIZE */
#    else /* no NBPG */
#     ifdef NBPC
#      define getpagesize() NBPC
#     else /* no NBPC */
#      ifdef PAGESIZE
#       define getpagesize() PAGESIZE
#      endif /* PAGESIZE */
#     endif /* no NBPC */
#    endif /* no NBPG */
#   endif /* no EXEC_PAGESIZE */
#  else /* no HAVE_SYS_PARAM_H */
#   define getpagesize() 8192	/* punt totally */
#  endif /* no HAVE_SYS_PARAM_H */
# endif /* no _SC_PAGESIZE */

#endif /* no HAVE_GETPAGESIZE */

int
main (void)
{
  char *data, *data2, *data3;
  const char *cdata2;
  int i, pagesize;
  int fd, fd2;

  pagesize = getpagesize ();

  /* First, make a file with some known garbage in it. */
  data = (char *) malloc (pagesize);
  if (!data)
    return 1;
  for (i = 0; i < pagesize; ++i)
    *(data + i) = rand ();
  umask (0);
  fd = creat ("conftest.mmap", 0600);
  if (fd < 0)
    return 2;
  if (write (fd, data, pagesize) != pagesize)
    return 3;
  close (fd);

  /* Next, check that the tail of a page is zero-filled.  File must have
     non-zero length, otherwise we risk SIGBUS for entire page.  */
  fd2 = open ("conftest.txt", O_RDWR | O_CREAT | O_TRUNC, 0600);
  if (fd2 < 0)
    return 4;
  cdata2 = "";
  if (write (fd2, cdata2, 1) != 1)
    return 5;
  data2 = (char *) mmap (0, pagesize, PROT_READ | PROT_WRITE, MAP_SHARED, fd2, 0L);
  if (data2 == MAP_FAILED)
    return 6;
  for (i = 0; i < pagesize; ++i)
    if (*(data2 + i))
      return 7;
  close (fd2);
  if (munmap (data2, pagesize))
    return 8;

  /* Next, try to mmap the file at a fixed address which already has
     something else allocated at it.  If we can, also make sure that
     we see the same garbage.  */
  fd = open ("conftest.mmap", O_RDWR);
  if (fd < 0)
    return 9;
  if (data2 != mmap (data2, pagesize, PROT_READ | PROT_WRITE,
		     MAP_PRIVATE | MAP_FIXED, fd, 0L))
    return 10;
  for (i = 0; i < pagesize; ++i)
    if (*(data + i) != *(data2 + i))
      return 11;

  /* Finally, make sure that changes to the mapped area do not
     percolate back to the file as seen by read().  (This is a bug on
     some variants of i386 svr4.0.)  */
  for (i = 0; i < pagesize; ++i)
    *(data2 + i) = *(data2 + i) + 1;
  data3 = (char *) malloc (pagesize);
  if (!data3)
    return 12;
  if (read (fd, data3, pagesize) != pagesize)
    return 13;
  for (i = 0; i < pagesize; ++i)
    if (*(data + i) != *(data3 + i))
      return 14;
  close (fd);
  free (data);
  free (data3);
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"
then :
  ac_cv_func_mmap_fixed_mapped=yes
else $as_nop
  ac_cv_func_mmap_fixed_mapped=no
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_mmap_fixed_mapped" >&5
printf "%s\n" "$ac_cv_func_mmap_fixed_mapped" >&6; }
if test $ac_cv_func_mmap_fixed_mapped = yes; then

printf "%s\n" "#define HAVE_MMAP 1" >>confdefs.h

fi
rm -f conftest.mmap conftest.txt


{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for pthread_create in -lpthread" >&5
printf %s "checking for pthread_create in -lpthread... " >&6; }
if test ${ac_cv_lib_pthread_pthread_create+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lpthread  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
char pthread_create ();
int
main (void)
{
return pthread_create ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  ac_cv_lib_pthread_pthread_create=yes
else $as_nop
  ac_cv_lib_pthread_pthread_create=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_pthread_pthread_create" >&5
printf "%s\n" "$ac_cv_lib_pthread_pthread_create" >&6; }
if test "x$ac_cv_lib_pthread_pthread_create" = xyes
then :
  printf "%s\n" "#define HAVE_LIBPTHREAD 1" >>confdefs.h

  LIBS="-lpthread $LIBS"

fi

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for clock_gettime in -lrt" >&5
printf %s "checking for clock_gettime in -lrt... " >&6; }
if test ${ac_cv_lib_rt_clock_gettime+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lrt  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
char clock_gettime ();
int
main (void)
{
return clock_gettime ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  ac_cv_lib_rt_clock_gettime=yes
else $as_nop
  ac_cv_lib_rt_clock_gettime=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rt_clock_gettime" >&5
printf "%s\n" "$ac_cv_lib_rt_clock_gettime" >&6; }
if test "x$ac_cv_lib_rt_clock_gettime" = xyes
then :
  printf "%s\n" "#define HAVE_LIBRT 1" >>confdefs.h

  LIBS="-lrt $LIBS"

fi


ac_fn_c_check_func "$LINENO" "aligned_alloc" "ac_cv_func_aligned_alloc"
if test "x$ac_cv_func_aligned_alloc" = xyes
then :
  printf "%s\n" "#define HAVE_ALIGNED_ALLOC 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "clock_gettime" "ac_cv_func_clock_gettime"
if test "x$ac_cv_func_clock_gettime" = xyes
then :
  printf "%s\n" "#define HAVE_CLOCK_GETTIME 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "copy_file_range" "ac_cv_func_copy_file_range"
if test "x$ac_cv_func_copy_file_range" = xyes
then :
  printf "%s\n" "#define HAVE_COPY_FILE_RANGE 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "epoll_create" "ac_cv_func_epoll_create"
if test "x$ac_cv_func_epoll_create" = xyes
then :
  printf "%s\n" "#define HAVE_EPOLL_CREATE 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "epoll_pwait" "ac_cv_func_epoll_pwait"
if test "x$ac_cv_func_epoll_pwait" = xyes
then :
  printf "%s\n" "#define HAVE_EPOLL_PWAIT 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "getaddrinfo" "ac_cv_func_getaddrinfo"
if test "x$ac_cv_func_getaddrinfo" = xyes
then :
  printf "%s\n" "#define HAVE_GETADDRINFO 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "klogctl" "ac_cv_func_klogctl"
if test "x$ac_cv_func_klogctl" = xyes
then :
  printf "%s\n" "#define HAVE_KLOGCTL 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "mallinfo" "ac_cv_func_mallinfo"
if test "x$ac_cv_func_mallinfo" = xyes
then :
  printf "%s\n" "#define HAVE_MALLINFO 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "memchr" "ac_cv_func_memchr"
if test "x$ac_cv_func_memchr" = xyes
then :
  printf "%s\n" "#define HAVE_MEMCHR 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "memfd_create" "ac_cv_func_memfd_create"
if test "x$ac_cv_func_memfd_create" = xyes
then :
  printf "%s\n" "#define HAVE_MEMFD_CREATE 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "memset" "ac_cv_func_memset"
if test "x$ac_cv_func_memset" = xyes
then :
  printf "%s\n" "#define HAVE_MEMSET 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "mkdir" "ac_cv_func_mkdir"
if test "x$ac_cv_func_mkdir" = xyes
then :
  printf "%s\n" "#define HAVE_MKDIR 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "mremap" "ac_cv_func_mremap"
if test "x$ac_cv_func_mremap" = xyes
then :
  printf "%s\n" "#define HAVE_MREMAP 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "pipe2" "ac_cv_func_pipe2"
if test "x$ac_cv_func_pipe2" = xyes
then :
  printf "%s\n" "#define HAVE_PIPE2 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "ppoll" "ac_cv_func_ppoll"
if test "x$ac_cv_func_ppoll" = xyes
then :
  printf "%s\n" "#define HAVE_PPOLL 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "preadv" "ac_cv_func_preadv"
if test "x$ac_cv_func_preadv" = xyes
then :
  printf "%s\n" "#define HAVE_PREADV 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "preadv2" "ac_cv_func_preadv2"
if test "x$ac_cv_func_preadv2" = xyes
then :
  printf "%s\n" "#define HAVE_PREADV2 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "process_vm_readv" "ac_cv_func_process_vm_readv"
if test "x$ac_cv_func_process_vm_readv" = xyes
then :
  printf "%s\n" "#define HAVE_PROCESS_VM_READV 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "process_vm_writev" "ac_cv_func_process_vm_writev"
if test "x$ac_cv_func_process_vm_writev" = xyes
then :
  printf "%s\n" "#define HAVE_PROCESS_VM_WRITEV 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "pthread_barrier_init" "ac_cv_func_pthread_barrier_init"
if test "x$ac_cv_func_pthread_barrier_init" = xyes
then :
  printf "%s\n" "#define HAVE_PTHREAD_BARRIER_INIT 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "pthread_condattr_setclock" "ac_cv_func_pthread_condattr_setclock"
if test "x$ac_cv_func_pthread_condattr_setclock" = xyes
then :
  printf "%s\n" "#define HAVE_PTHREAD_CONDATTR_SETCLOCK 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "pthread_mutex_timedlock" "ac_cv_func_pthread_mutex_timedlock"
if test "x$ac_cv_func_pthread_mutex_timedlock" = xyes
then :
  printf "%s\n" "#define HAVE_PTHREAD_MUTEX_TIMEDLOCK 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "pthread_rwlock_timedrdlock" "ac_cv_func_pthread_rwlock_timedrdlock"
if test "x$ac_cv_func_pthread_rwlock_timedrdlock" = xyes
then :
  printf "%s\n" "#define HAVE_PTHREAD_RWLOCK_TIMEDRDLOCK 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "pthread_rwlock_timedwrlock" "ac_cv_func_pthread_rwlock_timedwrlock"
if test "x$ac_cv_func_pthread_rwlock_timedwrlock" = xyes
then :
  printf "%s\n" "#define HAVE_PTHREAD_RWLOCK_TIMEDWRLOCK 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "pthread_setname_np" "ac_cv_func_pthread_setname_np"
if test "x$ac_cv_func_pthread_setname_np" = xyes
then :
  printf "%s\n" "#define HAVE_PTHREAD_SETNAME_NP 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "pthread_spin_lock" "ac_cv_func_pthread_spin_lock"
if test "x$ac_cv_func_pthread_spin_lock" = xyes
then :
  printf "%s\n" "#define HAVE_PTHREAD_SPIN_LOCK 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "pthread_yield" "ac_cv_func_pthread_yield"
if test "x$ac_cv_func_pthread_yield" = xyes
then :
  printf "%s\n" "#define HAVE_PTHREAD_YIELD 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "pwritev" "ac_cv_func_pwritev"
if test "x$ac_cv_func_pwritev" = xyes
then :
  printf "%s\n" "#define HAVE_PWRITEV 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "pwritev2" "ac_cv_func_pwritev2"
if test "x$ac_cv_func_pwritev2" = xyes
then :
  printf "%s\n" "#define HAVE_PWRITEV2 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "rawmemchr" "ac_cv_func_rawmemchr"
if test "x$ac_cv_func_rawmemchr" = xyes
then :
  printf "%s\n" "#define HAVE_RAWMEMCHR 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "readlinkat" "ac_cv_func_readlinkat"
if test "x$ac_cv_func_readlinkat" = xyes
then :
  printf "%s\n" "#define HAVE_READLINKAT 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "reallocarray" "ac_cv_func_reallocarray"
if test "x$ac_cv_func_reallocarray" = xyes
then :
  printf "%s\n" "#define HAVE_REALLOCARRAY 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "semtimedop" "ac_cv_func_semtimedop"
if test "x$ac_cv_func_semtimedop" = xyes
then :
  printf "%s\n" "#define HAVE_SEMTIMEDOP 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "setcontext" "ac_cv_func_setcontext"
if test "x$ac_cv_func_setcontext" = xyes
then :
  printf "%s\n" "#define HAVE_SETCONTEXT 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "signalfd" "ac_cv_func_signalfd"
if test "x$ac_cv_func_signalfd" = xyes
then :
  printf "%s\n" "#define HAVE_SIGNALFD 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "sigwaitinfo" "ac_cv_func_sigwaitinfo"
if test "x$ac_cv_func_sigwaitinfo" = xyes
then :
  printf "%s\n" "#define HAVE_SIGWAITINFO 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "strchr" "ac_cv_func_strchr"
if test "x$ac_cv_func_strchr" = xyes
then :
  printf "%s\n" "#define HAVE_STRCHR 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "strdup" "ac_cv_func_strdup"
if test "x$ac_cv_func_strdup" = xyes
then :
  printf "%s\n" "#define HAVE_STRDUP 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "strpbrk" "ac_cv_func_strpbrk"
if test "x$ac_cv_func_strpbrk" = xyes
then :
  printf "%s\n" "#define HAVE_STRPBRK 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "strrchr" "ac_cv_func_strrchr"
if test "x$ac_cv_func_strrchr" = xyes
then :
  printf "%s\n" "#define HAVE_STRRCHR 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "strstr" "ac_cv_func_strstr"
if test "x$ac_cv_func_strstr" = xyes
then :
  printf "%s\n" "#define HAVE_STRSTR 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "swapcontext" "ac_cv_func_swapcontext"
if test "x$ac_cv_func_swapcontext" = xyes
then :
  printf "%s\n" "#define HAVE_SWAPCONTEXT 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "syscall" "ac_cv_func_syscall"
if test "x$ac_cv_func_syscall" = xyes
then :
  printf "%s\n" "#define HAVE_SYSCALL 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "utimensat" "ac_cv_func_utimensat"
if test "x$ac_cv_func_utimensat" = xyes
then :
  printf "%s\n" "#define HAVE_UTIMENSAT 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "mempcpy" "ac_cv_func_mempcpy"
if test "x$ac_cv_func_mempcpy" = xyes
then :
  printf "%s\n" "#define HAVE_MEMPCPY 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "strlcat" "ac_cv_func_strlcat"
if test "x$ac_cv_func_strlcat" = xyes
then :
  printf "%s\n" "#define HAVE_STRLCAT 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "strlcpy" "ac_cv_func_strlcpy"
if test "x$ac_cv_func_strlcpy" = xyes
then :
  printf "%s\n" "#define HAVE_STRLCPY 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "stpncpy" "ac_cv_func_stpncpy"
if test "x$ac_cv_func_stpncpy" = xyes
then :
  printf "%s\n" "#define HAVE_STPNCPY 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "strchrnul" "ac_cv_func_strchrnul"
if test "x$ac_cv_func_strchrnul" = xyes
then :
  printf "%s\n" "#define HAVE_STRCHRNUL 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "memrchr" "ac_cv_func_memrchr"
if test "x$ac_cv_func_memrchr" = xyes
then :
  printf "%s\n" "#define HAVE_MEMRCHR 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "strndup" "ac_cv_func_strndup"
if test "x$ac_cv_func_strndup" = xyes
then :
  printf "%s\n" "#define HAVE_STRNDUP 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "close_range" "ac_cv_func_close_range"
if test "x$ac_cv_func_close_range" = xyes
then :
  printf "%s\n" "#define HAVE_CLOSE_RANGE 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "wcsncpy" "ac_cv_func_wcsncpy"
if test "x$ac_cv_func_wcsncpy" = xyes
then :
  printf "%s\n" "#define HAVE_WCSNCPY 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "free_aligned_sized" "ac_cv_func_free_aligned_sized"
if test "x$ac_cv_func_free_aligned_sized" = xyes
then :
  printf "%s\n" "#define HAVE_FREE_ALIGNED_SIZED 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "sbrk" "ac_cv_func_sbrk"
if test "x$ac_cv_func_sbrk" = xyes
then :
  printf "%s\n" "#define HAVE_SBRK 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "wcpncpy" "ac_cv_func_wcpncpy"
if test "x$ac_cv_func_wcpncpy" = xyes
then :
  printf "%s\n" "#define HAVE_WCPNCPY 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "wcsxfrm" "ac_cv_func_wcsxfrm"
if test "x$ac_cv_func_wcsxfrm" = xyes
then :
  printf "%s\n" "#define HAVE_WCSXFRM 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "sem_timedwait" "ac_cv_func_sem_timedwait"
if test "x$ac_cv_func_sem_timedwait" = xyes
then :
  printf "%s\n" "#define HAVE_SEM_TIMEDWAIT 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "sem_clockwait_np" "ac_cv_func_sem_clockwait_np"
if test "x$ac_cv_func_sem_clockwait_np" = xyes
then :
  printf "%s\n" "#define HAVE_SEM_CLOCKWAIT_NP 1" >>confdefs.h

fi


# AC_CHECK_LIB adds any library found to the variable LIBS, and links these
# libraries with any shared object and/or executable. This is NOT what we
# want for e.g. vgpreload_core-x86-linux.so
LIBS=""

 if test x$ac_cv_func_pthread_barrier_init = xyes; then
  HAVE_PTHREAD_BARRIER_TRUE=
  HAVE_PTHREAD_BARRIER_FALSE='#'
else
  HAVE_PTHREAD_BARRIER_TRUE='#'
  HAVE_PTHREAD_BARRIER_FALSE=
fi

 if test x$ac_cv_func_pthread_mutex_timedlock = xyes; then
  HAVE_PTHREAD_MUTEX_TIMEDLOCK_TRUE=
  HAVE_PTHREAD_MUTEX_TIMEDLOCK_FALSE='#'
else
  HAVE_PTHREAD_MUTEX_TIMEDLOCK_TRUE='#'
  HAVE_PTHREAD_MUTEX_TIMEDLOCK_FALSE=
fi

 if test x$ac_cv_func_pthread_spin_lock = xyes; then
  HAVE_PTHREAD_SPINLOCK_TRUE=
  HAVE_PTHREAD_SPINLOCK_FALSE='#'
else
  HAVE_PTHREAD_SPINLOCK_TRUE='#'
  HAVE_PTHREAD_SPINLOCK_FALSE=
fi

 if test x$ac_cv_func_pthread_setname_np = xyes; then
  HAVE_PTHREAD_SETNAME_NP_TRUE=
  HAVE_PTHREAD_SETNAME_NP_FALSE='#'
else
  HAVE_PTHREAD_SETNAME_NP_TRUE='#'
  HAVE_PTHREAD_SETNAME_NP_FALSE=
fi

 if test x$ac_cv_func_copy_file_range = xyes; then
  HAVE_COPY_FILE_RANGE_TRUE=
  HAVE_COPY_FILE_RANGE_FALSE='#'
else
  HAVE_COPY_FILE_RANGE_TRUE='#'
  HAVE_COPY_FILE_RANGE_FALSE=
fi

 if test x$ac_cv_func_preadv = xyes && test x$ac_cv_func_pwritev = xyes; then
  HAVE_PREADV_PWRITEV_TRUE=
  HAVE_PREADV_PWRITEV_FALSE='#'
else
  HAVE_PREADV_PWRITEV_TRUE='#'
  HAVE_PREADV_PWRITEV_FALSE=
fi

 if test x$ac_cv_func_preadv2 = xyes && test x$ac_cv_func_pwritev2 = xyes; then
  HAVE_PREADV2_PWRITEV2_TRUE=
  HAVE_PREADV2_PWRITEV2_FALSE='#'
else
  HAVE_PREADV2_PWRITEV2_TRUE='#'
  HAVE_PREADV2_PWRITEV2_FALSE=
fi

 if test x$ac_cv_func_setcontext = xyes; then
  HAVE_SETCONTEXT_TRUE=
  HAVE_SETCONTEXT_FALSE='#'
else
  HAVE_SETCONTEXT_TRUE='#'
  HAVE_SETCONTEXT_FALSE=
fi

 if test x$ac_cv_func_swapcontext = xyes; then
  HAVE_SWAPCONTEXT_TRUE=
  HAVE_SWAPCONTEXT_FALSE='#'
else
  HAVE_SWAPCONTEXT_TRUE='#'
  HAVE_SWAPCONTEXT_FALSE=
fi

 if test x$ac_cv_func_memfd_create = xyes; then
  HAVE_MEMFD_CREATE_TRUE=
  HAVE_MEMFD_CREATE_FALSE='#'
else
  HAVE_MEMFD_CREATE_TRUE='#'
  HAVE_MEMFD_CREATE_FALSE=
fi

 if test x$ac_cv_func_getaddrinfo = xyes; then
  HAVE_GETADDRINFO_TRUE=
  HAVE_GETADDRINFO_FALSE='#'
else
  HAVE_GETADDRINFO_TRUE='#'
  HAVE_GETADDRINFO_FALSE=
fi

 if test x$ac_cv_func_close_range = xyes; then
  HAVE_CLOSE_RANGE_TRUE=
  HAVE_CLOSE_RANGE_FALSE='#'
else
  HAVE_CLOSE_RANGE_TRUE='#'
  HAVE_CLOSE_RANGE_FALSE=
fi

 if test x$ac_cv_func_reallocarray = xyes; then
  HAVE_REALLOCARRAY_TRUE=
  HAVE_REALLOCARRAY_FALSE='#'
else
  HAVE_REALLOCARRAY_TRUE='#'
  HAVE_REALLOCARRAY_FALSE=
fi

 if test x$ac_cv_func_wcsncpy = xyes; then
  HAVE_WCSNCPY_TRUE=
  HAVE_WCSNCPY_FALSE='#'
else
  HAVE_WCSNCPY_TRUE='#'
  HAVE_WCSNCPY_FALSE=
fi

 if test x$ac_cv_func_strlcat = xyes; then
  HAVE_STRLCAT_TRUE=
  HAVE_STRLCAT_FALSE='#'
else
  HAVE_STRLCAT_TRUE='#'
  HAVE_STRLCAT_FALSE=
fi

 if test x$ac_cv_func_strlcpy = xyes; then
  HAVE_STRLCPY_TRUE=
  HAVE_STRLCPY_FALSE='#'
else
  HAVE_STRLCPY_TRUE='#'
  HAVE_STRLCPY_FALSE=
fi

 if test x$ac_cv_func_free_aligned_sized = xyes; then
  HAVE_FREE_ALIGNED_SIZED_TRUE=
  HAVE_FREE_ALIGNED_SIZED_FALSE='#'
else
  HAVE_FREE_ALIGNED_SIZED_TRUE='#'
  HAVE_FREE_ALIGNED_SIZED_FALSE=
fi

 if test x$ac_cv_func_sbrk = xyes; then
  HAVE_SBRK_TRUE=
  HAVE_SBRK_FALSE='#'
else
  HAVE_SBRK_TRUE='#'
  HAVE_SBRK_FALSE=
fi

 if test x$ac_cv_func_wcpncpy = xyes; then
  HAVE_WCPNCPY_TRUE=
  HAVE_WCPNCPY_FALSE='#'
else
  HAVE_WCPNCPY_TRUE='#'
  HAVE_WCPNCPY_FALSE=
fi

 if test x$ac_cv_func_wcsxfrm = xyes; then
  HAVE_WCSXFRM_TRUE=
  HAVE_WCSXFRM_FALSE='#'
else
  HAVE_WCSXFRM_TRUE='#'
  HAVE_WCSXFRM_FALSE=
fi

 if test x$ac_cv_func_sem_timedwait = xyes; then
  HAVE_SEM_TIMEDWAIT_TRUE=
  HAVE_SEM_TIMEDWAIT_FALSE='#'
else
  HAVE_SEM_TIMEDWAIT_TRUE='#'
  HAVE_SEM_TIMEDWAIT_FALSE=
fi

 if test x$ac_cv_func_sem_clockwait_np = xyes; then
  HAVE_SEM_CLOCKWAIT_NP_TRUE=
  HAVE_SEM_CLOCKWAIT_NP_FALSE='#'
else
  HAVE_SEM_CLOCKWAIT_NP_TRUE='#'
  HAVE_SEM_CLOCKWAIT_NP_FALSE=
fi


if test x$VGCONF_PLATFORM_PRI_CAPS = xMIPS32_LINUX \
     -o x$VGCONF_PLATFORM_PRI_CAPS = xMIPS64_LINUX \
     -o x$VGCONF_PLATFORM_PRI_CAPS = xNANOMIPS_LINUX; then

printf "%s\n" "#define DISABLE_PTHREAD_SPINLOCK_INTERCEPT 1" >>confdefs.h

fi

#----------------------------------------------------------------------------
# MPI checks
#----------------------------------------------------------------------------
# Do we have a useable MPI setup on the primary and/or secondary targets?
# On Linux, by default, assumes mpicc and -m32/-m64
# Note: this is a kludge in that it assumes the specified mpicc
# understands -m32/-m64 regardless of what is specified using
# --with-mpicc=.
# Extract the first word of "mpicc", so it can be a program name with args.
set dummy mpicc; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_path_MPI_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  case $MPI_CC in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_MPI_CC="$MPI_CC" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
as_dummy="$PATH:/usr/lib/openmpi/bin:/usr/lib64/openmpi/bin"
for as_dir in $as_dummy
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_path_MPI_CC="$as_dir$ac_word$ac_exec_ext"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  test -z "$ac_cv_path_MPI_CC" && ac_cv_path_MPI_CC="mpicc"
  ;;
esac
fi
MPI_CC=$ac_cv_path_MPI_CC
if test -n "$MPI_CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $MPI_CC" >&5
printf "%s\n" "$MPI_CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi



mflag_primary=
if test x$VGCONF_PLATFORM_PRI_CAPS = xX86_LINUX \
     -o x$VGCONF_PLATFORM_PRI_CAPS = xX86_FREEBSD \
     -o x$VGCONF_PLATFORM_PRI_CAPS = xPPC32_LINUX \
     -o x$VGCONF_PLATFORM_PRI_CAPS = xARM_LINUX \
     -o x$VGCONF_PLATFORM_PRI_CAPS = xMIPS32_LINUX \
     -o x$VGCONF_PLATFORM_PRI_CAPS = xNANOMIPS_LINUX \
     -o x$VGCONF_PLATFORM_PRI_CAPS = xX86_SOLARIS ; then
  mflag_primary=$FLAG_M32
elif test x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_LINUX \
       -o x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_FREEBSD \
       -o x$VGCONF_PLATFORM_PRI_CAPS = xPPC64_LINUX \
       -o x$VGCONF_PLATFORM_PRI_CAPS = xARM64_LINUX \
       -o x$VGCONF_PLATFORM_PRI_CAPS = xARM64_FREEBSD \
       -o x$VGCONF_PLATFORM_PRI_CAPS = xMIPS64_LINUX \
       -o x$VGCONF_PLATFORM_PRI_CAPS = xS390X_LINUX ; then
  mflag_primary=$FLAG_M64
elif test x$VGCONF_PLATFORM_PRI_CAPS = xX86_DARWIN ; then
  mflag_primary="$FLAG_M32 -arch i386"
elif test x$VGCONF_PLATFORM_PRI_CAPS = xAMD64_DARWIN ; then
  mflag_primary="$FLAG_M64 -arch x86_64"
fi

mflag_secondary=
if test x$VGCONF_PLATFORM_SEC_CAPS = xX86_LINUX \
     -o x$VGCONF_PLATFORM_SEC_CAPS = xPPC32_LINUX \
     -o x$VGCONF_PLATFORM_SEC_CAPS = xX86_SOLARIS \
     -o x$VGCONF_PLATFORM_SEC_CAPS = xMIPS32_LINUX \
     -o x$VGCONF_PLATFORM_SEC_CAPS = xX86_FREEBSD ; then
  mflag_secondary=$FLAG_M32
elif test x$VGCONF_PLATFORM_SEC_CAPS = xX86_DARWIN ; then
  mflag_secondary="$FLAG_M32 -arch i386"
fi



# Check whether --with-mpicc was given.
if test ${with_mpicc+y}
then :
  withval=$with_mpicc; MPI_CC=$withval

fi



## We AM_COND_IF here instead of automake "if" in mpi/Makefile.am so that we can
## use these values in the check for a functioning mpicc.
##
## We leave the MPI_FLAG_M3264_ logic in mpi/Makefile.am and assume that
## mflag_primary/mflag_secondary are sufficient approximations of that behavior

if test -z "$VGCONF_OS_IS_LINUX_TRUE"; then :
  CFLAGS_MPI="-g -O -fno-omit-frame-pointer -Wall -fpic"
            LDFLAGS_MPI="-fpic -shared"
fi

if test -z "$VGCONF_OS_IS_FREEBSD_TRUE"; then :
  CFLAGS_MPI="-g -O -fno-omit-frame-pointer -Wall -fpic"
            LDFLAGS_MPI="-fpic -shared"
fi

if test -z "$VGCONF_OS_IS_DARWIN_TRUE"; then :
  CFLAGS_MPI="-g -O -fno-omit-frame-pointer -Wall -dynamic"
            LDFLAGS_MPI="-dynamic -dynamiclib -all_load"
fi

if test -z "$VGCONF_OS_IS_SOLARIS_TRUE"; then :
  CFLAGS_MPI="-g -O -fno-omit-frame-pointer -Wall -fpic"
            LDFLAGS_MPI="-fpic -shared"
fi





## See if MPI_CC works for the primary target
##
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking primary target for usable MPI2-compliant C compiler and mpi.h" >&5
printf %s "checking primary target for usable MPI2-compliant C compiler and mpi.h... " >&6; }
saved_CC=$CC
saved_CFLAGS=$CFLAGS
CC=$MPI_CC
CFLAGS="$CFLAGS_MPI $mflag_primary"
saved_LDFLAGS="$LDFLAGS"
LDFLAGS="$LDFLAGS_MPI $mflag_primary"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <mpi.h>
#include <stdio.h>

int
main (void)
{

  int ni, na, nd, comb;
  int r = MPI_Init(NULL,NULL);
  r |= MPI_Type_get_envelope( MPI_INT, &ni, &na, &nd, &comb );
  r |= MPI_Finalize();
  return r;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

ac_have_mpi2_pri=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes, $MPI_CC" >&5
printf "%s\n" "yes, $MPI_CC" >&6; }

else $as_nop

ac_have_mpi2_pri=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
CC=$saved_CC
CFLAGS=$saved_CFLAGS
LDFLAGS="$saved_LDFLAGS"
 if test x$ac_have_mpi2_pri = xyes; then
  BUILD_MPIWRAP_PRI_TRUE=
  BUILD_MPIWRAP_PRI_FALSE='#'
else
  BUILD_MPIWRAP_PRI_TRUE='#'
  BUILD_MPIWRAP_PRI_FALSE=
fi


## See if MPI_CC works for the secondary target.  Complication: what if
## there is no secondary target?  We need this to then fail.
## Kludge this by making MPI_CC something which will surely fail in
## such a case.
##
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking secondary target for usable MPI2-compliant C compiler and mpi.h" >&5
printf %s "checking secondary target for usable MPI2-compliant C compiler and mpi.h... " >&6; }
saved_CC=$CC
saved_CFLAGS=$CFLAGS
saved_LDFLAGS="$LDFLAGS"
LDFLAGS="$LDFLAGS_MPI $mflag_secondary"
if test x$VGCONF_PLATFORM_SEC_CAPS = x ; then
  CC="$MPI_CC this will surely fail"
else
  CC=$MPI_CC
fi
CFLAGS="$CFLAGS_MPI $mflag_secondary"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <mpi.h>
#include <stdio.h>

int
main (void)
{

  int ni, na, nd, comb;
  int r = MPI_Init(NULL,NULL);
  r |= MPI_Type_get_envelope( MPI_INT, &ni, &na, &nd, &comb );
  r |= MPI_Finalize();
  return r;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

ac_have_mpi2_sec=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes, $MPI_CC" >&5
printf "%s\n" "yes, $MPI_CC" >&6; }

else $as_nop

ac_have_mpi2_sec=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
CC=$saved_CC
CFLAGS=$saved_CFLAGS
LDFLAGS="$saved_LDFLAGS"
 if test x$ac_have_mpi2_sec = xyes; then
  BUILD_MPIWRAP_SEC_TRUE=
  BUILD_MPIWRAP_SEC_FALSE='#'
else
  BUILD_MPIWRAP_SEC_TRUE='#'
  BUILD_MPIWRAP_SEC_FALSE=
fi



#----------------------------------------------------------------------------
# Other library checks
#----------------------------------------------------------------------------
# There now follow some tests for Boost, and OpenMP.  These
# tests are present because Drd has some regression tests that use
# these packages.  All regression test programs all compiled only
# for the primary target.  And so it is important that the configure
# checks that follow, use the correct -m32 or -m64 flag for the
# primary target (called $mflag_primary).  Otherwise, we can end up
# in a situation (eg) where, on amd64-linux, the test for Boost checks
# for usable 64-bit Boost facilities, but because we are doing a 32-bit
# only build (meaning, the primary target is x86-linux), the build
# of the regtest programs that use Boost fails, because they are
# build as 32-bit (IN THIS EXAMPLE).
#
# Hence: ALWAYS USE $mflag_primary FOR CONFIGURE TESTS FOR FACILITIES
# NEEDED BY THE REGRESSION TEST PROGRAMS.


# Check whether the boost library 1.35 or later has been installed.
# The Boost.Threads library has undergone a major rewrite in version 1.35.0.

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for boost" >&5
printf %s "checking for boost... " >&6; }

ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

safe_CXXFLAGS=$CXXFLAGS
CXXFLAGS="$mflag_primary"
safe_LIBS="$LIBS"
LIBS="-lboost_thread-mt -lboost_system-mt $LIBS"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <boost/thread.hpp>
static void thread_func(void)
{ }
int main(int argc, char** argv)
{
  boost::thread t(thread_func);
  return 0;
}

_ACEOF
if ac_fn_cxx_try_link "$LINENO"
then :

ac_have_boost_1_35=yes

BOOST_LIBS="-lboost_thread-mt -lboost_system-mt"

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_boost_1_35=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

LIBS="$safe_LIBS"
CXXFLAGS=$safe_CXXFLAGS
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


 if test x$ac_have_boost_1_35 = xyes; then
  HAVE_BOOST_1_35_TRUE=
  HAVE_BOOST_1_35_FALSE='#'
else
  HAVE_BOOST_1_35_TRUE='#'
  HAVE_BOOST_1_35_FALSE=
fi



# does this compiler support -fopenmp, does it have the include file
# <omp.h> and does it have libgomp ?

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for OpenMP" >&5
printf %s "checking for OpenMP... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="-fopenmp $mflag_primary -Werror"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <omp.h>
int main(int argc, char** argv)
{
  omp_set_dynamic(0);
  return 0;
}

_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

ac_have_openmp=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_have_openmp=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
CFLAGS=$safe_CFLAGS

 if test x$ac_have_openmp = xyes; then
  HAVE_OPENMP_TRUE=
  HAVE_OPENMP_FALSE='#'
else
  HAVE_OPENMP_TRUE='#'
  HAVE_OPENMP_FALSE=
fi



# Check for __builtin_popcount
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for __builtin_popcount()" >&5
printf %s "checking for __builtin_popcount()... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{

  __builtin_popcount(2);
  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_BUILTIN_POPCOUT 1" >>confdefs.h


else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

# Check for __builtin_clz
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for __builtin_clz()" >&5
printf %s "checking for __builtin_clz()... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{

  __builtin_clz(2);
  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_BUILTIN_CLZ 1" >>confdefs.h


else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

# Check for __builtin_ctz
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for __builtin_ctz()" >&5
printf %s "checking for __builtin_ctz()... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


int
main (void)
{

  __builtin_ctz(2);
  return 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_BUILTIN_CTZ 1" >>confdefs.h


else $as_nop

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

# does this compiler have built-in functions for atomic memory access for the
# primary target ?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc supports __sync_add_and_fetch for the primary target" >&5
printf %s "checking if gcc supports __sync_add_and_fetch for the primary target... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="$mflag_primary"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  int variable = 1;
  return (__sync_bool_compare_and_swap(&variable, 1, 2)
          && __sync_add_and_fetch(&variable, 1) ? 1 : 0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

  ac_have_builtin_atomic_primary=yes
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_BUILTIN_ATOMIC 1" >>confdefs.h


else $as_nop

  ac_have_builtin_atomic_primary=no
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

CFLAGS=$safe_CFLAGS

 if test x$ac_have_builtin_atomic_primary = xyes; then
  HAVE_BUILTIN_ATOMIC_TRUE=
  HAVE_BUILTIN_ATOMIC_FALSE='#'
else
  HAVE_BUILTIN_ATOMIC_TRUE='#'
  HAVE_BUILTIN_ATOMIC_FALSE=
fi



# does this compiler have built-in functions for atomic memory access for the
# secondary target ?

if test x$VGCONF_PLATFORM_SEC_CAPS != x; then

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc supports __sync_add_and_fetch for the secondary target" >&5
printf %s "checking if gcc supports __sync_add_and_fetch for the secondary target... " >&6; }

safe_CFLAGS=$CFLAGS
CFLAGS="$mflag_secondary"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  int variable = 1;
  return (__sync_add_and_fetch(&variable, 1) ? 1 : 0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

  ac_have_builtin_atomic_secondary=yes
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

  ac_have_builtin_atomic_secondary=no
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

CFLAGS=$safe_CFLAGS

fi

 if test x$ac_have_builtin_atomic_secondary = xyes; then
  HAVE_BUILTIN_ATOMIC_SECONDARY_TRUE=
  HAVE_BUILTIN_ATOMIC_SECONDARY_FALSE='#'
else
  HAVE_BUILTIN_ATOMIC_SECONDARY_TRUE='#'
  HAVE_BUILTIN_ATOMIC_SECONDARY_FALSE=
fi


# does this compiler have built-in functions for atomic memory access on
# 64-bit integers for all targets ?

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if gcc supports __sync_add_and_fetch on uint64_t for all targets" >&5
printf %s "checking if gcc supports __sync_add_and_fetch on uint64_t for all targets... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

  #include <stdint.h>

int
main (void)
{

  uint64_t variable = 1;
  return __sync_add_and_fetch(&variable, 1)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

  ac_have_builtin_atomic64_primary=yes

else $as_nop

  ac_have_builtin_atomic64_primary=no

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

if test x$VGCONF_PLATFORM_SEC_CAPS != x; then

safe_CFLAGS=$CFLAGS
CFLAGS="$mflag_secondary"

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

  #include <stdint.h>

int
main (void)
{

  uint64_t variable = 1;
  return __sync_add_and_fetch(&variable, 1)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

  ac_have_builtin_atomic64_secondary=yes

else $as_nop

  ac_have_builtin_atomic64_secondary=no

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

CFLAGS=$safe_CFLAGS

fi

if test x$ac_have_builtin_atomic64_primary = xyes && \
   test x$VGCONF_PLATFORM_SEC_CAPS = x \
     -o x$ac_have_builtin_atomic64_secondary = xyes; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
  ac_have_builtin_atomic64=yes
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
  ac_have_builtin_atomic64=no
fi

 if test x$ac_have_builtin_atomic64 = xyes; then
  HAVE_BUILTIN_ATOMIC64_TRUE=
  HAVE_BUILTIN_ATOMIC64_FALSE='#'
else
  HAVE_BUILTIN_ATOMIC64_TRUE='#'
  HAVE_BUILTIN_ATOMIC64_FALSE=
fi



{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if platform has openat2 syscall" >&5
printf %s "checking if platform has openat2 syscall... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

  #include <sys/syscall.h>

int
main (void)
{

  return __NR_openat2

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

  ac_have_openat2=yes
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

  ac_have_openat2=no
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

 if test x$ac_have_openat2 = xyes; then
  HAVE_OPENAT2_TRUE=
  HAVE_OPENAT2_FALSE='#'
else
  HAVE_OPENAT2_TRUE='#'
  HAVE_OPENAT2_FALSE=
fi


# check for crypto

safe_LIBS="$LIBS"
LIBS="-lcrypto"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if platform has openssl crypto" >&5
printf %s "checking if platform has openssl crypto... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

  #include <openssl/crypto.h>

int
main (void)
{

  CRYPTO_secure_malloc_init(1<<20, 8);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

  ac_have_openssl=yes
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

  ac_have_openssl=no
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$safe_LIBS

 if test x$ac_have_openssl = xyes; then
  HAVE_OPENSSL_TRUE=
  HAVE_OPENSSL_FALSE='#'
else
  HAVE_OPENSSL_TRUE='#'
  HAVE_OPENSSL_FALSE=
fi


{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if platform has aio_readv" >&5
printf %s "checking if platform has aio_readv... " >&6; }

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

  #include <aio.h>
  #include <stdlib.h>

int
main (void)
{

  aio_readv(NULL);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :

  ac_have_aio_readv=yes
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }


else $as_nop

  ac_have_aio_readv=no
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext

 if test x$ac_have_aio_readv = xyes; then
  HAVE_AIO_READV_TRUE=
  HAVE_AIO_READV_FALSE='#'
else
  HAVE_AIO_READV_TRUE='#'
  HAVE_AIO_READV_FALSE=
fi


# does g++ have built-in functions for atomic memory access ?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if g++ supports __sync_add_and_fetch" >&5
printf %s "checking if g++ supports __sync_add_and_fetch... " >&6; }

safe_CXXFLAGS=$CXXFLAGS
CXXFLAGS="$mflag_primary"

ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  int variable = 1;
  return (__sync_bool_compare_and_swap(&variable, 1, 2)
          && __sync_add_and_fetch(&variable, 1) ? 1 : 0)

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_link "$LINENO"
then :

  ac_have_builtin_atomic_cxx=yes
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_BUILTIN_ATOMIC_CXX 1" >>confdefs.h


else $as_nop

  ac_have_builtin_atomic_cxx=no
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


CXXFLAGS=$safe_CXXFLAGS

 if test x$ac_have_builtin_atomic_cxx = xyes; then
  HAVE_BUILTIN_ATOMIC_CXX_TRUE=
  HAVE_BUILTIN_ATOMIC_CXX_FALSE='#'
else
  HAVE_BUILTIN_ATOMIC_CXX_TRUE='#'
  HAVE_BUILTIN_ATOMIC_CXX_FALSE=
fi



if test x$ac_have_usable_linux_futex_h = xyes \
        -a x$ac_have_builtin_atomic_primary = xyes; then
  ac_enable_linux_ticket_lock_primary=yes
fi
 if test x$ac_enable_linux_ticket_lock_primary = xyes; then
  ENABLE_LINUX_TICKET_LOCK_PRIMARY_TRUE=
  ENABLE_LINUX_TICKET_LOCK_PRIMARY_FALSE='#'
else
  ENABLE_LINUX_TICKET_LOCK_PRIMARY_TRUE='#'
  ENABLE_LINUX_TICKET_LOCK_PRIMARY_FALSE=
fi


if test x$VGCONF_PLATFORM_SEC_CAPS != x \
        -a x$ac_have_usable_linux_futex_h = xyes \
        -a x$ac_have_builtin_atomic_secondary = xyes; then
  ac_enable_linux_ticket_lock_secondary=yes
fi
 if test x$ac_enable_linux_ticket_lock_secondary = xyes; then
  ENABLE_LINUX_TICKET_LOCK_SECONDARY_TRUE=
  ENABLE_LINUX_TICKET_LOCK_SECONDARY_FALSE='#'
else
  ENABLE_LINUX_TICKET_LOCK_SECONDARY_TRUE='#'
  ENABLE_LINUX_TICKET_LOCK_SECONDARY_FALSE=
fi



# does libstdc++ support annotating shared pointers ?
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if libstdc++ supports annotating shared pointers" >&5
printf %s "checking if libstdc++ supports annotating shared pointers... " >&6; }

safe_CXXFLAGS=$CXXFLAGS
CXXFLAGS="-std=c++0x"

ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

  #include <memory>

int
main (void)
{

  std::shared_ptr<int> p

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_link "$LINENO"
then :

  ac_have_shared_ptr=yes

else $as_nop

  ac_have_shared_ptr=no

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
if test x$ac_have_shared_ptr = xyes; then
  # If compilation of the program below fails because of a syntax error
  # triggered by substituting one of the annotation macros then that
  # means that libstdc++ supports these macros.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

    #define _GLIBCXX_SYNCHRONIZATION_HAPPENS_BEFORE(a) (a)----
    #define _GLIBCXX_SYNCHRONIZATION_HAPPENS_AFTER(a) (a)----
    #include <memory>

int
main (void)
{

    std::shared_ptr<int> p

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_link "$LINENO"
then :

    ac_have_shared_pointer_annotation=no
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

else $as_nop

    ac_have_shared_pointer_annotation=yes
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_SHARED_POINTER_ANNOTATION 1" >>confdefs.h


fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
else
  ac_have_shared_pointer_annotation=no
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


CXXFLAGS=$safe_CXXFLAGS

 if test x$ac_have_shared_pointer_annotation = xyes; then
  HAVE_SHARED_POINTER_ANNOTATION_TRUE=
  HAVE_SHARED_POINTER_ANNOTATION_FALSE='#'
else
  HAVE_SHARED_POINTER_ANNOTATION_TRUE='#'
  HAVE_SHARED_POINTER_ANNOTATION_FALSE=
fi


# checking for GNU libc C17 aligned_alloc
# just check glibc version rather than trying to muck around
# checking the runtime behaviour or seeing if it is a weak alias
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for AT_GNU_LIBC_C17_ALIGNED_ALLOC" >&5
printf %s "checking for AT_GNU_LIBC_C17_ALIGNED_ALLOC... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <features.h>

int
main (void)
{

#if !defined(__GLIBC__) || __GLIBC__ != 2 || !defined(__GLIBC_MINOR__) || __GLIBC_MINOR__ < 38
#error "not GNU libc 2.38 or later"
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

printf "%s\n" "#define HAVE_GNU_LIBC_C17_ALIGNED_ALLOC 1" >>confdefs.h



else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

# Check for C11 thrd_create()
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for thrd_create()" >&5
printf %s "checking for thrd_create()... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <threads.h>
int thrd_entry(void *arg) { return 0; }

int
main (void)
{
thrd_t thr; return thrd_create(&thr, thrd_entry, NULL);
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

ac_cxx_have_thrd_create=yes
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }

else $as_nop

ac_cxx_have_thrd_create=no
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }

fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

 if test x$ac_cxx_have_thrd_create = xyes; then
  HAVE_THRD_CREATE_TRUE=
  HAVE_THRD_CREATE_FALSE='#'
else
  HAVE_THRD_CREATE_TRUE='#'
  HAVE_THRD_CREATE_FALSE=
fi




#----------------------------------------------------------------------------
# Ok.  We're done checking.
#----------------------------------------------------------------------------

# Nb: VEX/Makefile is generated from Makefile.vex.in.
ac_config_files="$ac_config_files Makefile VEX/Makefile:Makefile.vex.in valgrind.spec valgrind.pc glibc-2.X.supp glibc-2.X-helgrind.supp glibc-2.X-drd.supp include/valgrind.h docs/Makefile docs/xml/vg-entities.xml tests/Makefile tests/vg_regtest perf/Makefile perf/vg_perf gdbserver_tests/Makefile gdbserver_tests/solaris/Makefile include/Makefile auxprogs/Makefile mpi/Makefile coregrind/Makefile memcheck/Makefile memcheck/tests/Makefile memcheck/tests/common/Makefile memcheck/tests/amd64/Makefile memcheck/tests/arm64/Makefile memcheck/tests/x86/Makefile memcheck/tests/linux/Makefile memcheck/tests/linux/debuginfod-check.vgtest memcheck/tests/darwin/Makefile memcheck/tests/solaris/Makefile memcheck/tests/freebsd/Makefile memcheck/tests/amd64-linux/Makefile memcheck/tests/arm64-linux/Makefile memcheck/tests/x86-linux/Makefile memcheck/tests/amd64-solaris/Makefile memcheck/tests/x86-solaris/Makefile memcheck/tests/amd64-freebsd/Makefile memcheck/tests/x86-freebsd/Makefile memcheck/tests/ppc32/Makefile memcheck/tests/ppc64/Makefile memcheck/tests/s390x/Makefile memcheck/tests/mips32/Makefile memcheck/tests/mips64/Makefile memcheck/tests/vbit-test/Makefile cachegrind/Makefile cachegrind/tests/Makefile cachegrind/tests/x86/Makefile cachegrind/cg_annotate cachegrind/cg_diff cachegrind/cg_merge callgrind/Makefile callgrind/callgrind_annotate callgrind/callgrind_control callgrind/tests/Makefile helgrind/Makefile helgrind/tests/Makefile drd/Makefile drd/scripts/download-and-build-splash2 drd/tests/Makefile massif/Makefile massif/tests/Makefile massif/ms_print dhat/Makefile dhat/tests/Makefile lackey/Makefile lackey/tests/Makefile none/Makefile none/tests/Makefile none/tests/scripts/Makefile none/tests/amd64/Makefile none/tests/ppc32/Makefile none/tests/ppc64/Makefile none/tests/x86/Makefile none/tests/arm/Makefile none/tests/arm64/Makefile none/tests/s390x/Makefile none/tests/mips32/Makefile none/tests/mips64/Makefile none/tests/nanomips/Makefile none/tests/linux/Makefile none/tests/darwin/Makefile none/tests/solaris/Makefile none/tests/freebsd/Makefile none/tests/amd64-linux/Makefile none/tests/x86-linux/Makefile none/tests/amd64-darwin/Makefile none/tests/x86-darwin/Makefile none/tests/amd64-solaris/Makefile none/tests/x86-solaris/Makefile none/tests/x86-freebsd/Makefile exp-bbv/Makefile exp-bbv/tests/Makefile exp-bbv/tests/x86/Makefile exp-bbv/tests/x86-linux/Makefile exp-bbv/tests/amd64-linux/Makefile exp-bbv/tests/ppc32-linux/Makefile exp-bbv/tests/arm-linux/Makefile shared/Makefile solaris/Makefile"

ac_config_files="$ac_config_files coregrind/link_tool_exe_linux"

ac_config_files="$ac_config_files coregrind/link_tool_exe_freebsd"

ac_config_files="$ac_config_files coregrind/link_tool_exe_darwin"

ac_config_files="$ac_config_files coregrind/link_tool_exe_solaris"

ac_config_files="$ac_config_files tests/filter_stderr_basic"

ac_config_files="$ac_config_files tests/filter_discards"

ac_config_files="$ac_config_files memcheck/tests/filter_stderr"

ac_config_files="$ac_config_files memcheck/tests/filter_dw4"

ac_config_files="$ac_config_files memcheck/tests/filter_overlaperror"

ac_config_files="$ac_config_files memcheck/tests/x86/filter_pushfpopf"

ac_config_files="$ac_config_files gdbserver_tests/filter_gdb"

ac_config_files="$ac_config_files gdbserver_tests/filter_memcheck_monitor"

ac_config_files="$ac_config_files gdbserver_tests/filter_stderr"

ac_config_files="$ac_config_files gdbserver_tests/filter_vgdb"

ac_config_files="$ac_config_files drd/tests/filter_stderr"

ac_config_files="$ac_config_files drd/tests/filter_error_count"

ac_config_files="$ac_config_files drd/tests/filter_error_summary"

ac_config_files="$ac_config_files drd/tests/filter_stderr_and_thread_no_and_offset"

ac_config_files="$ac_config_files drd/tests/filter_thread_no"

ac_config_files="$ac_config_files drd/tests/filter_xml_and_thread_no"

ac_config_files="$ac_config_files helgrind/tests/filter_stderr"

cat >confcache <<\_ACEOF
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs, see configure's option --config-cache.
# It is not useful on other systems.  If it contains results you don't
# want to keep, you may remove or edit it.
#
# config.status only pays attention to the cache file if you give it
# the --recheck option to rerun configure.
#
# `ac_cv_env_foo' variables (set or unset) will be overridden when
# loading this file, other *unset* `ac_cv_foo' will be assigned the
# following values.

_ACEOF

# The following way of writing the cache mishandles newlines in values,
# but we know of no workaround that is simple, portable, and efficient.
# So, we kill variables containing newlines.
# Ultrix sh set writes to stderr and can't be redirected directly,
# and sets the high bit in the cache file unless we assign to the vars.
(
  for ac_var in `(set) 2>&1 | sed -n 's/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'`; do
    eval ac_val=\$$ac_var
    case $ac_val in #(
    *${as_nl}*)
      case $ac_var in #(
      *_cv_*) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline" >&5
printf "%s\n" "$as_me: WARNING: cache variable $ac_var contains a newline" >&2;} ;;
      esac
      case $ac_var in #(
      _ | IFS | as_nl) ;; #(
      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
      *) { eval $ac_var=; unset $ac_var;} ;;
      esac ;;
    esac
  done

  (set) 2>&1 |
    case $as_nl`(ac_space=' '; set) 2>&1` in #(
    *${as_nl}ac_space=\ *)
      # `set' does not quote correctly, so add quotes: double-quote
      # substitution turns \\\\ into \\, and sed turns \\ into \.
      sed -n \
	"s/'/'\\\\''/g;
	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
      ;; #(
    *)
      # `set' quotes correctly as required by POSIX, so do not add quotes.
      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
      ;;
    esac |
    sort
) |
  sed '
     /^ac_cv_env_/b end
     t clear
     :clear
     s/^\([^=]*\)=\(.*[{}].*\)$/test ${\1+y} || &/
     t end
     s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
     :end' >>confcache
if diff "$cache_file" confcache >/dev/null 2>&1; then :; else
  if test -w "$cache_file"; then
    if test "x$cache_file" != "x/dev/null"; then
      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: updating cache $cache_file" >&5
printf "%s\n" "$as_me: updating cache $cache_file" >&6;}
      if test ! -f "$cache_file" || test -h "$cache_file"; then
	cat confcache >"$cache_file"
      else
        case $cache_file in #(
        */* | ?:*)
	  mv -f confcache "$cache_file"$$ &&
	  mv -f "$cache_file"$$ "$cache_file" ;; #(
        *)
	  mv -f confcache "$cache_file" ;;
	esac
      fi
    fi
  else
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: not updating unwritable cache $cache_file" >&5
printf "%s\n" "$as_me: not updating unwritable cache $cache_file" >&6;}
  fi
fi
rm -f confcache

test "x$prefix" = xNONE && prefix=$ac_default_prefix
# Let make expand exec_prefix.
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

DEFS=-DHAVE_CONFIG_H

ac_libobjs=
ac_ltlibobjs=
U=
for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
  # 1. Remove the extension, and $U if already installed.
  ac_script='s/\$U\././;s/\.o$//;s/\.obj$//'
  ac_i=`printf "%s\n" "$ac_i" | sed "$ac_script"`
  # 2. Prepend LIBOBJDIR.  When used with automake>=1.10 LIBOBJDIR
  #    will be set to the directory where LIBOBJS objects are built.
  as_fn_append ac_libobjs " \${LIBOBJDIR}$ac_i\$U.$ac_objext"
  as_fn_append ac_ltlibobjs " \${LIBOBJDIR}$ac_i"'$U.lo'
done
LIBOBJS=$ac_libobjs

LTLIBOBJS=$ac_ltlibobjs


{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking that generated files are newer than configure" >&5
printf %s "checking that generated files are newer than configure... " >&6; }
   if test -n "$am_sleep_pid"; then
     # Hide warnings about reused PIDs.
     wait $am_sleep_pid 2>/dev/null
   fi
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: done" >&5
printf "%s\n" "done" >&6; }
 if test -n "$EXEEXT"; then
  am__EXEEXT_TRUE=
  am__EXEEXT_FALSE='#'
else
  am__EXEEXT_TRUE='#'
  am__EXEEXT_FALSE=
fi

if test -z "${MAINTAINER_MODE_TRUE}" && test -z "${MAINTAINER_MODE_FALSE}"; then
  as_fn_error $? "conditional \"MAINTAINER_MODE\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${AMDEP_TRUE}" && test -z "${AMDEP_FALSE}"; then
  as_fn_error $? "conditional \"AMDEP\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${am__fastdepCC_TRUE}" && test -z "${am__fastdepCC_FALSE}"; then
  as_fn_error $? "conditional \"am__fastdepCC\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${am__fastdepCXX_TRUE}" && test -z "${am__fastdepCXX_FALSE}"; then
  as_fn_error $? "conditional \"am__fastdepCXX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${am__fastdepCCAS_TRUE}" && test -z "${am__fastdepCCAS_FALSE}"; then
  as_fn_error $? "conditional \"am__fastdepCCAS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${COMPILER_IS_CLANG_TRUE}" && test -z "${COMPILER_IS_CLANG_FALSE}"; then
  as_fn_error $? "conditional \"COMPILER_IS_CLANG\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${COMPILER_IS_ICC_TRUE}" && test -z "${COMPILER_IS_ICC_FALSE}"; then
  as_fn_error $? "conditional \"COMPILER_IS_ICC\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_ARCHS_INCLUDE_X86_TRUE}" && test -z "${VGCONF_ARCHS_INCLUDE_X86_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_ARCHS_INCLUDE_X86\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_ARCHS_INCLUDE_AMD64_TRUE}" && test -z "${VGCONF_ARCHS_INCLUDE_AMD64_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_ARCHS_INCLUDE_AMD64\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_ARCHS_INCLUDE_PPC32_TRUE}" && test -z "${VGCONF_ARCHS_INCLUDE_PPC32_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_ARCHS_INCLUDE_PPC32\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_ARCHS_INCLUDE_PPC64_TRUE}" && test -z "${VGCONF_ARCHS_INCLUDE_PPC64_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_ARCHS_INCLUDE_PPC64\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_ARCHS_INCLUDE_ARM_TRUE}" && test -z "${VGCONF_ARCHS_INCLUDE_ARM_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_ARCHS_INCLUDE_ARM\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_ARCHS_INCLUDE_ARM64_TRUE}" && test -z "${VGCONF_ARCHS_INCLUDE_ARM64_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_ARCHS_INCLUDE_ARM64\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_ARCHS_INCLUDE_S390X_TRUE}" && test -z "${VGCONF_ARCHS_INCLUDE_S390X_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_ARCHS_INCLUDE_S390X\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_ARCHS_INCLUDE_MIPS32_TRUE}" && test -z "${VGCONF_ARCHS_INCLUDE_MIPS32_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_ARCHS_INCLUDE_MIPS32\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_ARCHS_INCLUDE_MIPS64_TRUE}" && test -z "${VGCONF_ARCHS_INCLUDE_MIPS64_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_ARCHS_INCLUDE_MIPS64\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_ARCHS_INCLUDE_NANOMIPS_TRUE}" && test -z "${VGCONF_ARCHS_INCLUDE_NANOMIPS_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_ARCHS_INCLUDE_NANOMIPS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_X86_LINUX_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_X86_LINUX_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_X86_LINUX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_AMD64_LINUX_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_AMD64_LINUX_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_AMD64_LINUX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_PPC32_LINUX_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_PPC32_LINUX_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_PPC32_LINUX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_PPC64BE_LINUX_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_PPC64BE_LINUX_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_PPC64BE_LINUX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_PPC64LE_LINUX_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_PPC64LE_LINUX_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_PPC64LE_LINUX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_ARM_LINUX_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_ARM_LINUX_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_ARM_LINUX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_ARM64_LINUX_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_ARM64_LINUX_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_ARM64_LINUX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_S390X_LINUX_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_S390X_LINUX_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_S390X_LINUX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_MIPS32_LINUX_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_MIPS32_LINUX_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_MIPS32_LINUX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_MIPS64_LINUX_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_MIPS64_LINUX_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_MIPS64_LINUX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_NANOMIPS_LINUX_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_NANOMIPS_LINUX_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_NANOMIPS_LINUX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_X86_FREEBSD_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_X86_FREEBSD_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_X86_FREEBSD\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_AMD64_FREEBSD_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_AMD64_FREEBSD_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_AMD64_FREEBSD\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_ARM64_FREEBSD_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_ARM64_FREEBSD_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_ARM64_FREEBSD\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_X86_DARWIN_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_X86_DARWIN_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_X86_DARWIN\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_AMD64_DARWIN_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_AMD64_DARWIN_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_AMD64_DARWIN\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_X86_SOLARIS_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_X86_SOLARIS_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_X86_SOLARIS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATFORMS_INCLUDE_AMD64_SOLARIS_TRUE}" && test -z "${VGCONF_PLATFORMS_INCLUDE_AMD64_SOLARIS_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATFORMS_INCLUDE_AMD64_SOLARIS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_OS_IS_LINUX_TRUE}" && test -z "${VGCONF_OS_IS_LINUX_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_OS_IS_LINUX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_OS_IS_FREEBSD_TRUE}" && test -z "${VGCONF_OS_IS_FREEBSD_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_OS_IS_FREEBSD\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_OS_IS_DARWIN_TRUE}" && test -z "${VGCONF_OS_IS_DARWIN_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_OS_IS_DARWIN\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_OS_IS_SOLARIS_TRUE}" && test -z "${VGCONF_OS_IS_SOLARIS_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_OS_IS_SOLARIS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_OS_IS_DARWIN_OR_FREEBSD_TRUE}" && test -z "${VGCONF_OS_IS_DARWIN_OR_FREEBSD_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_OS_IS_DARWIN_OR_FREEBSD\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_HAVE_PLATFORM_SEC_TRUE}" && test -z "${VGCONF_HAVE_PLATFORM_SEC_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_HAVE_PLATFORM_SEC\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${GDBSCRIPTS_TRUE}" && test -z "${GDBSCRIPTS_FALSE}"; then
  as_fn_error $? "conditional \"GDBSCRIPTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${GDBSCRIPTS_TRUE}" && test -z "${GDBSCRIPTS_FALSE}"; then
  as_fn_error $? "conditional \"GDBSCRIPTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATVARIANT_IS_VANILLA_TRUE}" && test -z "${VGCONF_PLATVARIANT_IS_VANILLA_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATVARIANT_IS_VANILLA\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_PLATVARIANT_IS_ANDROID_TRUE}" && test -z "${VGCONF_PLATVARIANT_IS_ANDROID_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_PLATVARIANT_IS_ANDROID\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_AT_FDCWD_TRUE}" && test -z "${HAVE_AT_FDCWD_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_AT_FDCWD\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_GNU_STPNCPY_TRUE}" && test -z "${HAVE_GNU_STPNCPY_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_GNU_STPNCPY\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAS_ISA_2_05_TRUE}" && test -z "${HAS_ISA_2_05_FALSE}"; then
  as_fn_error $? "conditional \"HAS_ISA_2_05\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAS_ISA_2_06_TRUE}" && test -z "${HAS_ISA_2_06_FALSE}"; then
  as_fn_error $? "conditional \"HAS_ISA_2_06\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAS_ISA_2_07_TRUE}" && test -z "${HAS_ISA_2_07_FALSE}"; then
  as_fn_error $? "conditional \"HAS_ISA_2_07\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAS_ALTIVEC_TRUE}" && test -z "${HAS_ALTIVEC_FALSE}"; then
  as_fn_error $? "conditional \"HAS_ALTIVEC\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAS_VSX_TRUE}" && test -z "${HAS_VSX_FALSE}"; then
  as_fn_error $? "conditional \"HAS_VSX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAS_DFP_TRUE}" && test -z "${HAS_DFP_FALSE}"; then
  as_fn_error $? "conditional \"HAS_DFP\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_DFP_TESTS_TRUE}" && test -z "${BUILD_DFP_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_DFP_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SUPPORTS_HTM_TRUE}" && test -z "${SUPPORTS_HTM_FALSE}"; then
  as_fn_error $? "conditional \"SUPPORTS_HTM\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAS_ISA_3_00_TRUE}" && test -z "${HAS_ISA_3_00_FALSE}"; then
  as_fn_error $? "conditional \"HAS_ISA_3_00\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAS_XSCVHPDP_TRUE}" && test -z "${HAS_XSCVHPDP_FALSE}"; then
  as_fn_error $? "conditional \"HAS_XSCVHPDP\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAS_DARN_TRUE}" && test -z "${HAS_DARN_FALSE}"; then
  as_fn_error $? "conditional \"HAS_DARN\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAS_ISA_3_1_TRUE}" && test -z "${HAS_ISA_3_1_FALSE}"; then
  as_fn_error $? "conditional \"HAS_ISA_3_1\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_PTHREAD_CREATE_GLIBC_2_0_TRUE}" && test -z "${HAVE_PTHREAD_CREATE_GLIBC_2_0_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_PTHREAD_CREATE_GLIBC_2_0\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_DLINFO_RTLD_DI_TLS_MODID_TRUE}" && test -z "${HAVE_DLINFO_RTLD_DI_TLS_MODID_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_DLINFO_RTLD_DI_TLS_MODID\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_CXX17_TRUE}" && test -z "${HAVE_CXX17_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_CXX17\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${CXX_CAN_INCLUDE_THREAD_HEADER_TRUE}" && test -z "${CXX_CAN_INCLUDE_THREAD_HEADER_FALSE}"; then
  as_fn_error $? "conditional \"CXX_CAN_INCLUDE_THREAD_HEADER\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${CXX_CAN_INCLUDE_CONDITION_VARIABLE_HEADER_TRUE}" && test -z "${CXX_CAN_INCLUDE_CONDITION_VARIABLE_HEADER_FALSE}"; then
  as_fn_error $? "conditional \"CXX_CAN_INCLUDE_CONDITION_VARIABLE_HEADER\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${CXX_CAN_USE_SHARED_TIMED_MUTEX_TRUE}" && test -z "${CXX_CAN_USE_SHARED_TIMED_MUTEX_FALSE}"; then
  as_fn_error $? "conditional \"CXX_CAN_USE_SHARED_TIMED_MUTEX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${CXX_CAN_USE_TIMED_MUTEX_TRUE}" && test -z "${CXX_CAN_USE_TIMED_MUTEX_FALSE}"; then
  as_fn_error $? "conditional \"CXX_CAN_USE_TIMED_MUTEX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_NR_MEMBARRIER_TRUE}" && test -z "${HAVE_NR_MEMBARRIER_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_NR_MEMBARRIER\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${VGCONF_HAVE_ABI_TRUE}" && test -z "${VGCONF_HAVE_ABI_FALSE}"; then
  as_fn_error $? "conditional \"VGCONF_HAVE_ABI\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAS_MLONG_DOUBLE_128_TRUE}" && test -z "${HAS_MLONG_DOUBLE_128_FALSE}"; then
  as_fn_error $? "conditional \"HAS_MLONG_DOUBLE_128\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_FSIZED_DEALLOCATION_TRUE}" && test -z "${HAVE_FSIZED_DEALLOCATION_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_FSIZED_DEALLOCATION\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_ALIGNED_CXX_ALLOC_TRUE}" && test -z "${HAVE_ALIGNED_CXX_ALLOC_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_ALIGNED_CXX_ALLOC\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${DWARF4_TRUE}" && test -z "${DWARF4_FALSE}"; then
  as_fn_error $? "conditional \"DWARF4\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${GZ_ZLIB_TRUE}" && test -z "${GZ_ZLIB_FALSE}"; then
  as_fn_error $? "conditional \"GZ_ZLIB\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${GZ_ZLIB_GNU_TRUE}" && test -z "${GZ_ZLIB_GNU_FALSE}"; then
  as_fn_error $? "conditional \"GZ_ZLIB_GNU\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_NESTED_FUNCTIONS_TRUE}" && test -z "${HAVE_NESTED_FUNCTIONS_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_NESTED_FUNCTIONS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_ASM_CONSTRAINT_P_TRUE}" && test -z "${HAVE_ASM_CONSTRAINT_P_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_ASM_CONSTRAINT_P\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_ANSI_TRUE}" && test -z "${HAVE_ANSI_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_ANSI\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_SSE3_TESTS_TRUE}" && test -z "${BUILD_SSE3_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_SSE3_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_SSSE3_TESTS_TRUE}" && test -z "${BUILD_SSSE3_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_SSSE3_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_PCLMULQDQ_TESTS_TRUE}" && test -z "${BUILD_PCLMULQDQ_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_PCLMULQDQ_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_VPCLMULQDQ_TESTS_TRUE}" && test -z "${BUILD_VPCLMULQDQ_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_VPCLMULQDQ_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_FMA4_TESTS_TRUE}" && test -z "${BUILD_FMA4_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_FMA4_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_LZCNT_TESTS_TRUE}" && test -z "${BUILD_LZCNT_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_LZCNT_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_LOOPNEL_TESTS_TRUE}" && test -z "${BUILD_LOOPNEL_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_LOOPNEL_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_ADDR32_TESTS_TRUE}" && test -z "${BUILD_ADDR32_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_ADDR32_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_SSE42_TESTS_TRUE}" && test -z "${BUILD_SSE42_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_SSE42_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_AVX_TESTS_TRUE}" && test -z "${BUILD_AVX_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_AVX_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_AVX2_TESTS_TRUE}" && test -z "${BUILD_AVX2_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_AVX2_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_TSX_TESTS_TRUE}" && test -z "${BUILD_TSX_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_TSX_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_BMI_TESTS_TRUE}" && test -z "${BUILD_BMI_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_BMI_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_FMA_TESTS_TRUE}" && test -z "${BUILD_FMA_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_FMA_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_MPX_TESTS_TRUE}" && test -z "${BUILD_MPX_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_MPX_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_ADX_TESTS_TRUE}" && test -z "${BUILD_ADX_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_ADX_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_RDRAND_TESTS_TRUE}" && test -z "${BUILD_RDRAND_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_RDRAND_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_RDSEED_TESTS_TRUE}" && test -z "${BUILD_RDSEED_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_RDSEED_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_F16C_TESTS_TRUE}" && test -z "${BUILD_F16C_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_F16C_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_MOVBE_TESTS_TRUE}" && test -z "${BUILD_MOVBE_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_MOVBE_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_IFUNC_TESTS_TRUE}" && test -z "${BUILD_IFUNC_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_IFUNC_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_ARMV8_CRC_TESTS_TRUE}" && test -z "${BUILD_ARMV8_CRC_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_ARMV8_CRC_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_ARMV81_TESTS_TRUE}" && test -z "${BUILD_ARMV81_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_ARMV81_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_ARMV82_TESTS_TRUE}" && test -z "${BUILD_ARMV82_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_ARMV82_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_ARMV82_DOTPROD_TESTS_TRUE}" && test -z "${BUILD_ARMV82_DOTPROD_TESTS_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_ARMV82_DOTPROD_TESTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_SUN_STUDIO_AS_TRUE}" && test -z "${SOLARIS_SUN_STUDIO_AS_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_SUN_STUDIO_AS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_XPG_SYMBOLS_PRESENT_TRUE}" && test -z "${SOLARIS_XPG_SYMBOLS_PRESENT_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_XPG_SYMBOLS_PRESENT\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_PROC_CMDLINE_TRUE}" && test -z "${SOLARIS_PROC_CMDLINE_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_PROC_CMDLINE\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_OLD_SYSCALLS_TRUE}" && test -z "${SOLARIS_OLD_SYSCALLS_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_OLD_SYSCALLS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_LWP_SIGQUEUE_SYSCALL_TRUE}" && test -z "${SOLARIS_LWP_SIGQUEUE_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_LWP_SIGQUEUE_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_TRUE}" && test -z "${SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_TRUE}" && test -z "${SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_LWP_NAME_SYSCALL_TRUE}" && test -z "${SOLARIS_LWP_NAME_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_LWP_NAME_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_GETRANDOM_SYSCALL_TRUE}" && test -z "${SOLARIS_GETRANDOM_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_GETRANDOM_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_ZONE_DEFUNCT_TRUE}" && test -z "${SOLARIS_ZONE_DEFUNCT_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_ZONE_DEFUNCT\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_AUDITON_STAT_TRUE}" && test -z "${SOLARIS_AUDITON_STAT_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_AUDITON_STAT\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_SHM_NEW_TRUE}" && test -z "${SOLARIS_SHM_NEW_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_SHM_NEW\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_PRXREGSET_T_TRUE}" && test -z "${SOLARIS_PRXREGSET_T_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_PRXREGSET_T\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_FREALPATHAT_SYSCALL_TRUE}" && test -z "${SOLARIS_FREALPATHAT_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_FREALPATHAT_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_UUIDSYS_SYSCALL_TRUE}" && test -z "${SOLARIS_UUIDSYS_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_UUIDSYS_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_TNDB_GET_TNIP_TRUE}" && test -z "${SOLARIS_TNDB_GET_TNIP_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_TNDB_GET_TNIP\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_TSOL_CLEARANCE_TRUE}" && test -z "${SOLARIS_TSOL_CLEARANCE_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_TSOL_CLEARANCE\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_PSET_GET_NAME_TRUE}" && test -z "${SOLARIS_PSET_GET_NAME_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_PSET_GET_NAME\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_UTIMESYS_SYSCALL_TRUE}" && test -z "${SOLARIS_UTIMESYS_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_UTIMESYS_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_UTIMENSAT_SYSCALL_TRUE}" && test -z "${SOLARIS_UTIMENSAT_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_UTIMENSAT_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_SPAWN_SYSCALL_TRUE}" && test -z "${SOLARIS_SPAWN_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_SPAWN_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_MODCTL_MODNVL_TRUE}" && test -z "${SOLARIS_MODCTL_MODNVL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_MODCTL_MODNVL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE_TRUE}" && test -z "${SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_GETHRT_FASTTRAP_TRUE}" && test -z "${SOLARIS_GETHRT_FASTTRAP_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_GETHRT_FASTTRAP\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_GETZONEOFFSET_FASTTRAP_TRUE}" && test -z "${SOLARIS_GETZONEOFFSET_FASTTRAP_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_GETZONEOFFSET_FASTTRAP\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS_TRUE}" && test -z "${SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_RESERVE_SYSSTAT_ADDR_TRUE}" && test -z "${SOLARIS_RESERVE_SYSSTAT_ADDR_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_RESERVE_SYSSTAT_ADDR\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR_TRUE}" && test -z "${SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_SYSTEM_STATS_SYSCALL_TRUE}" && test -z "${SOLARIS_SYSTEM_STATS_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_SYSTEM_STATS_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_SUN_STUDIO_AS_TRUE}" && test -z "${SOLARIS_SUN_STUDIO_AS_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_SUN_STUDIO_AS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_XPG_SYMBOLS_PRESENT_TRUE}" && test -z "${SOLARIS_XPG_SYMBOLS_PRESENT_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_XPG_SYMBOLS_PRESENT\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_PROC_CMDLINE_TRUE}" && test -z "${SOLARIS_PROC_CMDLINE_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_PROC_CMDLINE\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_OLD_SYSCALLS_TRUE}" && test -z "${SOLARIS_OLD_SYSCALLS_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_OLD_SYSCALLS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_LWP_SIGQUEUE_SYSCALL_TRUE}" && test -z "${SOLARIS_LWP_SIGQUEUE_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_LWP_SIGQUEUE_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_TRUE}" && test -z "${SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_LWP_SIGQUEUE_SYSCALL_TAKES_PID\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_LWP_NAME_SYSCALL_TRUE}" && test -z "${SOLARIS_LWP_NAME_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_LWP_NAME_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_GETRANDOM_SYSCALL_TRUE}" && test -z "${SOLARIS_GETRANDOM_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_GETRANDOM_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_ZONE_DEFUNCT_TRUE}" && test -z "${SOLARIS_ZONE_DEFUNCT_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_ZONE_DEFUNCT\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_AUDITON_STAT_TRUE}" && test -z "${SOLARIS_AUDITON_STAT_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_AUDITON_STAT\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_SHM_NEW_TRUE}" && test -z "${SOLARIS_SHM_NEW_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_SHM_NEW\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_PRXREGSET_T_TRUE}" && test -z "${SOLARIS_PRXREGSET_T_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_PRXREGSET_T\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_FREALPATHAT_SYSCALL_TRUE}" && test -z "${SOLARIS_FREALPATHAT_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_FREALPATHAT_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_UUIDSYS_SYSCALL_TRUE}" && test -z "${SOLARIS_UUIDSYS_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_UUIDSYS_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_TNDB_GET_TNIP_TRUE}" && test -z "${SOLARIS_TNDB_GET_TNIP_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_TNDB_GET_TNIP\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_TSOL_CLEARANCE_TRUE}" && test -z "${SOLARIS_TSOL_CLEARANCE_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_TSOL_CLEARANCE\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_PSET_GET_NAME_TRUE}" && test -z "${SOLARIS_PSET_GET_NAME_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_PSET_GET_NAME\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_UTIMESYS_SYSCALL_TRUE}" && test -z "${SOLARIS_UTIMESYS_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_UTIMESYS_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_UTIMENSAT_SYSCALL_TRUE}" && test -z "${SOLARIS_UTIMENSAT_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_UTIMENSAT_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_SPAWN_SYSCALL_TRUE}" && test -z "${SOLARIS_SPAWN_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_SPAWN_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_MODCTL_MODNVL_TRUE}" && test -z "${SOLARIS_MODCTL_MODNVL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_MODCTL_MODNVL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE_TRUE}" && test -z "${SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_NSCD_DOOR_SYSTEM_VOLATILE\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_GETHRT_FASTTRAP_TRUE}" && test -z "${SOLARIS_GETHRT_FASTTRAP_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_GETHRT_FASTTRAP\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_GETZONEOFFSET_FASTTRAP_TRUE}" && test -z "${SOLARIS_GETZONEOFFSET_FASTTRAP_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_GETZONEOFFSET_FASTTRAP\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS_TRUE}" && test -z "${SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_EXECVE_SYSCALL_TAKES_FLAGS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_RESERVE_SYSSTAT_ADDR_TRUE}" && test -z "${SOLARIS_RESERVE_SYSSTAT_ADDR_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_RESERVE_SYSSTAT_ADDR\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR_TRUE}" && test -z "${SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_RESERVE_SYSSTAT_ZONE_ADDR\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${SOLARIS_SYSTEM_STATS_SYSCALL_TRUE}" && test -z "${SOLARIS_SYSTEM_STATS_SYSCALL_FALSE}"; then
  as_fn_error $? "conditional \"SOLARIS_SYSTEM_STATS_SYSCALL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${FREEBSD_VERS_13_PLUS_TRUE}" && test -z "${FREEBSD_VERS_13_PLUS_FALSE}"; then
  as_fn_error $? "conditional \"FREEBSD_VERS_13_PLUS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${FREEBSD_VERS_15_PLUS_TRUE}" && test -z "${FREEBSD_VERS_15_PLUS_FALSE}"; then
  as_fn_error $? "conditional \"FREEBSD_VERS_15_PLUS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${FREEBSD_VERS_13_PLUS_TRUE}" && test -z "${FREEBSD_VERS_13_PLUS_FALSE}"; then
  as_fn_error $? "conditional \"FREEBSD_VERS_13_PLUS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${FREEBSD_VERS_15_PLUS_TRUE}" && test -z "${FREEBSD_VERS_15_PLUS_FALSE}"; then
  as_fn_error $? "conditional \"FREEBSD_VERS_15_PLUS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_PTHREAD_BARRIER_TRUE}" && test -z "${HAVE_PTHREAD_BARRIER_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_PTHREAD_BARRIER\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_PTHREAD_MUTEX_TIMEDLOCK_TRUE}" && test -z "${HAVE_PTHREAD_MUTEX_TIMEDLOCK_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_PTHREAD_MUTEX_TIMEDLOCK\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_PTHREAD_SPINLOCK_TRUE}" && test -z "${HAVE_PTHREAD_SPINLOCK_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_PTHREAD_SPINLOCK\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_PTHREAD_SETNAME_NP_TRUE}" && test -z "${HAVE_PTHREAD_SETNAME_NP_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_PTHREAD_SETNAME_NP\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_COPY_FILE_RANGE_TRUE}" && test -z "${HAVE_COPY_FILE_RANGE_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_COPY_FILE_RANGE\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_PREADV_PWRITEV_TRUE}" && test -z "${HAVE_PREADV_PWRITEV_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_PREADV_PWRITEV\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_PREADV2_PWRITEV2_TRUE}" && test -z "${HAVE_PREADV2_PWRITEV2_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_PREADV2_PWRITEV2\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_SETCONTEXT_TRUE}" && test -z "${HAVE_SETCONTEXT_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_SETCONTEXT\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_SWAPCONTEXT_TRUE}" && test -z "${HAVE_SWAPCONTEXT_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_SWAPCONTEXT\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_MEMFD_CREATE_TRUE}" && test -z "${HAVE_MEMFD_CREATE_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_MEMFD_CREATE\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_GETADDRINFO_TRUE}" && test -z "${HAVE_GETADDRINFO_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_GETADDRINFO\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_CLOSE_RANGE_TRUE}" && test -z "${HAVE_CLOSE_RANGE_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_CLOSE_RANGE\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_REALLOCARRAY_TRUE}" && test -z "${HAVE_REALLOCARRAY_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_REALLOCARRAY\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_WCSNCPY_TRUE}" && test -z "${HAVE_WCSNCPY_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_WCSNCPY\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_STRLCAT_TRUE}" && test -z "${HAVE_STRLCAT_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_STRLCAT\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_STRLCPY_TRUE}" && test -z "${HAVE_STRLCPY_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_STRLCPY\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_FREE_ALIGNED_SIZED_TRUE}" && test -z "${HAVE_FREE_ALIGNED_SIZED_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_FREE_ALIGNED_SIZED\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_SBRK_TRUE}" && test -z "${HAVE_SBRK_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_SBRK\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_WCPNCPY_TRUE}" && test -z "${HAVE_WCPNCPY_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_WCPNCPY\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_WCSXFRM_TRUE}" && test -z "${HAVE_WCSXFRM_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_WCSXFRM\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_SEM_TIMEDWAIT_TRUE}" && test -z "${HAVE_SEM_TIMEDWAIT_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_SEM_TIMEDWAIT\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_SEM_CLOCKWAIT_NP_TRUE}" && test -z "${HAVE_SEM_CLOCKWAIT_NP_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_SEM_CLOCKWAIT_NP\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_MPIWRAP_PRI_TRUE}" && test -z "${BUILD_MPIWRAP_PRI_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_MPIWRAP_PRI\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${BUILD_MPIWRAP_SEC_TRUE}" && test -z "${BUILD_MPIWRAP_SEC_FALSE}"; then
  as_fn_error $? "conditional \"BUILD_MPIWRAP_SEC\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_BOOST_1_35_TRUE}" && test -z "${HAVE_BOOST_1_35_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_BOOST_1_35\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_OPENMP_TRUE}" && test -z "${HAVE_OPENMP_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_OPENMP\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_BUILTIN_ATOMIC_TRUE}" && test -z "${HAVE_BUILTIN_ATOMIC_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_BUILTIN_ATOMIC\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_BUILTIN_ATOMIC_SECONDARY_TRUE}" && test -z "${HAVE_BUILTIN_ATOMIC_SECONDARY_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_BUILTIN_ATOMIC_SECONDARY\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_BUILTIN_ATOMIC64_TRUE}" && test -z "${HAVE_BUILTIN_ATOMIC64_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_BUILTIN_ATOMIC64\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_OPENAT2_TRUE}" && test -z "${HAVE_OPENAT2_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_OPENAT2\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_OPENSSL_TRUE}" && test -z "${HAVE_OPENSSL_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_OPENSSL\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_AIO_READV_TRUE}" && test -z "${HAVE_AIO_READV_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_AIO_READV\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_BUILTIN_ATOMIC_CXX_TRUE}" && test -z "${HAVE_BUILTIN_ATOMIC_CXX_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_BUILTIN_ATOMIC_CXX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${ENABLE_LINUX_TICKET_LOCK_PRIMARY_TRUE}" && test -z "${ENABLE_LINUX_TICKET_LOCK_PRIMARY_FALSE}"; then
  as_fn_error $? "conditional \"ENABLE_LINUX_TICKET_LOCK_PRIMARY\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${ENABLE_LINUX_TICKET_LOCK_SECONDARY_TRUE}" && test -z "${ENABLE_LINUX_TICKET_LOCK_SECONDARY_FALSE}"; then
  as_fn_error $? "conditional \"ENABLE_LINUX_TICKET_LOCK_SECONDARY\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_SHARED_POINTER_ANNOTATION_TRUE}" && test -z "${HAVE_SHARED_POINTER_ANNOTATION_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_SHARED_POINTER_ANNOTATION\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${HAVE_THRD_CREATE_TRUE}" && test -z "${HAVE_THRD_CREATE_FALSE}"; then
  as_fn_error $? "conditional \"HAVE_THRD_CREATE\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi

: "${CONFIG_STATUS=./config.status}"
ac_write_fail=0
ac_clean_files_save=$ac_clean_files
ac_clean_files="$ac_clean_files $CONFIG_STATUS"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: creating $CONFIG_STATUS" >&5
printf "%s\n" "$as_me: creating $CONFIG_STATUS" >&6;}
as_write_fail=0
cat >$CONFIG_STATUS <<_ASEOF || as_write_fail=1
#! $SHELL
# Generated by $as_me.
# Run this file to recreate the current configuration.
# Compiler output produced by configure, useful for debugging
# configure, is in config.log if it exists.

debug=false
ac_cs_recheck=false
ac_cs_silent=false

SHELL=\${CONFIG_SHELL-$SHELL}
export SHELL
_ASEOF
cat >>$CONFIG_STATUS <<\_ASEOF || as_write_fail=1
## -------------------- ##
## M4sh Initialization. ##
## -------------------- ##

# Be more Bourne compatible
DUALCASE=1; export DUALCASE # for MKS sh
as_nop=:
if test ${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on ${1+"$@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@"}'='"$@"'
  setopt NO_GLOB_SUBST
else $as_nop
  case `(set -o) 2>/dev/null` in #(
  *posix*) :
    set -o posix ;; #(
  *) :
     ;;
esac
fi



# Reset variables that may have inherited troublesome values from
# the environment.

# IFS needs to be set, to space, tab, and newline, in precisely that order.
# (If _AS_PATH_WALK were called with IFS unset, it would have the
# side effect of setting IFS to empty, thus disabling word splitting.)
# Quoting is to prevent editors from complaining about space-tab.
as_nl='
'
export as_nl
IFS=" ""	$as_nl"

PS1='$ '
PS2='> '
PS4='+ '

# Ensure predictable behavior from utilities with locale-dependent output.
LC_ALL=C
export LC_ALL
LANGUAGE=C
export LANGUAGE

# We cannot yet rely on "unset" to work, but we need these variables
# to be unset--not just set to an empty or harmless value--now, to
# avoid bugs in old shells (e.g. pre-3.0 UWIN ksh).  This construct
# also avoids known problems related to "unset" and subshell syntax
# in other old shells (e.g. bash 2.01 and pdksh 5.2.14).
for as_var in BASH_ENV ENV MAIL MAILPATH CDPATH
do eval test \${$as_var+y} \
  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :
done

# Ensure that fds 0, 1, and 2 are open.
if (exec 3>&0) 2>/dev/null; then :; else exec 0</dev/null; fi
if (exec 3>&1) 2>/dev/null; then :; else exec 1>/dev/null; fi
if (exec 3>&2)            ; then :; else exec 2>/dev/null; fi

# The user is always right.
if ${PATH_SEPARATOR+false} :; then
  PATH_SEPARATOR=:
  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||
      PATH_SEPARATOR=';'
  }
fi


# Find who we are.  Look in the path if we contain no directory separator.
as_myself=
case $0 in #((
  *[\\/]* ) as_myself=$0 ;;
  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    test -r "$as_dir$0" && as_myself=$as_dir$0 && break
  done
IFS=$as_save_IFS

     ;;
esac
# We did not find ourselves, most probably we were run as `sh COMMAND'
# in which case we are not to be found in the path.
if test "x$as_myself" = x; then
  as_myself=$0
fi
if test ! -f "$as_myself"; then
  printf "%s\n" "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
  exit 1
fi



# as_fn_error STATUS ERROR [LINENO LOG_FD]
# ----------------------------------------
# Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
# provided, also output the error to LOG_FD, referencing LINENO. Then exit the
# script with STATUS, using 1 if that was 0.
as_fn_error ()
{
  as_status=$1; test $as_status -eq 0 && as_status=1
  if test "$4"; then
    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
  fi
  printf "%s\n" "$as_me: error: $2" >&2
  as_fn_exit $as_status
} # as_fn_error



# as_fn_set_status STATUS
# -----------------------
# Set $? to STATUS, without forking.
as_fn_set_status ()
{
  return $1
} # as_fn_set_status

# as_fn_exit STATUS
# -----------------
# Exit the shell with STATUS, even in a "trap 0" or "set -e" context.
as_fn_exit ()
{
  set +e
  as_fn_set_status $1
  exit $1
} # as_fn_exit

# as_fn_unset VAR
# ---------------
# Portably unset VAR.
as_fn_unset ()
{
  { eval $1=; unset $1;}
}
as_unset=as_fn_unset

# as_fn_append VAR VALUE
# ----------------------
# Append the text in VALUE to the end of the definition contained in VAR. Take
# advantage of any shell optimizations that allow amortized linear growth over
# repeated appends, instead of the typical quadratic growth present in naive
# implementations.
if (eval "as_var=1; as_var+=2; test x\$as_var = x12") 2>/dev/null
then :
  eval 'as_fn_append ()
  {
    eval $1+=\$2
  }'
else $as_nop
  as_fn_append ()
  {
    eval $1=\$$1\$2
  }
fi # as_fn_append

# as_fn_arith ARG...
# ------------------
# Perform arithmetic evaluation on the ARGs, and store the result in the
# global $as_val. Take advantage of shells that can avoid forks. The arguments
# must be portable across $(()) and expr.
if (eval "test \$(( 1 + 1 )) = 2") 2>/dev/null
then :
  eval 'as_fn_arith ()
  {
    as_val=$(( $* ))
  }'
else $as_nop
  as_fn_arith ()
  {
    as_val=`expr "$@" || test $? -eq 1`
  }
fi # as_fn_arith


if expr a : '\(a\)' >/dev/null 2>&1 &&
   test "X`expr 00001 : '.*\(...\)'`" = X001; then
  as_expr=expr
else
  as_expr=false
fi

if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
  as_basename=basename
else
  as_basename=false
fi

if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
  as_dirname=dirname
else
  as_dirname=false
fi

as_me=`$as_basename -- "$0" ||
$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X/"$0" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`

# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits


# Determine whether it's possible to make 'echo' print without a newline.
# These variables are no longer used directly by Autoconf, but are AC_SUBSTed
# for compatibility with existing Makefiles.
ECHO_C= ECHO_N= ECHO_T=
case `echo -n x` in #(((((
-n*)
  case `echo 'xy\c'` in
  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
  xy)  ECHO_C='\c';;
  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null
       ECHO_T='	';;
  esac;;
*)
  ECHO_N='-n';;
esac

# For backward compatibility with old third-party macros, we provide
# the shell variables $as_echo and $as_echo_n.  New code should use
# AS_ECHO(["message"]) and AS_ECHO_N(["message"]), respectively.
as_echo='printf %s\n'
as_echo_n='printf %s'

rm -f conf$$ conf$$.exe conf$$.file
if test -d conf$$.dir; then
  rm -f conf$$.dir/conf$$.file
else
  rm -f conf$$.dir
  mkdir conf$$.dir 2>/dev/null
fi
if (echo >conf$$.file) 2>/dev/null; then
  if ln -s conf$$.file conf$$ 2>/dev/null; then
    as_ln_s='ln -s'
    # ... but there are two gotchas:
    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
    # In both cases, we have to default to `cp -pR'.
    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
      as_ln_s='cp -pR'
  elif ln conf$$.file conf$$ 2>/dev/null; then
    as_ln_s=ln
  else
    as_ln_s='cp -pR'
  fi
else
  as_ln_s='cp -pR'
fi
rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
rmdir conf$$.dir 2>/dev/null


# as_fn_mkdir_p
# -------------
# Create "$as_dir" as a directory, including parents if necessary.
as_fn_mkdir_p ()
{

  case $as_dir in #(
  -*) as_dir=./$as_dir;;
  esac
  test -d "$as_dir" || eval $as_mkdir_p || {
    as_dirs=
    while :; do
      case $as_dir in #(
      *\'*) as_qdir=`printf "%s\n" "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #'(
      *) as_qdir=$as_dir;;
      esac
      as_dirs="'$as_qdir' $as_dirs"
      as_dir=`$as_dirname -- "$as_dir" ||
$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_dir" : 'X\(//\)[^/]' \| \
	 X"$as_dir" : 'X\(//\)$' \| \
	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X"$as_dir" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
      test -d "$as_dir" && break
    done
    test -z "$as_dirs" || eval "mkdir $as_dirs"
  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"


} # as_fn_mkdir_p
if mkdir -p . 2>/dev/null; then
  as_mkdir_p='mkdir -p "$as_dir"'
else
  test -d ./-p && rmdir ./-p
  as_mkdir_p=false
fi


# as_fn_executable_p FILE
# -----------------------
# Test if FILE is an executable regular file.
as_fn_executable_p ()
{
  test -f "$1" && test -x "$1"
} # as_fn_executable_p
as_test_x='test -x'
as_executable_p=as_fn_executable_p

# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"

# Sed expression to map a string onto a valid variable name.
as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"


exec 6>&1
## ----------------------------------- ##
## Main body of $CONFIG_STATUS script. ##
## ----------------------------------- ##
_ASEOF
test $as_write_fail = 0 && chmod +x $CONFIG_STATUS || ac_write_fail=1

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
# Save the log message, to keep $0 and so on meaningful, and to
# report actual input values of CONFIG_FILES etc. instead of their
# values after options handling.
ac_log="
This file was extended by Valgrind $as_me 3.23.0, which was
generated by GNU Autoconf 2.71.  Invocation command line was

  CONFIG_FILES    = $CONFIG_FILES
  CONFIG_HEADERS  = $CONFIG_HEADERS
  CONFIG_LINKS    = $CONFIG_LINKS
  CONFIG_COMMANDS = $CONFIG_COMMANDS
  $ $0 $@

on `(hostname || uname -n) 2>/dev/null | sed 1q`
"

_ACEOF

case $ac_config_files in *"
"*) set x $ac_config_files; shift; ac_config_files=$*;;
esac

case $ac_config_headers in *"
"*) set x $ac_config_headers; shift; ac_config_headers=$*;;
esac


cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
# Files that config.status was made for.
config_files="$ac_config_files"
config_headers="$ac_config_headers"
config_commands="$ac_config_commands"

_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
ac_cs_usage="\
\`$as_me' instantiates files and other configuration actions
from templates according to the current configuration.  Unless the files
and actions are specified as TAGs, all are instantiated by default.

Usage: $0 [OPTION]... [TAG]...

  -h, --help       print this help, then exit
  -V, --version    print version number and configuration settings, then exit
      --config     print configuration, then exit
  -q, --quiet, --silent
                   do not print progress messages
  -d, --debug      don't remove temporary files
      --recheck    update $as_me by reconfiguring in the same conditions
      --file=FILE[:TEMPLATE]
                   instantiate the configuration file FILE
      --header=FILE[:TEMPLATE]
                   instantiate the configuration header FILE

Configuration files:
$config_files

Configuration headers:
$config_headers

Configuration commands:
$config_commands

Report bugs to <valgrind-users@lists.sourceforge.net>."

_ACEOF
ac_cs_config=`printf "%s\n" "$ac_configure_args" | sed "$ac_safe_unquote"`
ac_cs_config_escaped=`printf "%s\n" "$ac_cs_config" | sed "s/^ //; s/'/'\\\\\\\\''/g"`
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
ac_cs_config='$ac_cs_config_escaped'
ac_cs_version="\\
Valgrind config.status 3.23.0
configured by $0, generated by GNU Autoconf 2.71,
  with options \\"\$ac_cs_config\\"

Copyright (C) 2021 Free Software Foundation, Inc.
This config.status script is free software; the Free Software Foundation
gives unlimited permission to copy, distribute and modify it."

ac_pwd='$ac_pwd'
srcdir='$srcdir'
INSTALL='$INSTALL'
MKDIR_P='$MKDIR_P'
AWK='$AWK'
test -n "\$AWK" || AWK=awk
_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
# The default lists apply if the user does not specify any file.
ac_need_defaults=:
while test $# != 0
do
  case $1 in
  --*=?*)
    ac_option=`expr "X$1" : 'X\([^=]*\)='`
    ac_optarg=`expr "X$1" : 'X[^=]*=\(.*\)'`
    ac_shift=:
    ;;
  --*=)
    ac_option=`expr "X$1" : 'X\([^=]*\)='`
    ac_optarg=
    ac_shift=:
    ;;
  *)
    ac_option=$1
    ac_optarg=$2
    ac_shift=shift
    ;;
  esac

  case $ac_option in
  # Handling of the options.
  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
    ac_cs_recheck=: ;;
  --version | --versio | --versi | --vers | --ver | --ve | --v | -V )
    printf "%s\n" "$ac_cs_version"; exit ;;
  --config | --confi | --conf | --con | --co | --c )
    printf "%s\n" "$ac_cs_config"; exit ;;
  --debug | --debu | --deb | --de | --d | -d )
    debug=: ;;
  --file | --fil | --fi | --f )
    $ac_shift
    case $ac_optarg in
    *\'*) ac_optarg=`printf "%s\n" "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
    '') as_fn_error $? "missing file argument" ;;
    esac
    as_fn_append CONFIG_FILES " '$ac_optarg'"
    ac_need_defaults=false;;
  --header | --heade | --head | --hea )
    $ac_shift
    case $ac_optarg in
    *\'*) ac_optarg=`printf "%s\n" "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
    esac
    as_fn_append CONFIG_HEADERS " '$ac_optarg'"
    ac_need_defaults=false;;
  --he | --h)
    # Conflict between --help and --header
    as_fn_error $? "ambiguous option: \`$1'
Try \`$0 --help' for more information.";;
  --help | --hel | -h )
    printf "%s\n" "$ac_cs_usage"; exit ;;
  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil | --si | --s)
    ac_cs_silent=: ;;

  # This is an error.
  -*) as_fn_error $? "unrecognized option: \`$1'
Try \`$0 --help' for more information." ;;

  *) as_fn_append ac_config_targets " $1"
     ac_need_defaults=false ;;

  esac
  shift
done

ac_configure_extra_args=

if $ac_cs_silent; then
  exec 6>/dev/null
  ac_configure_extra_args="$ac_configure_extra_args --silent"
fi

_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
if \$ac_cs_recheck; then
  set X $SHELL '$0' $ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
  shift
  \printf "%s\n" "running CONFIG_SHELL=$SHELL \$*" >&6
  CONFIG_SHELL='$SHELL'
  export CONFIG_SHELL
  exec "\$@"
fi

_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
exec 5>>config.log
{
  echo
  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
## Running $as_me. ##
_ASBOX
  printf "%s\n" "$ac_log"
} >&5

_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
#
# INIT-COMMANDS
#
AMDEP_TRUE="$AMDEP_TRUE" MAKE="${MAKE-make}"

_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1

# Handling of arguments.
for ac_config_target in $ac_config_targets
do
  case $ac_config_target in
    "config.h") CONFIG_HEADERS="$CONFIG_HEADERS config.h" ;;
    "depfiles") CONFIG_COMMANDS="$CONFIG_COMMANDS depfiles" ;;
    "Makefile") CONFIG_FILES="$CONFIG_FILES Makefile" ;;
    "VEX/Makefile") CONFIG_FILES="$CONFIG_FILES VEX/Makefile:Makefile.vex.in" ;;
    "valgrind.spec") CONFIG_FILES="$CONFIG_FILES valgrind.spec" ;;
    "valgrind.pc") CONFIG_FILES="$CONFIG_FILES valgrind.pc" ;;
    "glibc-2.X.supp") CONFIG_FILES="$CONFIG_FILES glibc-2.X.supp" ;;
    "glibc-2.X-helgrind.supp") CONFIG_FILES="$CONFIG_FILES glibc-2.X-helgrind.supp" ;;
    "glibc-2.X-drd.supp") CONFIG_FILES="$CONFIG_FILES glibc-2.X-drd.supp" ;;
    "include/valgrind.h") CONFIG_FILES="$CONFIG_FILES include/valgrind.h" ;;
    "docs/Makefile") CONFIG_FILES="$CONFIG_FILES docs/Makefile" ;;
    "docs/xml/vg-entities.xml") CONFIG_FILES="$CONFIG_FILES docs/xml/vg-entities.xml" ;;
    "tests/Makefile") CONFIG_FILES="$CONFIG_FILES tests/Makefile" ;;
    "tests/vg_regtest") CONFIG_FILES="$CONFIG_FILES tests/vg_regtest" ;;
    "perf/Makefile") CONFIG_FILES="$CONFIG_FILES perf/Makefile" ;;
    "perf/vg_perf") CONFIG_FILES="$CONFIG_FILES perf/vg_perf" ;;
    "gdbserver_tests/Makefile") CONFIG_FILES="$CONFIG_FILES gdbserver_tests/Makefile" ;;
    "gdbserver_tests/solaris/Makefile") CONFIG_FILES="$CONFIG_FILES gdbserver_tests/solaris/Makefile" ;;
    "include/Makefile") CONFIG_FILES="$CONFIG_FILES include/Makefile" ;;
    "auxprogs/Makefile") CONFIG_FILES="$CONFIG_FILES auxprogs/Makefile" ;;
    "mpi/Makefile") CONFIG_FILES="$CONFIG_FILES mpi/Makefile" ;;
    "coregrind/Makefile") CONFIG_FILES="$CONFIG_FILES coregrind/Makefile" ;;
    "memcheck/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/Makefile" ;;
    "memcheck/tests/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/Makefile" ;;
    "memcheck/tests/common/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/common/Makefile" ;;
    "memcheck/tests/amd64/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/amd64/Makefile" ;;
    "memcheck/tests/arm64/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/arm64/Makefile" ;;
    "memcheck/tests/x86/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/x86/Makefile" ;;
    "memcheck/tests/linux/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/linux/Makefile" ;;
    "memcheck/tests/linux/debuginfod-check.vgtest") CONFIG_FILES="$CONFIG_FILES memcheck/tests/linux/debuginfod-check.vgtest" ;;
    "memcheck/tests/darwin/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/darwin/Makefile" ;;
    "memcheck/tests/solaris/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/solaris/Makefile" ;;
    "memcheck/tests/freebsd/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/freebsd/Makefile" ;;
    "memcheck/tests/amd64-linux/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/amd64-linux/Makefile" ;;
    "memcheck/tests/arm64-linux/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/arm64-linux/Makefile" ;;
    "memcheck/tests/x86-linux/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/x86-linux/Makefile" ;;
    "memcheck/tests/amd64-solaris/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/amd64-solaris/Makefile" ;;
    "memcheck/tests/x86-solaris/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/x86-solaris/Makefile" ;;
    "memcheck/tests/amd64-freebsd/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/amd64-freebsd/Makefile" ;;
    "memcheck/tests/x86-freebsd/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/x86-freebsd/Makefile" ;;
    "memcheck/tests/ppc32/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/ppc32/Makefile" ;;
    "memcheck/tests/ppc64/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/ppc64/Makefile" ;;
    "memcheck/tests/s390x/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/s390x/Makefile" ;;
    "memcheck/tests/mips32/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/mips32/Makefile" ;;
    "memcheck/tests/mips64/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/mips64/Makefile" ;;
    "memcheck/tests/vbit-test/Makefile") CONFIG_FILES="$CONFIG_FILES memcheck/tests/vbit-test/Makefile" ;;
    "cachegrind/Makefile") CONFIG_FILES="$CONFIG_FILES cachegrind/Makefile" ;;
    "cachegrind/tests/Makefile") CONFIG_FILES="$CONFIG_FILES cachegrind/tests/Makefile" ;;
    "cachegrind/tests/x86/Makefile") CONFIG_FILES="$CONFIG_FILES cachegrind/tests/x86/Makefile" ;;
    "cachegrind/cg_annotate") CONFIG_FILES="$CONFIG_FILES cachegrind/cg_annotate" ;;
    "cachegrind/cg_diff") CONFIG_FILES="$CONFIG_FILES cachegrind/cg_diff" ;;
    "cachegrind/cg_merge") CONFIG_FILES="$CONFIG_FILES cachegrind/cg_merge" ;;
    "callgrind/Makefile") CONFIG_FILES="$CONFIG_FILES callgrind/Makefile" ;;
    "callgrind/callgrind_annotate") CONFIG_FILES="$CONFIG_FILES callgrind/callgrind_annotate" ;;
    "callgrind/callgrind_control") CONFIG_FILES="$CONFIG_FILES callgrind/callgrind_control" ;;
    "callgrind/tests/Makefile") CONFIG_FILES="$CONFIG_FILES callgrind/tests/Makefile" ;;
    "helgrind/Makefile") CONFIG_FILES="$CONFIG_FILES helgrind/Makefile" ;;
    "helgrind/tests/Makefile") CONFIG_FILES="$CONFIG_FILES helgrind/tests/Makefile" ;;
    "drd/Makefile") CONFIG_FILES="$CONFIG_FILES drd/Makefile" ;;
    "drd/scripts/download-and-build-splash2") CONFIG_FILES="$CONFIG_FILES drd/scripts/download-and-build-splash2" ;;
    "drd/tests/Makefile") CONFIG_FILES="$CONFIG_FILES drd/tests/Makefile" ;;
    "massif/Makefile") CONFIG_FILES="$CONFIG_FILES massif/Makefile" ;;
    "massif/tests/Makefile") CONFIG_FILES="$CONFIG_FILES massif/tests/Makefile" ;;
    "massif/ms_print") CONFIG_FILES="$CONFIG_FILES massif/ms_print" ;;
    "dhat/Makefile") CONFIG_FILES="$CONFIG_FILES dhat/Makefile" ;;
    "dhat/tests/Makefile") CONFIG_FILES="$CONFIG_FILES dhat/tests/Makefile" ;;
    "lackey/Makefile") CONFIG_FILES="$CONFIG_FILES lackey/Makefile" ;;
    "lackey/tests/Makefile") CONFIG_FILES="$CONFIG_FILES lackey/tests/Makefile" ;;
    "none/Makefile") CONFIG_FILES="$CONFIG_FILES none/Makefile" ;;
    "none/tests/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/Makefile" ;;
    "none/tests/scripts/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/scripts/Makefile" ;;
    "none/tests/amd64/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/amd64/Makefile" ;;
    "none/tests/ppc32/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/ppc32/Makefile" ;;
    "none/tests/ppc64/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/ppc64/Makefile" ;;
    "none/tests/x86/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/x86/Makefile" ;;
    "none/tests/arm/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/arm/Makefile" ;;
    "none/tests/arm64/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/arm64/Makefile" ;;
    "none/tests/s390x/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/s390x/Makefile" ;;
    "none/tests/mips32/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/mips32/Makefile" ;;
    "none/tests/mips64/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/mips64/Makefile" ;;
    "none/tests/nanomips/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/nanomips/Makefile" ;;
    "none/tests/linux/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/linux/Makefile" ;;
    "none/tests/darwin/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/darwin/Makefile" ;;
    "none/tests/solaris/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/solaris/Makefile" ;;
    "none/tests/freebsd/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/freebsd/Makefile" ;;
    "none/tests/amd64-linux/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/amd64-linux/Makefile" ;;
    "none/tests/x86-linux/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/x86-linux/Makefile" ;;
    "none/tests/amd64-darwin/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/amd64-darwin/Makefile" ;;
    "none/tests/x86-darwin/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/x86-darwin/Makefile" ;;
    "none/tests/amd64-solaris/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/amd64-solaris/Makefile" ;;
    "none/tests/x86-solaris/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/x86-solaris/Makefile" ;;
    "none/tests/x86-freebsd/Makefile") CONFIG_FILES="$CONFIG_FILES none/tests/x86-freebsd/Makefile" ;;
    "exp-bbv/Makefile") CONFIG_FILES="$CONFIG_FILES exp-bbv/Makefile" ;;
    "exp-bbv/tests/Makefile") CONFIG_FILES="$CONFIG_FILES exp-bbv/tests/Makefile" ;;
    "exp-bbv/tests/x86/Makefile") CONFIG_FILES="$CONFIG_FILES exp-bbv/tests/x86/Makefile" ;;
    "exp-bbv/tests/x86-linux/Makefile") CONFIG_FILES="$CONFIG_FILES exp-bbv/tests/x86-linux/Makefile" ;;
    "exp-bbv/tests/amd64-linux/Makefile") CONFIG_FILES="$CONFIG_FILES exp-bbv/tests/amd64-linux/Makefile" ;;
    "exp-bbv/tests/ppc32-linux/Makefile") CONFIG_FILES="$CONFIG_FILES exp-bbv/tests/ppc32-linux/Makefile" ;;
    "exp-bbv/tests/arm-linux/Makefile") CONFIG_FILES="$CONFIG_FILES exp-bbv/tests/arm-linux/Makefile" ;;
    "shared/Makefile") CONFIG_FILES="$CONFIG_FILES shared/Makefile" ;;
    "solaris/Makefile") CONFIG_FILES="$CONFIG_FILES solaris/Makefile" ;;
    "coregrind/link_tool_exe_linux") CONFIG_FILES="$CONFIG_FILES coregrind/link_tool_exe_linux" ;;
    "coregrind/link_tool_exe_freebsd") CONFIG_FILES="$CONFIG_FILES coregrind/link_tool_exe_freebsd" ;;
    "coregrind/link_tool_exe_darwin") CONFIG_FILES="$CONFIG_FILES coregrind/link_tool_exe_darwin" ;;
    "coregrind/link_tool_exe_solaris") CONFIG_FILES="$CONFIG_FILES coregrind/link_tool_exe_solaris" ;;
    "tests/filter_stderr_basic") CONFIG_FILES="$CONFIG_FILES tests/filter_stderr_basic" ;;
    "tests/filter_discards") CONFIG_FILES="$CONFIG_FILES tests/filter_discards" ;;
    "memcheck/tests/filter_stderr") CONFIG_FILES="$CONFIG_FILES memcheck/tests/filter_stderr" ;;
    "memcheck/tests/filter_dw4") CONFIG_FILES="$CONFIG_FILES memcheck/tests/filter_dw4" ;;
    "memcheck/tests/filter_overlaperror") CONFIG_FILES="$CONFIG_FILES memcheck/tests/filter_overlaperror" ;;
    "memcheck/tests/x86/filter_pushfpopf") CONFIG_FILES="$CONFIG_FILES memcheck/tests/x86/filter_pushfpopf" ;;
    "gdbserver_tests/filter_gdb") CONFIG_FILES="$CONFIG_FILES gdbserver_tests/filter_gdb" ;;
    "gdbserver_tests/filter_memcheck_monitor") CONFIG_FILES="$CONFIG_FILES gdbserver_tests/filter_memcheck_monitor" ;;
    "gdbserver_tests/filter_stderr") CONFIG_FILES="$CONFIG_FILES gdbserver_tests/filter_stderr" ;;
    "gdbserver_tests/filter_vgdb") CONFIG_FILES="$CONFIG_FILES gdbserver_tests/filter_vgdb" ;;
    "drd/tests/filter_stderr") CONFIG_FILES="$CONFIG_FILES drd/tests/filter_stderr" ;;
    "drd/tests/filter_error_count") CONFIG_FILES="$CONFIG_FILES drd/tests/filter_error_count" ;;
    "drd/tests/filter_error_summary") CONFIG_FILES="$CONFIG_FILES drd/tests/filter_error_summary" ;;
    "drd/tests/filter_stderr_and_thread_no_and_offset") CONFIG_FILES="$CONFIG_FILES drd/tests/filter_stderr_and_thread_no_and_offset" ;;
    "drd/tests/filter_thread_no") CONFIG_FILES="$CONFIG_FILES drd/tests/filter_thread_no" ;;
    "drd/tests/filter_xml_and_thread_no") CONFIG_FILES="$CONFIG_FILES drd/tests/filter_xml_and_thread_no" ;;
    "helgrind/tests/filter_stderr") CONFIG_FILES="$CONFIG_FILES helgrind/tests/filter_stderr" ;;

  *) as_fn_error $? "invalid argument: \`$ac_config_target'" "$LINENO" 5;;
  esac
done


# If the user did not use the arguments to specify the items to instantiate,
# then the envvar interface is used.  Set only those that are not.
# We use the long form for the default assignment because of an extremely
# bizarre bug on SunOS 4.1.3.
if $ac_need_defaults; then
  test ${CONFIG_FILES+y} || CONFIG_FILES=$config_files
  test ${CONFIG_HEADERS+y} || CONFIG_HEADERS=$config_headers
  test ${CONFIG_COMMANDS+y} || CONFIG_COMMANDS=$config_commands
fi

# Have a temporary directory for convenience.  Make it in the build tree
# simply because there is no reason against having it here, and in addition,
# creating and moving files from /tmp can sometimes cause problems.
# Hook for its removal unless debugging.
# Note that there is a small window in which the directory will not be cleaned:
# after its creation but before its name has been assigned to `$tmp'.
$debug ||
{
  tmp= ac_tmp=
  trap 'exit_status=$?
  : "${ac_tmp:=$tmp}"
  { test ! -d "$ac_tmp" || rm -fr "$ac_tmp"; } && exit $exit_status
' 0
  trap 'as_fn_exit 1' 1 2 13 15
}
# Create a (secure) tmp directory for tmp files.

{
  tmp=`(umask 077 && mktemp -d "./confXXXXXX") 2>/dev/null` &&
  test -d "$tmp"
}  ||
{
  tmp=./conf$$-$RANDOM
  (umask 077 && mkdir "$tmp")
} || as_fn_error $? "cannot create a temporary directory in ." "$LINENO" 5
ac_tmp=$tmp

# Set up the scripts for CONFIG_FILES section.
# No need to generate them if there are no CONFIG_FILES.
# This happens for instance with `./config.status config.h'.
if test -n "$CONFIG_FILES"; then


ac_cr=`echo X | tr X '\015'`
# On cygwin, bash can eat \r inside `` if the user requested igncr.
# But we know of no other shell where ac_cr would be empty at this
# point, so we can use a bashism as a fallback.
if test "x$ac_cr" = x; then
  eval ac_cr=\$\'\\r\'
fi
ac_cs_awk_cr=`$AWK 'BEGIN { print "a\rb" }' </dev/null 2>/dev/null`
if test "$ac_cs_awk_cr" = "a${ac_cr}b"; then
  ac_cs_awk_cr='\\r'
else
  ac_cs_awk_cr=$ac_cr
fi

echo 'BEGIN {' >"$ac_tmp/subs1.awk" &&
_ACEOF


{
  echo "cat >conf$$subs.awk <<_ACEOF" &&
  echo "$ac_subst_vars" | sed 's/.*/&!$&$ac_delim/' &&
  echo "_ACEOF"
} >conf$$subs.sh ||
  as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
ac_delim_num=`echo "$ac_subst_vars" | grep -c '^'`
ac_delim='%!_!# '
for ac_last_try in false false false false false :; do
  . ./conf$$subs.sh ||
    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5

  ac_delim_n=`sed -n "s/.*$ac_delim\$/X/p" conf$$subs.awk | grep -c X`
  if test $ac_delim_n = $ac_delim_num; then
    break
  elif $ac_last_try; then
    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
  else
    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
  fi
done
rm -f conf$$subs.sh

cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
cat >>"\$ac_tmp/subs1.awk" <<\\_ACAWK &&
_ACEOF
sed -n '
h
s/^/S["/; s/!.*/"]=/
p
g
s/^[^!]*!//
:repl
t repl
s/'"$ac_delim"'$//
t delim
:nl
h
s/\(.\{148\}\)..*/\1/
t more1
s/["\\]/\\&/g; s/^/"/; s/$/\\n"\\/
p
n
b repl
:more1
s/["\\]/\\&/g; s/^/"/; s/$/"\\/
p
g
s/.\{148\}//
t nl
:delim
h
s/\(.\{148\}\)..*/\1/
t more2
s/["\\]/\\&/g; s/^/"/; s/$/"/
p
b
:more2
s/["\\]/\\&/g; s/^/"/; s/$/"\\/
p
g
s/.\{148\}//
t delim
' <conf$$subs.awk | sed '
/^[^""]/{
  N
  s/\n//
}
' >>$CONFIG_STATUS || ac_write_fail=1
rm -f conf$$subs.awk
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
_ACAWK
cat >>"\$ac_tmp/subs1.awk" <<_ACAWK &&
  for (key in S) S_is_set[key] = 1
  FS = ""

}
{
  line = $ 0
  nfields = split(line, field, "@")
  substed = 0
  len = length(field[1])
  for (i = 2; i < nfields; i++) {
    key = field[i]
    keylen = length(key)
    if (S_is_set[key]) {
      value = S[key]
      line = substr(line, 1, len) "" value "" substr(line, len + keylen + 3)
      len += length(value) + length(field[++i])
      substed = 1
    } else
      len += 1 + keylen
  }

  print line
}

_ACAWK
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
if sed "s/$ac_cr//" < /dev/null > /dev/null 2>&1; then
  sed "s/$ac_cr\$//; s/$ac_cr/$ac_cs_awk_cr/g"
else
  cat
fi < "$ac_tmp/subs1.awk" > "$ac_tmp/subs.awk" \
  || as_fn_error $? "could not setup config files machinery" "$LINENO" 5
_ACEOF

# VPATH may cause trouble with some makes, so we remove sole $(srcdir),
# ${srcdir} and @srcdir@ entries from VPATH if srcdir is ".", strip leading and
# trailing colons and then remove the whole line if VPATH becomes empty
# (actually we leave an empty line to preserve line numbers).
if test "x$srcdir" = x.; then
  ac_vpsub='/^[	 ]*VPATH[	 ]*=[	 ]*/{
h
s///
s/^/:/
s/[	 ]*$/:/
s/:\$(srcdir):/:/g
s/:\${srcdir}:/:/g
s/:@srcdir@:/:/g
s/^:*//
s/:*$//
x
s/\(=[	 ]*\).*/\1/
G
s/\n//
s/^[^=]*=[	 ]*$//
}'
fi

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
fi # test -n "$CONFIG_FILES"

# Set up the scripts for CONFIG_HEADERS section.
# No need to generate them if there are no CONFIG_HEADERS.
# This happens for instance with `./config.status Makefile'.
if test -n "$CONFIG_HEADERS"; then
cat >"$ac_tmp/defines.awk" <<\_ACAWK ||
BEGIN {
_ACEOF

# Transform confdefs.h into an awk script `defines.awk', embedded as
# here-document in config.status, that substitutes the proper values into
# config.h.in to produce config.h.

# Create a delimiter string that does not exist in confdefs.h, to ease
# handling of long lines.
ac_delim='%!_!# '
for ac_last_try in false false :; do
  ac_tt=`sed -n "/$ac_delim/p" confdefs.h`
  if test -z "$ac_tt"; then
    break
  elif $ac_last_try; then
    as_fn_error $? "could not make $CONFIG_HEADERS" "$LINENO" 5
  else
    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
  fi
done

# For the awk script, D is an array of macro values keyed by name,
# likewise P contains macro parameters if any.  Preserve backslash
# newline sequences.

ac_word_re=[_$as_cr_Letters][_$as_cr_alnum]*
sed -n '
s/.\{148\}/&'"$ac_delim"'/g
t rset
:rset
s/^[	 ]*#[	 ]*define[	 ][	 ]*/ /
t def
d
:def
s/\\$//
t bsnl
s/["\\]/\\&/g
s/^ \('"$ac_word_re"'\)\(([^()]*)\)[	 ]*\(.*\)/P["\1"]="\2"\
D["\1"]=" \3"/p
s/^ \('"$ac_word_re"'\)[	 ]*\(.*\)/D["\1"]=" \2"/p
d
:bsnl
s/["\\]/\\&/g
s/^ \('"$ac_word_re"'\)\(([^()]*)\)[	 ]*\(.*\)/P["\1"]="\2"\
D["\1"]=" \3\\\\\\n"\\/p
t cont
s/^ \('"$ac_word_re"'\)[	 ]*\(.*\)/D["\1"]=" \2\\\\\\n"\\/p
t cont
d
:cont
n
s/.\{148\}/&'"$ac_delim"'/g
t clear
:clear
s/\\$//
t bsnlc
s/["\\]/\\&/g; s/^/"/; s/$/"/p
d
:bsnlc
s/["\\]/\\&/g; s/^/"/; s/$/\\\\\\n"\\/p
b cont
' <confdefs.h | sed '
s/'"$ac_delim"'/"\\\
"/g' >>$CONFIG_STATUS || ac_write_fail=1

cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
  for (key in D) D_is_set[key] = 1
  FS = ""
}
/^[\t ]*#[\t ]*(define|undef)[\t ]+$ac_word_re([\t (]|\$)/ {
  line = \$ 0
  split(line, arg, " ")
  if (arg[1] == "#") {
    defundef = arg[2]
    mac1 = arg[3]
  } else {
    defundef = substr(arg[1], 2)
    mac1 = arg[2]
  }
  split(mac1, mac2, "(") #)
  macro = mac2[1]
  prefix = substr(line, 1, index(line, defundef) - 1)
  if (D_is_set[macro]) {
    # Preserve the white space surrounding the "#".
    print prefix "define", macro P[macro] D[macro]
    next
  } else {
    # Replace #undef with comments.  This is necessary, for example,
    # in the case of _POSIX_SOURCE, which is predefined and required
    # on some systems where configure will not decide to define it.
    if (defundef == "undef") {
      print "/*", prefix defundef, macro, "*/"
      next
    }
  }
}
{ print }
_ACAWK
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
  as_fn_error $? "could not setup config headers machinery" "$LINENO" 5
fi # test -n "$CONFIG_HEADERS"


eval set X "  :F $CONFIG_FILES  :H $CONFIG_HEADERS    :C $CONFIG_COMMANDS"
shift
for ac_tag
do
  case $ac_tag in
  :[FHLC]) ac_mode=$ac_tag; continue;;
  esac
  case $ac_mode$ac_tag in
  :[FHL]*:*);;
  :L* | :C*:*) as_fn_error $? "invalid tag \`$ac_tag'" "$LINENO" 5;;
  :[FH]-) ac_tag=-:-;;
  :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
  esac
  ac_save_IFS=$IFS
  IFS=:
  set x $ac_tag
  IFS=$ac_save_IFS
  shift
  ac_file=$1
  shift

  case $ac_mode in
  :L) ac_source=$1;;
  :[FH])
    ac_file_inputs=
    for ac_f
    do
      case $ac_f in
      -) ac_f="$ac_tmp/stdin";;
      *) # Look for the file first in the build tree, then in the source tree
	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
	 # because $ac_f cannot contain `:'.
	 test -f "$ac_f" ||
	   case $ac_f in
	   [\\/$]*) false;;
	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
	   esac ||
	   as_fn_error 1 "cannot find input file: \`$ac_f'" "$LINENO" 5;;
      esac
      case $ac_f in *\'*) ac_f=`printf "%s\n" "$ac_f" | sed "s/'/'\\\\\\\\''/g"`;; esac
      as_fn_append ac_file_inputs " '$ac_f'"
    done

    # Let's still pretend it is `configure' which instantiates (i.e., don't
    # use $as_me), people would be surprised to read:
    #    /* config.h.  Generated by config.status.  */
    configure_input='Generated from '`
	  printf "%s\n" "$*" | sed 's|^[^:]*/||;s|:[^:]*/|, |g'
	`' by configure.'
    if test x"$ac_file" != x-; then
      configure_input="$ac_file.  $configure_input"
      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: creating $ac_file" >&5
printf "%s\n" "$as_me: creating $ac_file" >&6;}
    fi
    # Neutralize special characters interpreted by sed in replacement strings.
    case $configure_input in #(
    *\&* | *\|* | *\\* )
       ac_sed_conf_input=`printf "%s\n" "$configure_input" |
       sed 's/[\\\\&|]/\\\\&/g'`;; #(
    *) ac_sed_conf_input=$configure_input;;
    esac

    case $ac_tag in
    *:-:* | *:-) cat >"$ac_tmp/stdin" \
      || as_fn_error $? "could not create $ac_file" "$LINENO" 5 ;;
    esac
    ;;
  esac

  ac_dir=`$as_dirname -- "$ac_file" ||
$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$ac_file" : 'X\(//\)[^/]' \| \
	 X"$ac_file" : 'X\(//\)$' \| \
	 X"$ac_file" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X"$ac_file" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
  as_dir="$ac_dir"; as_fn_mkdir_p
  ac_builddir=.

case "$ac_dir" in
.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
*)
  ac_dir_suffix=/`printf "%s\n" "$ac_dir" | sed 's|^\.[\\/]||'`
  # A ".." for each directory in $ac_dir_suffix.
  ac_top_builddir_sub=`printf "%s\n" "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
  case $ac_top_builddir_sub in
  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
  esac ;;
esac
ac_abs_top_builddir=$ac_pwd
ac_abs_builddir=$ac_pwd$ac_dir_suffix
# for backward compatibility:
ac_top_builddir=$ac_top_build_prefix

case $srcdir in
  .)  # We are building in place.
    ac_srcdir=.
    ac_top_srcdir=$ac_top_builddir_sub
    ac_abs_top_srcdir=$ac_pwd ;;
  [\\/]* | ?:[\\/]* )  # Absolute name.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir
    ac_abs_top_srcdir=$srcdir ;;
  *) # Relative name.
    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_build_prefix$srcdir
    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
esac
ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix


  case $ac_mode in
  :F)
  #
  # CONFIG_FILE
  #

  case $INSTALL in
  [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
  *) ac_INSTALL=$ac_top_build_prefix$INSTALL ;;
  esac
  ac_MKDIR_P=$MKDIR_P
  case $MKDIR_P in
  [\\/$]* | ?:[\\/]* ) ;;
  */*) ac_MKDIR_P=$ac_top_build_prefix$MKDIR_P ;;
  esac
_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
# If the template does not know about datarootdir, expand it.
# FIXME: This hack should be removed a few years after 2.60.
ac_datarootdir_hack=; ac_datarootdir_seen=
ac_sed_dataroot='
/datarootdir/ {
  p
  q
}
/@datadir@/p
/@docdir@/p
/@infodir@/p
/@localedir@/p
/@mandir@/p'
case `eval "sed -n \"\$ac_sed_dataroot\" $ac_file_inputs"` in
*datarootdir*) ac_datarootdir_seen=yes;;
*@datadir@*|*@docdir@*|*@infodir@*|*@localedir@*|*@mandir@*)
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&5
printf "%s\n" "$as_me: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&2;}
_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
  ac_datarootdir_hack='
  s&@datadir@&$datadir&g
  s&@docdir@&$docdir&g
  s&@infodir@&$infodir&g
  s&@localedir@&$localedir&g
  s&@mandir@&$mandir&g
  s&\\\${datarootdir}&$datarootdir&g' ;;
esac
_ACEOF

# Neutralize VPATH when `$srcdir' = `.'.
# Shell code in configure.ac might set extrasub.
# FIXME: do we really want to maintain this feature?
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
ac_sed_extra="$ac_vpsub
$extrasub
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
:t
/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
s|@configure_input@|$ac_sed_conf_input|;t t
s&@top_builddir@&$ac_top_builddir_sub&;t t
s&@top_build_prefix@&$ac_top_build_prefix&;t t
s&@srcdir@&$ac_srcdir&;t t
s&@abs_srcdir@&$ac_abs_srcdir&;t t
s&@top_srcdir@&$ac_top_srcdir&;t t
s&@abs_top_srcdir@&$ac_abs_top_srcdir&;t t
s&@builddir@&$ac_builddir&;t t
s&@abs_builddir@&$ac_abs_builddir&;t t
s&@abs_top_builddir@&$ac_abs_top_builddir&;t t
s&@INSTALL@&$ac_INSTALL&;t t
s&@MKDIR_P@&$ac_MKDIR_P&;t t
$ac_datarootdir_hack
"
eval sed \"\$ac_sed_extra\" "$ac_file_inputs" | $AWK -f "$ac_tmp/subs.awk" \
  >$ac_tmp/out || as_fn_error $? "could not create $ac_file" "$LINENO" 5

test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
  { ac_out=`sed -n '/\${datarootdir}/p' "$ac_tmp/out"`; test -n "$ac_out"; } &&
  { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' \
      "$ac_tmp/out"`; test -z "$ac_out"; } &&
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable \`datarootdir'
which seems to be undefined.  Please make sure it is defined" >&5
printf "%s\n" "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
which seems to be undefined.  Please make sure it is defined" >&2;}

  rm -f "$ac_tmp/stdin"
  case $ac_file in
  -) cat "$ac_tmp/out" && rm -f "$ac_tmp/out";;
  *) rm -f "$ac_file" && mv "$ac_tmp/out" "$ac_file";;
  esac \
  || as_fn_error $? "could not create $ac_file" "$LINENO" 5
 ;;
  :H)
  #
  # CONFIG_HEADER
  #
  if test x"$ac_file" != x-; then
    {
      printf "%s\n" "/* $configure_input  */" >&1 \
      && eval '$AWK -f "$ac_tmp/defines.awk"' "$ac_file_inputs"
    } >"$ac_tmp/config.h" \
      || as_fn_error $? "could not create $ac_file" "$LINENO" 5
    if diff "$ac_file" "$ac_tmp/config.h" >/dev/null 2>&1; then
      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: $ac_file is unchanged" >&5
printf "%s\n" "$as_me: $ac_file is unchanged" >&6;}
    else
      rm -f "$ac_file"
      mv "$ac_tmp/config.h" "$ac_file" \
	|| as_fn_error $? "could not create $ac_file" "$LINENO" 5
    fi
  else
    printf "%s\n" "/* $configure_input  */" >&1 \
      && eval '$AWK -f "$ac_tmp/defines.awk"' "$ac_file_inputs" \
      || as_fn_error $? "could not create -" "$LINENO" 5
  fi
# Compute "$ac_file"'s index in $config_headers.
_am_arg="$ac_file"
_am_stamp_count=1
for _am_header in $config_headers :; do
  case $_am_header in
    $_am_arg | $_am_arg:* )
      break ;;
    * )
      _am_stamp_count=`expr $_am_stamp_count + 1` ;;
  esac
done
echo "timestamp for $_am_arg" >`$as_dirname -- "$_am_arg" ||
$as_expr X"$_am_arg" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$_am_arg" : 'X\(//\)[^/]' \| \
	 X"$_am_arg" : 'X\(//\)$' \| \
	 X"$_am_arg" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X"$_am_arg" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`/stamp-h$_am_stamp_count
 ;;

  :C)  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: executing $ac_file commands" >&5
printf "%s\n" "$as_me: executing $ac_file commands" >&6;}
 ;;
  esac


  case $ac_file$ac_mode in
    "depfiles":C) test x"$AMDEP_TRUE" != x"" || {
  # Older Autoconf quotes --file arguments for eval, but not when files
  # are listed without --file.  Let's play safe and only enable the eval
  # if we detect the quoting.
  # TODO: see whether this extra hack can be removed once we start
  # requiring Autoconf 2.70 or later.
  case $CONFIG_FILES in #(
  *\'*) :
    eval set x "$CONFIG_FILES" ;; #(
  *) :
    set x $CONFIG_FILES ;; #(
  *) :
     ;;
esac
  shift
  # Used to flag and report bootstrapping failures.
  am_rc=0
  for am_mf
  do
    # Strip MF so we end up with the name of the file.
    am_mf=`printf "%s\n" "$am_mf" | sed -e 's/:.*$//'`
    # Check whether this is an Automake generated Makefile which includes
    # dependency-tracking related rules and includes.
    # Grep'ing the whole file directly is not great: AIX grep has a line
    # limit of 2048, but all sed's we know have understand at least 4000.
    sed -n 's,^am--depfiles:.*,X,p' "$am_mf" | grep X >/dev/null 2>&1 \
      || continue
    am_dirpart=`$as_dirname -- "$am_mf" ||
$as_expr X"$am_mf" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$am_mf" : 'X\(//\)[^/]' \| \
	 X"$am_mf" : 'X\(//\)$' \| \
	 X"$am_mf" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X"$am_mf" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
    am_filepart=`$as_basename -- "$am_mf" ||
$as_expr X/"$am_mf" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$am_mf" : 'X\(//\)$' \| \
	 X"$am_mf" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X/"$am_mf" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
    { echo "$as_me:$LINENO: cd "$am_dirpart" \
      && sed -e '/# am--include-marker/d' "$am_filepart" \
        | $MAKE -f - am--depfiles" >&5
   (cd "$am_dirpart" \
      && sed -e '/# am--include-marker/d' "$am_filepart" \
        | $MAKE -f - am--depfiles) >&5 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } || am_rc=$?
  done
  if test $am_rc -ne 0; then
    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "Something went wrong bootstrapping makefile fragments
    for automatic dependency tracking.  If GNU make was not used, consider
    re-running the configure script with MAKE=\"gmake\" (or whatever is
    necessary).  You can also try re-running configure with the
    '--disable-dependency-tracking' option to at least be able to build
    the package (albeit without support for automatic dependency tracking).
See \`config.log' for more details" "$LINENO" 5; }
  fi
  { am_dirpart=; unset am_dirpart;}
  { am_filepart=; unset am_filepart;}
  { am_mf=; unset am_mf;}
  { am_rc=; unset am_rc;}
  rm -f conftest-deps.mk
}
 ;;
    "coregrind/link_tool_exe_linux":F) chmod +x coregrind/link_tool_exe_linux ;;
    "coregrind/link_tool_exe_freebsd":F) chmod +x coregrind/link_tool_exe_freebsd ;;
    "coregrind/link_tool_exe_darwin":F) chmod +x coregrind/link_tool_exe_darwin ;;
    "coregrind/link_tool_exe_solaris":F) chmod +x coregrind/link_tool_exe_solaris ;;
    "tests/filter_stderr_basic":F) chmod +x tests/filter_stderr_basic ;;
    "tests/filter_discards":F) chmod +x tests/filter_discards ;;
    "memcheck/tests/filter_stderr":F) chmod +x memcheck/tests/filter_stderr ;;
    "memcheck/tests/filter_dw4":F) chmod +x memcheck/tests/filter_dw4 ;;
    "memcheck/tests/filter_overlaperror":F) chmod +x memcheck/tests/filter_overlaperror ;;
    "memcheck/tests/x86/filter_pushfpopf":F) chmod +x memcheck/tests/x86/filter_pushfpopf ;;
    "gdbserver_tests/filter_gdb":F) chmod +x gdbserver_tests/filter_gdb ;;
    "gdbserver_tests/filter_memcheck_monitor":F) chmod +x gdbserver_tests/filter_memcheck_monitor ;;
    "gdbserver_tests/filter_stderr":F) chmod +x gdbserver_tests/filter_stderr ;;
    "gdbserver_tests/filter_vgdb":F) chmod +x gdbserver_tests/filter_vgdb ;;
    "drd/tests/filter_stderr":F) chmod +x drd/tests/filter_stderr ;;
    "drd/tests/filter_error_count":F) chmod +x drd/tests/filter_error_count ;;
    "drd/tests/filter_error_summary":F) chmod +x drd/tests/filter_error_summary ;;
    "drd/tests/filter_stderr_and_thread_no_and_offset":F) chmod +x drd/tests/filter_stderr_and_thread_no_and_offset ;;
    "drd/tests/filter_thread_no":F) chmod +x drd/tests/filter_thread_no ;;
    "drd/tests/filter_xml_and_thread_no":F) chmod +x drd/tests/filter_xml_and_thread_no ;;
    "helgrind/tests/filter_stderr":F) chmod +x helgrind/tests/filter_stderr ;;

  esac
done # for ac_tag


as_fn_exit 0
_ACEOF
ac_clean_files=$ac_clean_files_save

test $ac_write_fail = 0 ||
  as_fn_error $? "write failure creating $CONFIG_STATUS" "$LINENO" 5


# configure is writing to config.log, and then calls config.status.
# config.status does its own redirection, appending to config.log.
# Unfortunately, on DOS this fails, as config.log is still kept open
# by configure, so config.status won't be able to write to it; its
# output is simply discarded.  So we exec the FD to /dev/null,
# effectively closing config.log, so it can be properly (re)opened and
# appended to by config.status.  When coming back to configure, we
# need to make the FD available again.
if test "$no_create" != yes; then
  ac_cs_success=:
  ac_config_status_args=
  test "$silent" = yes &&
    ac_config_status_args="$ac_config_status_args --quiet"
  exec 5>/dev/null
  $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
  exec 5>>config.log
  # Use ||, not &&, to avoid exiting from the if with $? = 1, which
  # would make configure fail if this is the last instruction.
  $ac_cs_success || as_fn_exit 1
fi
if test -n "$ac_unrecognized_opts" && test "$enable_option_checking" != no; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: unrecognized options: $ac_unrecognized_opts" >&5
printf "%s\n" "$as_me: WARNING: unrecognized options: $ac_unrecognized_opts" >&2;}
fi


cat<<EOF

                    Version: ${VERSION}
         Maximum build arch: ${ARCH_MAX}
         Primary build arch: ${VGCONF_ARCH_PRI}
       Secondary build arch: ${VGCONF_ARCH_SEC}
                   Build OS: ${VGCONF_OS}
     Link Time Optimisation: ${vg_cv_lto}
       Primary build target: ${VGCONF_PLATFORM_PRI_CAPS}
     Secondary build target: ${VGCONF_PLATFORM_SEC_CAPS}
           Platform variant: ${VGCONF_PLATVARIANT}
      Primary -DVGPV string: -DVGPV_${VGCONF_ARCH_PRI}_${VGCONF_OS}_${VGCONF_PLATVARIANT}=1
         Default supp files: ${DEFAULT_SUPP}

EOF

